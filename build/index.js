(()=>{var Pp=Object.create;var Rc=Object.defineProperty;var Lp=Object.getOwnPropertyDescriptor;var Dp=Object.getOwnPropertyNames;var Bp=Object.getPrototypeOf,Np=Object.prototype.hasOwnProperty;var Po=(C,d)=>()=>(d||C((d={exports:{}}).exports,d),d.exports);var Ip=(C,d,x,T)=>{if(d&&typeof d=="object"||typeof d=="function")for(let N of Dp(d))!Np.call(C,N)&&N!==x&&Rc(C,N,{get:()=>d[N],enumerable:!(T=Lp(d,N))||T.enumerable});return C};var Lo=(C,d,x)=>(x=C!=null?Pp(Bp(C)):{},Ip(d||!C||!C.__esModule?Rc(x,"default",{value:C,enumerable:!0}):x,C));var zc=Po((en,Gl)=>{(function(C,d){typeof en=="object"&&typeof Gl=="object"?(C._Highcharts=d(),Gl.exports=C._Highcharts):typeof define=="function"&&define.amd?define("highcharts/highcharts",[],d):typeof en=="object"?(C._Highcharts=d(),en.highcharts=C._Highcharts):(C.Highcharts&&C.Highcharts.error(16,!0),C.Highcharts=d())})(typeof window>"u"?en:window,()=>(()=>{"use strict";let C,d;var x,T,N,q,tt,ut,ct,kt,zt,At,gt,Ht,me,Ee,qe,Ne,xt,Me={};Me.d=(h,t)=>{for(var e in t)Me.o(t,e)&&!Me.o(h,e)&&Object.defineProperty(h,e,{enumerable:!0,get:t[e]})},Me.o=(h,t)=>Object.prototype.hasOwnProperty.call(h,t);var pt={};Me.d(pt,{default:()=>Op}),function(h){h.SVG_NS="http://www.w3.org/2000/svg",h.product="Highcharts",h.version="12.1.2",h.win=typeof window<"u"?window:{},h.doc=h.win.document,h.svg=h.doc&&h.doc.createElementNS&&!!h.doc.createElementNS(h.SVG_NS,"svg").createSVGRect,h.pageLang=h.doc?.documentElement?.closest("[lang]")?.lang,h.userAgent=h.win.navigator&&h.win.navigator.userAgent||"",h.isChrome=h.win.chrome,h.isFirefox=h.userAgent.indexOf("Firefox")!==-1,h.isMS=/(edge|msie|trident)/i.test(h.userAgent)&&!h.win.opera,h.isSafari=!h.isChrome&&h.userAgent.indexOf("Safari")!==-1,h.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(h.userAgent),h.isWebKit=h.userAgent.indexOf("AppleWebKit")!==-1,h.deg2rad=2*Math.PI/360,h.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],h.noop=function(){},h.supportsPassiveEvents=function(){let t=!1;if(!h.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});h.win.addEventListener&&h.win.removeEventListener&&(h.win.addEventListener("testPassive",h.noop,e),h.win.removeEventListener("testPassive",h.noop,e))}return t}(),h.charts=[],h.composed=[],h.dateFormats={},h.seriesTypes={},h.symbolSizes={},h.chartCount=0}(x||(x={}));let R=x,{charts:Pt,doc:Ut,win:_e}=R;function hi(h,t,e,i){let s=t?"Highcharts error":"Highcharts warning";h===32&&(h=`${s}: Deprecated member`);let r=Ri(h),n=r?`${s} #${h}: www.highcharts.com/errors/${h}/`:h.toString();if(i!==void 0){let o="";r&&(n+="?"),Wt(i,function(l,c){o+=`
 - ${c}: ${l}`,r&&(n+=encodeURI(c)+"="+encodeURI(l))}),n+=o}or(R,"displayError",{chart:e,code:h,message:n,params:i},function(){if(t)throw Error(n);_e.console&&hi.messages.indexOf(n)===-1&&console.warn(n)}),hi.messages.push(n)}function er(h,t){return parseInt(h,t||10)}function ci(h){return typeof h=="string"}function Xt(h){let t=Object.prototype.toString.call(h);return t==="[object Array]"||t==="[object Array Iterator]"}function di(h,t){return!!h&&typeof h=="object"&&(!t||!Xt(h))}function ui(h){return di(h)&&typeof h.nodeType=="number"}function hn(h){let t=h&&h.constructor;return!!(di(h,!0)&&!ui(h)&&t&&t.name&&t.name!=="Object")}function Ri(h){return typeof h=="number"&&!isNaN(h)&&h<1/0&&h>-1/0}function Ie(h){return h!=null}function zi(h,t,e){let i,s=ci(t)&&!Ie(e),r=(n,o)=>{Ie(n)?h.setAttribute(o,n):s?(i=h.getAttribute(o))||o!=="class"||(i=h.getAttribute(o+"Name")):h.removeAttribute(o)};return ci(t)?r(e,t):Wt(t,r),i}function ir(h){return Xt(h)?h:[h]}function pi(h,t){let e;for(e in h||(h={}),t)h[e]=t[e];return h}function Fe(){let h=arguments,t=h.length;for(let e=0;e<t;e++){let i=h[e];if(i!=null)return i}}function os(h,t){pi(h.style,t)}function sr(h){return Math.pow(10,Math.floor(Math.log(h)/Math.LN10))}function rr(h,t){return h>1e14?h:parseFloat(h.toPrecision(t||14))}(hi||(hi={})).messages=[],Math.easeInOutSine=function(h){return-.5*(Math.cos(Math.PI*h)-1)};let cn=Array.prototype.find?function(h,t){return h.find(t)}:function(h,t){let e,i=h.length;for(e=0;e<i;e++)if(t(h[e],e))return h[e]};function Wt(h,t,e){for(let i in h)Object.hasOwnProperty.call(h,i)&&t.call(e||h[i],h[i],i,h)}function nr(h,t,e){function i(n,o){let l=h.removeEventListener;l&&l.call(h,n,o,!1)}function s(n){let o,l;h.nodeName&&(t?(o={})[t]=!0:o=n,Wt(o,function(c,g){if(n[g])for(l=n[g].length;l--;)i(g,n[g][l].fn)}))}let r=typeof h=="function"&&h.prototype||h;if(Object.hasOwnProperty.call(r,"hcEvents")){let n=r.hcEvents;if(t){let o=n[t]||[];e?(n[t]=o.filter(function(l){return e!==l.fn}),i(t,e)):(s(n),n[t]=[])}else s(n),delete r.hcEvents}}function or(h,t,e,i){if(e=e||{},Ut.createEvent&&(h.dispatchEvent||h.fireEvent&&h!==R)){let s=Ut.createEvent("Events");s.initEvent(t,!0,!0),e=pi(s,e),h.dispatchEvent?h.dispatchEvent(e):h.fireEvent(t,e)}else if(h.hcEvents){e.target||pi(e,{preventDefault:function(){e.defaultPrevented=!0},target:h,type:t});let s=[],r=h,n=!1;for(;r.hcEvents;)Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents[t]&&(s.length&&(n=!0),s.unshift.apply(s,r.hcEvents[t])),r=Object.getPrototypeOf(r);n&&s.sort((o,l)=>o.order-l.order),s.forEach(o=>{o.fn.call(h,e)===!1&&e.preventDefault()})}i&&!e.defaultPrevented&&i.call(h,e)}let ar=function(){let h=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(C?"":h)+t++}}();_e.jQuery&&(_e.jQuery.fn.highcharts=function(){let h=[].slice.call(arguments);if(this[0])return h[0]?(new R[ci(h[0])?h.shift():"Chart"](this[0],h[0],h[1]),this):Pt[zi(this[0],"data-highcharts-chart")]});let st={addEvent:function(h,t,e,i={}){let s=typeof h=="function"&&h.prototype||h;Object.hasOwnProperty.call(s,"hcEvents")||(s.hcEvents={});let r=s.hcEvents;R.Point&&h instanceof R.Point&&h.series&&h.series.chart&&(h.series.chart.runTrackerClick=!0);let n=h.addEventListener;n&&n.call(h,t,e,!!R.supportsPassiveEvents&&{passive:i.passive===void 0?t.indexOf("touch")!==-1:i.passive,capture:!1}),r[t]||(r[t]=[]);let o={fn:e,order:typeof i.order=="number"?i.order:1/0};return r[t].push(o),r[t].sort((l,c)=>l.order-c.order),function(){nr(h,t,e)}},arrayMax:function(h){let t=h.length,e=h[0];for(;t--;)h[t]>e&&(e=h[t]);return e},arrayMin:function(h){let t=h.length,e=h[0];for(;t--;)h[t]<e&&(e=h[t]);return e},attr:zi,clamp:function(h,t,e){return h>t?h<e?h:e:t},clearTimeout:function(h){Ie(h)&&clearTimeout(h)},correctFloat:rr,createElement:function(h,t,e,i,s){let r=Ut.createElement(h);return t&&pi(r,t),s&&os(r,{padding:"0",border:"none",margin:"0"}),e&&os(r,e),i&&i.appendChild(r),r},crisp:function(h,t=0,e){let i=t%2/2,s=e?-1:1;return(Math.round(h*s-i)+i)*s},css:os,defined:Ie,destroyObjectProperties:function(h,t,e){Wt(h,function(i,s){i!==t&&i?.destroy&&i.destroy(),(i?.destroy||!e)&&delete h[s]})},diffObjects:function(h,t,e,i){let s={};return function r(n,o,l,c){let g=e?o:n;Wt(n,function(p,b){if(!c&&i&&i.indexOf(b)>-1&&o[b]){p=ir(p),l[b]=[];for(let y=0;y<Math.max(p.length,o[b].length);y++)o[b][y]&&(p[y]===void 0?l[b][y]=o[b][y]:(l[b][y]={},r(p[y],o[b][y],l[b][y],c+1)))}else di(p,!0)&&!p.nodeType?(l[b]=Xt(p)?[]:{},r(p,o[b]||{},l[b],c+1),Object.keys(l[b]).length!==0||b==="colorAxis"&&c===0||delete l[b]):(n[b]!==o[b]||b in n&&!(b in o))&&b!=="__proto__"&&b!=="constructor"&&(l[b]=g[b])})}(h,t,s,0),s},discardElement:function(h){h&&h.parentElement&&h.parentElement.removeChild(h)},erase:function(h,t){let e=h.length;for(;e--;)if(h[e]===t){h.splice(e,1);break}},error:hi,extend:pi,extendClass:function(h,t){let e=function(){};return e.prototype=new h,pi(e.prototype,t),e},find:cn,fireEvent:or,getAlignFactor:(h="")=>({center:.5,right:1,middle:.5,bottom:1})[h]||0,getClosestDistance:function(h,t){let e,i,s,r,n=!t;return h.forEach(o=>{if(o.length>1)for(r=i=o.length-1;r>0;r--)(s=o[r]-o[r-1])<0&&!n?(t?.(),t=void 0):s&&(e===void 0||s<e)&&(e=s)}),e},getMagnitude:sr,getNestedProperty:function(h,t){let e=h.split(".");for(;e.length&&Ie(t);){let i=e.shift();if(i===void 0||i==="__proto__")return;if(i==="this"){let r;return di(t)&&(r=t["@this"]),r??t}let s=t[i.replace(/[\\'"]/g,"")];if(!Ie(s)||typeof s=="function"||typeof s.nodeType=="number"||s===_e)return;t=s}return t},getStyle:function h(t,e,i){let s;if(e==="width"){let n=Math.min(t.offsetWidth,t.scrollWidth),o=t.getBoundingClientRect&&t.getBoundingClientRect().width;return o<n&&o>=n-1&&(n=Math.floor(o)),Math.max(0,n-(h(t,"padding-left",!0)||0)-(h(t,"padding-right",!0)||0))}if(e==="height")return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(h(t,"padding-top",!0)||0)-(h(t,"padding-bottom",!0)||0));let r=_e.getComputedStyle(t,void 0);return r&&(s=r.getPropertyValue(e),Fe(i,e!=="opacity")&&(s=er(s))),s},insertItem:function(h,t){let e,i=h.options.index,s=t.length;for(e=h.options.isInternal?s:0;e<s+1;e++)if(!t[e]||Ri(i)&&i<Fe(t[e].options.index,t[e]._i)||t[e].options.isInternal){t.splice(e,0,h);break}return e},isArray:Xt,isClass:hn,isDOMElement:ui,isFunction:function(h){return typeof h=="function"},isNumber:Ri,isObject:di,isString:ci,merge:function(h,...t){let e,i=[h,...t],s={},r=function(o,l){return typeof o!="object"&&(o={}),Wt(l,function(c,g){g!=="__proto__"&&g!=="constructor"&&(!di(c,!0)||hn(c)||ui(c)?o[g]=l[g]:o[g]=r(o[g]||{},c))}),o};h===!0&&(s=i[1],i=Array.prototype.slice.call(i,2));let n=i.length;for(e=0;e<n;e++)s=r(s,i[e]);return s},normalizeTickInterval:function(h,t,e,i,s){let r,n=h;e=Fe(e,sr(h));let o=h/e;for(!t&&(t=s?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],i===!1&&(e===1?t=t.filter(function(l){return l%1==0}):e<=.1&&(t=[1/e]))),r=0;r<t.length&&(n=t[r],(!s||!(n*e>=h))&&(s||!(o<=(t[r]+(t[r+1]||t[r]))/2)));r++);return rr(n*e,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Wt,offset:function(h){let t=Ut.documentElement,e=h.parentElement||h.parentNode?h.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:e.top+(_e.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(_e.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}},pad:function(h,t,e){return Array((t||2)+1-String(h).replace("-","").length).join(e||"0")+h},pick:Fe,pInt:er,pushUnique:function(h,t){return 0>h.indexOf(t)&&!!h.push(t)},relativeLength:function(h,t,e){return/%$/.test(h)?t*parseFloat(h)/100+(e||0):parseFloat(h)},removeEvent:nr,replaceNested:function(h,...t){let e,i;do for(i of(e=h,t))h=h.replace(i[0],i[1]);while(h!==e);return h},splat:ir,stableSort:function(h,t){let e,i,s=h.length;for(i=0;i<s;i++)h[i].safeI=i;for(h.sort(function(r,n){return(e=t(r,n))===0?r.safeI-n.safeI:e}),i=0;i<s;i++)delete h[i].safeI},syncTimeout:function(h,t,e){return t>0?setTimeout(h,t,e):(h.call(0,e),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(h){return ci(h)?h.substring(0,1).toUpperCase()+h.substring(1):String(h)},uniqueKey:ar,useSerialIds:function(h){return C=Fe(h,C)},wrap:function(h,t,e){let i=h[t];h[t]=function(){let s=arguments,r=this;return e.apply(this,[function(){return i.apply(r,arguments.length?arguments:s)}].concat([].slice.call(arguments)))}}},{pageLang:Hi,win:as}=R,{defined:ls,error:we,extend:hs,isNumber:fe,isObject:lr,isString:Re,merge:Vo,objectEach:dn,pad:ze,splat:Yo,timeUnits:Bt,ucfirst:$o}=st,Uo=R.isSafari&&as.Intl&&!as.Intl.DateTimeFormat.prototype.formatRange,hr=h=>h.main===void 0,un=h=>["D","L","M","X","J","V","S"].indexOf(h),cr=class{constructor(h){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=as.Date,this.update(h)}update(h={}){this.dTLCache={},this.options=h=Vo(!0,this.options,h);let{timezoneOffset:t,useUTC:e}=h;this.Date=h.Date||as.Date||Date;let i=h.timezone;ls(e)&&(i=e?"UTC":void 0),t&&t%60==0&&(i="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone=i!=="UTC"&&i?.indexOf("Etc/GMT")!==0,this.timezone=i,["months","shortMonths","weekdays","shortWeekdays"].forEach(s=>{let r=/months/i.test(s),n=/short/.test(s),o={timeZone:"UTC"};o[r?"month":"weekday"]=n?"short":"long",this[s]=(r?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(l=>this.dateFormat(o,(r?31:1)*24*36e5*l))})}toParts(h){let[t,e,i,s,r,n,o]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},h,"es").split(/(?:, |\/|:)/g);return[s,+i-1,e,r,n,o,Math.floor(Number(h)||0)%1e3,un(t)].map(Number)}dateTimeFormat(h,t,e=this.options.locale||Hi){let i=JSON.stringify(h)+e;Re(h)&&(h=this.str2dtf(h));let s=this.dTLCache[i];if(!s){h.timeZone??(h.timeZone=this.timezone);try{s=new Intl.DateTimeFormat(e,h)}catch(r){/Invalid time zone/i.test(r.message)?(we(34),h.timeZone="UTC",s=new Intl.DateTimeFormat(e,h)):we(r.message,!1)}}return this.dTLCache[i]=s,s?.format(t)||""}str2dtf(h,t={}){let e={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(e).forEach(i=>{h.indexOf(i)!==-1&&hs(t,e[i])}),t}makeTime(h,t,e=1,i=0,s,r,n){let o=this.Date.UTC(h,t,e,i,s||0,r||0,n||0);if(this.timezone!=="UTC"){let l=this.getTimezoneOffset(o);if(o+=l,[2,3,8,9,10,11].indexOf(t)!==-1&&(i<5||i>20)){let c=this.getTimezoneOffset(o);l!==c?o+=c-l:l-36e5!==this.getTimezoneOffset(o-36e5)||Uo||(o-=36e5)}}return o}parse(h){if(!Re(h))return h??void 0;let t=(h=h.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(h),e=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(h);t||e||(h+="Z");let i=Date.parse(h);if(fe(i))return i+(!t||e?this.getTimezoneOffset(i):0)}getTimezoneOffset(h){if(this.timezone!=="UTC"){let[t,e,i,s,r=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},h,"en").split(/(GMT|:)/).map(Number),n=-(36e5*(i+r/60));if(fe(n))return n}return 0}dateFormat(h,t,e){let i=R.defaultOptions?.lang;if(!ls(t)||isNaN(t))return i?.invalidDate||"";if(Re(h=h??"%Y-%m-%d %H:%M:%S")){let s,r=/%\[([a-zA-Z]+)\]/g;for(;s=r.exec(h);)h=h.replace(s[0],this.dateTimeFormat(s[1],t))}if(Re(h)&&h.indexOf("%")!==-1){let s=this,[r,n,o,l,c,g,p,b]=this.toParts(t),y=i?.weekdays||this.weekdays,w=i?.shortWeekdays||this.shortWeekdays,M=i?.months||this.months,S=i?.shortMonths||this.shortMonths;dn(hs({a:w?w[b]:y[b].substr(0,3),A:y[b],d:ze(o),e:ze(o,2," "),w:b,b:S[n],B:M[n],m:ze(n+1),o:n+1,y:r.toString().substr(2,2),Y:r,H:ze(l),k:l,I:ze(l%12||12),l:l%12||12,M:ze(c),p:l<12?"AM":"PM",P:l<12?"am":"pm",S:ze(g),L:ze(p,3)},R.dateFormats),function(k,P){if(Re(h))for(;h.indexOf("%"+P)!==-1;)h=h.replace("%"+P,typeof k=="function"?k.call(s,t):k)})}else if(lr(h)){let s=(this.getTimezoneOffset(t)||0)/36e5,r=this.timezone||"Etc/GMT"+(s>=0?"+":"")+s,{prefix:n="",suffix:o=""}=h;h=n+this.dateTimeFormat(hs({timeZone:r},h),t)+o}return e?$o(h):h}resolveDTLFormat(h){return lr(h,!0)?lr(h,!0)&&hr(h)?{main:h}:h:{main:(h=Yo(h))[0],from:h[1],to:h[2]}}getTimeTicks(h,t,e,i){let s=this,r=[],n={},{count:o=1,unitRange:l}=h,[c,g,p,b,y,w]=s.toParts(t),M=(t||0)%1e3,S;if(i??(i=1),ls(t)){if(M=l>=Bt.second?0:o*Math.floor(M/o),l>=Bt.second&&(w=l>=Bt.minute?0:o*Math.floor(w/o)),l>=Bt.minute&&(y=l>=Bt.hour?0:o*Math.floor(y/o)),l>=Bt.hour&&(b=l>=Bt.day?0:o*Math.floor(b/o)),l>=Bt.day&&(p=l>=Bt.month?1:Math.max(1,o*Math.floor(p/o))),l>=Bt.month&&(g=l>=Bt.year?0:o*Math.floor(g/o)),l>=Bt.year&&(c-=c%o),l===Bt.week){o&&(t=s.makeTime(c,g,p,b,y,w,M));let L=un(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"));p+=-L+i+(L<i?-7:0)}t=s.makeTime(c,g,p,b,y,w,M),s.variableTimezone&&ls(e)&&(S=e-t>4*Bt.month||s.getTimezoneOffset(t)!==s.getTimezoneOffset(e));let k=t,P=1;for(;k<e;)r.push(k),l===Bt.year?k=s.makeTime(c+P*o,0):l===Bt.month?k=s.makeTime(c,g+P*o):S&&(l===Bt.day||l===Bt.week)?k=s.makeTime(c,g,p+P*o*(l===Bt.day?1:7)):S&&l===Bt.hour&&o>1?k=s.makeTime(c,g,p,b+P*o):k+=l*o,P++;r.push(k),l<=Bt.hour&&r.length<1e4&&r.forEach(L=>{L%18e5==0&&s.dateFormat("%H%M%S%L",L)==="000000000"&&(n[L]="day")})}return r.info=hs(h,{higherRanks:n,totalRange:l*o}),r}getDateFormat(h,t,e,i){let s=this.dateFormat("%m-%d %H:%M:%S.%L",t),r="01-01 00:00:00.000",n={millisecond:15,second:12,minute:9,hour:6,day:3},o="millisecond",l=o;for(o in Bt){if(h===Bt.week&&+this.dateFormat("%w",t)===e&&s.substr(6)===r.substr(6)){o="week";break}if(Bt[o]>h){o=l;break}if(n[o]&&s.substr(n[o])!==r.substr(n[o]))break;o!=="week"&&(l=o)}return this.resolveDTLFormat(i[o]).main}},{isTouchDevice:Ko}=R,{fireEvent:pn,merge:cs}=st,gi={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:h=>Math.sqrt(1-Math.pow(h-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Ko?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},dr=new cr(gi.time),he={defaultOptions:gi,defaultTime:dr,getOptions:function(){return gi},setOptions:function(h){return pn(R,"setOptions",{options:h}),cs(!0,gi,h),h.time&&dr.update(gi.time),h.lang&&"locale"in h.lang&&dr.update({locale:h.lang.locale}),gi}},{isNumber:Wi,merge:gn,pInt:ie,defined:ur}=st;class Gt{static parse(t){return t?new Gt(t):Gt.None}constructor(t){let e,i,s,r;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let n=R.Color;if(n&&n!==Gt)return new n(t);if(typeof t=="object"&&t.stops!==void 0)this.stops=t.stops.map(o=>new Gt(o[1]));else if(typeof t=="string")for(this.input=t=Gt.names[t.toLowerCase()]||t,s=Gt.parsers.length;s--&&!i;)(e=(r=Gt.parsers[s]).regex.exec(t))&&(i=r.parse(e));i&&(this.rgba=i)}get(t){let e=this.input,i=this.rgba;if(typeof e=="object"&&this.stops!==void 0){let s=gn(e);return s.stops=[].slice.call(s.stops),this.stops.forEach((r,n)=>{s.stops[n]=[s.stops[n][0],r.get(t)]}),s}return i&&Wi(i[0])?t!=="rgb"&&(t||i[3]!==1)?t==="a"?`${i[3]}`:"rgba("+i.join(",")+")":"rgb("+i[0]+","+i[1]+","+i[2]+")":e}brighten(t){let e=this.rgba;if(this.stops)this.stops.forEach(function(i){i.brighten(t)});else if(Wi(t)&&t!==0)for(let i=0;i<3;i++)e[i]+=ie(255*t),e[i]<0&&(e[i]=0),e[i]>255&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){let i=this.rgba,s=t.rgba;if(!Wi(i[0])||!Wi(s[0]))return t.input||"none";let r=s[3]!==1||i[3]!==1,n=(l,c)=>l+(i[c]-l)*(1-e),o=s.slice(0,3).map(n).map(Math.round);return r&&o.push(n(s[3],3)),(r?"rgba(":"rgb(")+o.join(",")+")"}}Gt.names={white:"#ffffff",black:"#000000"},Gt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(h){return[ie(h[1]),ie(h[2]),ie(h[3]),parseFloat(h[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(h){return[ie(h[1]),ie(h[2]),ie(h[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(h){return[ie(h[1]+h[1],16),ie(h[2]+h[2],16),ie(h[3]+h[3],16),ur(h[4])?ie(h[4]+h[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(h){return[ie(h[1],16),ie(h[2],16),ie(h[3],16),ur(h[4])?ie(h[4],16)/255:1]}}],Gt.None=new Gt("");let{parse:mn}=Gt,{win:qo}=R,{isNumber:mi,objectEach:_o}=st;class oe{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){let t=this.paths,e=t&&t[0],i=t&&t[1],s=this.now||0,r=[];if(s!==1&&e&&i)if(e.length===i.length&&s<1)for(let n=0;n<i.length;n++){let o=e[n],l=i[n],c=[];for(let g=0;g<l.length;g++){let p=o[g],b=l[g];mi(p)&&mi(b)&&!(l[0]==="A"&&(g===4||g===5))?c[g]=p+s*(b-p):c[g]=b}r.push(c)}else r=i;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)}update(){let t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)}run(t,e,i){let s=this,r=s.options,n=function(c){return!n.stopped&&s.step(c)},o=qo.requestAnimationFrame||function(c){setTimeout(c,13)},l=function(){for(let c=0;c<oe.timers.length;c++)oe.timers[c]()||oe.timers.splice(c--,1);oe.timers.length&&o(l)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&oe.timers.push(n)===1&&o(l)):(delete r.curAnim[this.prop],r.complete&&Object.keys(r.curAnim).length===0&&r.complete.call(this.elem))}step(t){let e,i,s=+new Date,r=this.options,n=this.elem,o=r.complete,l=r.duration,c=r.curAnim;return n.attr&&!n.element?e=!1:t||s>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,i=!0,_o(c,function(g){g!==!0&&(i=!1)}),i&&o&&o.call(n),e=!1):(this.pos=r.easing((s-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e}initPath(t,e,i){let s=t.startX,r=t.endX,n=i.slice(),o=t.isArea,l=o?2:1,c=e&&i.length>e.length&&i.hasStackedCliffs,g,p,b,y,w=e&&e.slice();if(!w||c)return[n,n];function M(k,P){for(;k.length<p;){let L=k[0],z=P[p-k.length];if(z&&L[0]==="M"&&(z[0]==="C"?k[0]=["C",L[1],L[2],L[1],L[2],L[1],L[2]]:k[0]=["L",L[1],L[2]]),k.unshift(L),o){let W=k.pop();k.push(k[k.length-1],W)}}}function S(k){for(;k.length<p;){let P=k[Math.floor(k.length/l)-1].slice();if(P[0]==="C"&&(P[1]=P[5],P[2]=P[6]),o){let L=k[Math.floor(k.length/l)].slice();k.splice(k.length/2,0,P,L)}else k.push(P)}}if(s&&r&&r.length){for(b=0;b<s.length;b++){if(s[b]===r[0]){g=b;break}if(s[0]===r[r.length-s.length+b]){g=b,y=!0;break}if(s[s.length-1]===r[r.length-s.length+b]){g=s.length-b;break}}g===void 0&&(w=[])}return w.length&&mi(g)&&(p=n.length+g*l,y?(M(w,n),S(n)):(M(n,w),S(w))),[w,n]}fillSetter(){oe.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,mn(this.start).tweenTo(mn(this.end),this.pos),void 0,!0)}}oe.timers=[];let{defined:Zo,getStyle:fn,isArray:ds,isNumber:Qo,isObject:us,merge:bn,objectEach:xn,pick:Jo}=st;function pr(h){return us(h)?bn({duration:500,defer:0},h):{duration:h?500:0,defer:0}}function gr(h,t){let e=oe.timers.length;for(;e--;)oe.timers[e].elem!==h||t&&t!==oe.timers[e].prop||(oe.timers[e].stopped=!0)}let Zt={animate:function(h,t,e){let i,s="",r,n,o;us(e)||(o=arguments,e={duration:o[2],easing:o[3],complete:o[4]}),Qo(e.duration)||(e.duration=400),e.easing=typeof e.easing=="function"?e.easing:Math[e.easing]||Math.easeInOutSine,e.curAnim=bn(t),xn(t,function(l,c){gr(h,c),n=new oe(h,e,c),r=void 0,c==="d"&&ds(t.d)?(n.paths=n.initPath(h,h.pathArray,t.d),n.toD=t.d,i=0,r=1):h.attr?i=h.attr(c):(i=parseFloat(fn(h,c))||0,c!=="opacity"&&(s="px")),r||(r=l),typeof r=="string"&&r.match("px")&&(r=r.replace(/px/g,"")),n.run(i,r,s)})},animObject:pr,getDeferredAnimation:function(h,t,e){let i=pr(t),s=e?[e]:h.series,r=0,n=0;return s.forEach(o=>{let l=pr(o.options.animation);r=us(t)&&Zo(t.defer)?i.defer:Math.max(r,l.duration+l.defer),n=Math.min(i.duration,l.duration)}),h.renderer.forExport&&(r=0),{defer:Math.max(0,r-n),duration:Math.min(r,n)}},setAnimation:function(h,t){t.renderer.globalAnimation=Jo(h,t.options.chart.animation,!0)},stop:gr},{SVG_NS:yn,win:ta}=R,{attr:ea,createElement:ps,css:gs,error:ms,isFunction:mr,isString:fs,objectEach:fr,splat:ia}=st,{trustedTypes:br}=ta,bs=br&&mr(br.createPolicy)&&br.createPolicy("highcharts",{createHTML:h=>h}),sa=bs?bs.createHTML(""):"";class Lt{static filterUserAttributes(t){return fr(t,(e,i)=>{let s=!0;Lt.allowedAttributes.indexOf(i)===-1&&(s=!1),["background","dynsrc","href","lowsrc","src"].indexOf(i)!==-1&&(s=fs(e)&&Lt.allowedReferences.some(r=>e.indexOf(r)===0)),s||(ms(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),fs(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((e,i)=>{let s=i.split(":").map(n=>n.trim()),r=s.shift();return r&&s.length&&(e[r.replace(/-([a-z])/g,n=>n[1].toUpperCase())]=s.join(":")),e},{})}static setElementHTML(t,e){t.innerHTML=Lt.emptyHTML,e&&new Lt(e).addToDOM(t)}constructor(t){this.nodes=typeof t=="string"?this.parseMarkup(t):t}addToDOM(t){return function e(i,s){let r;return ia(i).forEach(function(n){let o,l=n.tagName,c=n.textContent?R.doc.createTextNode(n.textContent):void 0,g=Lt.bypassHTMLFiltering;if(l)if(l==="#text")o=c;else if(Lt.allowedTags.indexOf(l)!==-1||g){let p=l==="svg"?yn:s.namespaceURI||yn,b=R.doc.createElementNS(p,l),y=n.attributes||{};fr(n,function(w,M){M!=="tagName"&&M!=="attributes"&&M!=="children"&&M!=="style"&&M!=="textContent"&&(y[M]=w)}),ea(b,g?y:Lt.filterUserAttributes(y)),n.style&&gs(b,n.style),c&&b.appendChild(c),e(n.children||[],b),o=b}else ms(33,!1,void 0,{"Invalid tagName in config":l});o&&s.appendChild(o),r=o}),r}(this.nodes,t)}parseMarkup(t){let e,i=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{e=new DOMParser().parseFromString(bs?bs.createHTML(t):t,"text/html")}catch{}if(!e){let r=ps("div");r.innerHTML=t,e={body:r}}let s=(r,n)=>{let o=r.nodeName.toLowerCase(),l={tagName:o};o==="#text"&&(l.textContent=r.textContent||"");let c=r.attributes;if(c){let g={};[].forEach.call(c,p=>{p.name==="data-style"?l.style=Lt.parseStyle(p.value):g[p.name]=p.value}),l.attributes=g}if(r.childNodes.length){let g=[];[].forEach.call(r.childNodes,p=>{s(p,g)}),g.length&&(l.children=g)}n.push(l)};return[].forEach.call(e.body.childNodes,r=>s(r,i)),i}}Lt.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Lt.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Lt.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],Lt.emptyHTML=sa,Lt.bypassHTMLFiltering=!1;let{defaultOptions:xs,defaultTime:xr}=he,{pageLang:ra}=R,{extend:yr,getNestedProperty:na,isArray:oa,isNumber:vn,isObject:aa,isString:la,pick:ha,ucfirst:ca}=st,ys={add:(h,t)=>h+t,divide:(h,t)=>t!==0?h/t:"",eq:(h,t)=>h==t,each:function(h){let t=arguments[arguments.length-1];return!!oa(h)&&h.map((e,i)=>vs(t.body,yr(aa(e)?e:{"@this":e},{"@index":i,"@first":i===0,"@last":i===h.length-1}))).join("")},ge:(h,t)=>h>=t,gt:(h,t)=>h>t,if:h=>!!h,le:(h,t)=>h<=t,lt:(h,t)=>h<t,multiply:(h,t)=>h*t,ne:(h,t)=>h!=t,subtract:(h,t)=>h-t,ucfirst:ca,unless:h=>!h},vr={},wn=h=>/^["'].+["']$/.test(h);function vs(h="",t,e){let i=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@+"'â€™= #\(\)]+)\}/gu,s=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/gu,r=[],n=/f$/,o=/\.(\d)/,l=e?.options.lang||xs.lang,c=e&&e.time||xr,g=e&&e.numberFormatter||ws,p=(S="")=>{let k;return S==="true"||S!=="false"&&((k=Number(S)).toString()===S?k:wn(S)?S.slice(1,-1):na(S,t))},b,y,w=0,M;for(;(b=i.exec(h))!==null;){let S=b,k=s.exec(b[1]);k&&(b=k,M=!0),y&&y.isBlock||(y={ctx:t,expression:b[1],find:b[0],isBlock:b[1].charAt(0)==="#",start:b.index,startInner:b.index+b[0].length,length:b[0].length});let P=(y.isBlock?S:b)[1].split(" ")[0].replace("#","");ys[P]&&(y.isBlock&&P===y.fn&&w++,y.fn||(y.fn=P));let L=b[1]==="else";if(y.isBlock&&y.fn&&(b[1]===`/${y.fn}`||L))if(w)!L&&w--;else{let z=y.startInner,W=h.substr(z,b.index-z);y.body===void 0?(y.body=W,y.startInner=b.index+b[0].length):y.elseBody=W,y.find+=W+b[0],L||(r.push(y),y=void 0)}else y.isBlock||r.push(y);if(k&&!y?.isBlock)break}return r.forEach(S=>{let k,P,{body:L,elseBody:z,expression:W,fn:H}=S;if(H){let I=[S],j=[],Y=W.length,U=0,K;for(P=0;P<=Y;P++){let Z=W.charAt(P);K||Z!=='"'&&Z!=="'"?K===Z&&(K=""):K=Z,K||Z!==" "&&P!==Y||(j.push(W.substr(U,P-U)),U=P+1)}for(P=ys[H].length;P--;)I.unshift(p(j[P+1]));k=ys[H].apply(t,I),S.isBlock&&typeof k=="boolean"&&(k=vs(k?L:z,t,e))}else{let I=wn(W)?[W]:W.split(":");if(k=p(I.shift()||""),I.length&&typeof k=="number"){let j=I.join(":");if(n.test(j)){let Y=parseInt((j.match(o)||["","-1"])[1],10);k!==null&&(k=g(k,Y,l.decimalPoint,j.indexOf(",")>-1?l.thousandsSep:""))}else k=c.dateFormat(j,k)}s.lastIndex=0,s.test(S.find)&&la(k)&&(k=`"${k}"`)}h=h.replace(S.find,ha(k,""))}),M?vs(h,t,e):h}function ws(h,t,e,i){t=+t;let s,r,[n,o]=(h=+h||0).toString().split("e").map(Number),l=this?.options?.lang||xs.lang,c=(h.toString().split(".")[1]||"").split("e")[0].length,g=t,p={};e??(e=l.decimalPoint),i??(i=l.thousandsSep),t===-1?t=Math.min(c,20):vn(t)?t&&o<0&&((r=t+o)>=0?(n=+n.toExponential(r).split("e")[0],t=r):(n=Math.floor(n),h=t<20?+(n*Math.pow(10,o)).toFixed(t):0,o=0)):t=2,o&&(t??(t=2),h=n),vn(t)&&t>=0&&(p.minimumFractionDigits=t,p.maximumFractionDigits=t),i===""&&(p.useGrouping=!1);let b=i||e,y=b?"en":this?.locale||l.locale||ra,w=JSON.stringify(p)+y;return s=(vr[w]??(vr[w]=new Intl.NumberFormat(y,p))).format(h),b&&(s=s.replace(/([,\.])/g,"_$1").replace(/_\,/g,i??",").replace("_.",e??".")),(t||+s!=0)&&(!(o<0)||g)||(s="0"),o&&+s!=0&&(s+="e"+(o<0?"":"+")+o),s}let ce={dateFormat:function(h,t,e){return xr.dateFormat(h,t,e)},format:vs,helpers:ys,numberFormat:ws};(function(h){let t;h.rendererTypes={},h.getRendererType=function(e=t){return h.rendererTypes[e]||h.rendererTypes[t]},h.registerRendererType=function(e,i,s){h.rendererTypes[e]=i,(!t||s)&&(t=e,R.Renderer=i)}})(T||(T={}));let Ze=T,{clamp:kn,pick:da,pushUnique:An,stableSort:ks}=st;(N||(N={})).distribute=function h(t,e,i){let s=t,r=s.reducedLen||e,n=(L,z)=>L.target-z.target,o=[],l=t.length,c=[],g=o.push,p,b,y,w=!0,M,S,k=0,P;for(p=l;p--;)k+=t[p].size;if(k>r){for(ks(t,(L,z)=>(z.rank||0)-(L.rank||0)),y=(P=t[0].rank===t[t.length-1].rank)?l/2:-1,b=P?y:l-1;y&&k>r;)M=t[p=Math.floor(b)],An(c,p)&&(k-=M.size),b+=y,P&&b>=t.length&&(y/=2,b=y);c.sort((L,z)=>z-L).forEach(L=>g.apply(o,t.splice(L,1)))}for(ks(t,n),t=t.map(L=>({size:L.size,targets:[L.target],align:da(L.align,.5)}));w;){for(p=t.length;p--;)M=t[p],S=(Math.min.apply(0,M.targets)+Math.max.apply(0,M.targets))/2,M.pos=kn(S-M.size*M.align,0,e-M.size);for(p=t.length,w=!1;p--;)p>0&&t[p-1].pos+t[p-1].size>t[p].pos&&(t[p-1].size+=t[p].size,t[p-1].targets=t[p-1].targets.concat(t[p].targets),t[p-1].align=.5,t[p-1].pos+t[p-1].size>e&&(t[p-1].pos=e-t[p-1].size),t.splice(p,1),w=!0)}return g.apply(s,o),p=0,t.some(L=>{let z=0;return(L.targets||[]).some(()=>(s[p].pos=L.pos+z,i!==void 0&&Math.abs(s[p].pos-s[p].target)>i?(s.slice(0,p+1).forEach(W=>delete W.pos),s.reducedLen=(s.reducedLen||e)-.1*e,s.reducedLen>.1*e&&h(s,e,i),!0):(z+=s[p].size,p++,!1)))}),ks(s,n),s};let Te=N,{animate:En,animObject:wr,stop:Mn}=Zt,{deg2rad:Tn,doc:fi,svg:ua,SVG_NS:As,win:pa,isFirefox:ga}=R,{addEvent:ma,attr:kr,createElement:fa,crisp:ji,css:Ar,defined:pe,erase:Sn,extend:bi,fireEvent:Er,getAlignFactor:Mr,isArray:Es,isFunction:Cn,isNumber:ba,isObject:xa,isString:Tr,merge:Sr,objectEach:xi,pick:be,pInt:Cr,pushUnique:kh,replaceNested:Ah,syncTimeout:ya,uniqueKey:On}=st;class Kt{_defaultGetter(t){let e=be(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^-?[\d\.]+$/.test(e)&&(e=parseFloat(e)),e}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){let e,i=this.renderer,s=this.element;return t&&(this.parentGroup=t),this.textStr!==void 0&&this.element.nodeName==="text"&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(s),this.onAdd&&this.onAdd(),this}addClass(t,e){let i=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce(function(s,r){return i.indexOf(r)===-1&&s.push(r),s},i?[i]:[]).join(" "))!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i,s=!0){let r=this.renderer,n=r.alignedObjects,o=!!t;t?(this.alignOptions=t,this.alignByTranslate=e,this.alignTo=i):(t=this.alignOptions||{},e=this.alignByTranslate,i=this.alignTo);let l=!i||Tr(i)?i||"renderer":void 0;l&&(o&&kh(n,this),i=void 0);let c=be(i,r[l],r),g=(c.x||0)+(t.x||0)+((c.width||0)-(t.width||0))*Mr(t.align),p=(c.y||0)+(t.y||0)+((c.height||0)-(t.height||0))*Mr(t.verticalAlign),b={"text-align":t?.align};return b[e?"translateX":"x"]=Math.round(g),b[e?"translateY":"y"]=Math.round(p),s&&(this[this.placed?"animate":"attr"](b),this.placed=!0),this.alignAttr=b,this}alignSetter(t){let e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){let s=wr(be(e,this.renderer.globalAnimation,!0)),r=s.defer;return fi.hidden&&(s.duration=0),s.duration!==0?(i&&(s.complete=i),ya(()=>{this.element&&En(this,t,s)},r)):(this.attr(t,void 0,i||s.complete),xi(t,function(n,o){s.step&&s.step.call(this,n,{prop:o,pos:1,elem:this})},this)),this}applyTextOutline(t){let e=this.element;t.indexOf("contrast")!==-1&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));let i=t.split(" "),s=i[i.length-1],r=i[0];if(r&&r!=="none"&&R.svg){this.fakeTS=!0,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(g,p,b){return 2*Number(p)+b}),this.removeTextOutline();let n=fi.createElementNS(As,"tspan");kr(n,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":r,"stroke-linejoin":"round"});let o=e.querySelector("textPath")||e;[].forEach.call(o.childNodes,g=>{let p=g.cloneNode(!0);p.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(b=>p.removeAttribute(b)),n.appendChild(p)});let l=0;[].forEach.call(o.querySelectorAll("text tspan"),g=>{l+=Number(g.getAttribute("dy"))});let c=fi.createElementNS(As,"tspan");c.textContent="\u200B",kr(c,{x:Number(e.getAttribute("x")),dy:-l}),n.appendChild(c),o.insertBefore(n,o.firstChild)}}attr(t,e,i,s){let{element:r}=this,n=Kt.symbolCustomAttribs,o,l,c=this,g;return typeof t=="string"&&e!==void 0&&(o=t,(t={})[o]=e),typeof t=="string"?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,r):(xi(t,function(p,b){g=!1,s||Mn(this,b),this.symbolName&&n.indexOf(b)!==-1&&(l||(this.symbolAttr(t),l=!0),g=!0),this.rotation&&(b==="x"||b==="y")&&(this.doTransform=!0),g||(this[b+"Setter"]||this._defaultSetter).call(this,p,b,r)},this),this.afterSetters()),i&&i.call(this),c}clip(t){if(t&&!t.clipPath){let e=On()+"-",i=this.renderer.createElement("clipPath").attr({id:e}).add(this.renderer.defs);bi(t,{clipPath:i,id:e,count:0}),t.add(i)}return this.attr("clip-path",t?`url(${this.renderer.url}#${t.id})`:"none")}crisp(t,e){e=Math.round(e||t.strokeWidth||0);let i=t.x||this.x||0,s=t.y||this.y||0,r=(t.width||this.width||0)+i,n=(t.height||this.height||0)+s,o=ji(i,e),l=ji(s,e);return bi(t,{x:o,y:l,width:ji(r,e)-o,height:ji(n,e)-l}),pe(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,e,i){let s=this.renderer,r,n,o,l,c,g,p,b,y,w,M=[],S;Er(this.renderer,"complexColor",{args:arguments},function(){if(t.radialGradient?n="radialGradient":t.linearGradient&&(n="linearGradient"),n){if(o=t[n],c=s.gradients,g=t.stops,y=i.radialReference,Es(o)&&(t[n]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),n==="radialGradient"&&y&&!pe(o.gradientUnits)&&(l=o,o=Sr(o,s.getRadialAttr(y,l),{gradientUnits:"userSpaceOnUse"})),xi(o,function(k,P){P!=="id"&&M.push(P,k)}),xi(g,function(k){M.push(k)}),c[M=M.join(",")])w=c[M].attr("id");else{o.id=w=On();let k=c[M]=s.createElement(n).attr(o).add(s.defs);k.radAttr=l,k.stops=[],g.forEach(function(P){P[1].indexOf("rgba")===0?(p=(r=Gt.parse(P[1])).get("rgb"),b=r.get("a")):(p=P[1],b=1);let L=s.createElement("stop").attr({offset:P[0],"stop-color":p,"stop-opacity":b}).add(k);k.stops.push(L)})}S="url("+s.url+"#"+w+")",i.setAttribute(e,S),i.gradient=M,t.toString=function(){return S}}})}css(t){let e=this.styles,i={},s=this.element,r,n=!e;if(e&&xi(t,function(o,l){e&&e[l]!==o&&(i[l]=o,n=!0)}),n){e&&(t=bi(e,i)),t.width===null||t.width==="auto"?delete this.textWidth:s.nodeName.toLowerCase()==="text"&&t.width&&(r=this.textWidth=Cr(t.width)),bi(this.styles,t),r&&!ua&&this.renderer.forExport&&delete t.width;let o=ga&&t.fontSize||null;o&&(ba(o)||/^\d+$/.test(o))&&(t.fontSize+="px");let l=Sr(t);s.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(c=>l&&delete l[c]),l.color&&(l.fill=l.color)),Ar(s,l)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e,i=this["stroke-width"];if(i==="inherit"&&(i=1),t=t&&t.toLowerCase()){let s=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=s.length;e--;)s[e]=""+Cr(s[e])*be(i,NaN);t=s.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let t=this,e=t.element||{},i=t.renderer,s=e.ownerSVGElement,r=e.nodeName==="SPAN"&&t.parentGroup||void 0,n,o;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,Mn(t),t.clipPath&&s){let l=t.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),function(c){c.getAttribute("clip-path").indexOf(l.element.id)>-1&&c.removeAttribute("clip-path")}),t.clipPath=l.destroy()}if(t.connector=t.connector?.destroy(),t.stops){for(o=0;o<t.stops.length;o++)t.stops[o].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);r&&r.div&&r.div.childNodes.length===0;)n=r.parentGroup,t.safeRemoveChild(r.div),delete r.div,r=n;t.alignOptions&&Sn(i.alignedObjects,t),xi(t,function(l,c){t[c]&&t[c].parentGroup===t&&t[c].destroy&&t[c].destroy(),delete t[c]})}dSetter(t,e,i){Es(t)&&(typeof t[0]=="string"&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((s,r,n)=>r&&r.join?(n?s+" ":"")+r.join(" "):(r||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fillSetter(t,e,i){typeof t=="string"?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}hrefSetter(t,e,i){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}getBBox(t,e){let i,s,r,n,{alignValue:o,element:l,renderer:c,styles:g,textStr:p}=this,{cache:b,cacheKeys:y}=c,w=l.namespaceURI===this.SVG_NS,M=be(e,this.rotation,0),S=c.styledMode?l&&Kt.prototype.getStyle.call(l,"font-size"):g.fontSize;if(pe(p)&&((n=p.toString()).indexOf("<")===-1&&(n=n.replace(/\d/g,"0")),n+=["",c.rootFontSize,S,M,this.textWidth,o,g.lineClamp,g.textOverflow,g.fontWeight].join(",")),n&&!t&&(i=b[n]),!i||i.polygon){if(w||c.forExport){try{r=this.fakeTS&&function(P){let L=l.querySelector(".highcharts-text-outline");L&&Ar(L,{display:P})},Cn(r)&&r("none"),i=l.getBBox?bi({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight,x:0,y:0},Cn(r)&&r("")}catch{}(!i||i.width<0)&&(i={x:0,y:0,width:0,height:0})}else i=this.htmlGetBBox();s=i.height,w&&(i.height=s={"11px,17":14,"13px,20":16}[`${S||""},${Math.round(s)}`]||s),M&&(i=this.getRotatedBox(i,M));let k={bBox:i};Er(this,"afterGetBBox",k),i=k.bBox}if(n&&(p===""||i.height>0)){for(;y.length>250;)delete b[y.shift()];b[n]||y.push(n),b[n]=i}return i}getRotatedBox(t,e){let{x:i,y:s,width:r,height:n}=t,{alignValue:o,translateY:l,rotationOriginX:c=0,rotationOriginY:g=0}=this,p=Mr(o),b=Number(this.element.getAttribute("y")||0)-(l?0:s),y=e*Tn,w=(e-90)*Tn,M=Math.cos(y),S=Math.sin(y),k=r*M,P=r*S,L=Math.cos(w),z=Math.sin(w),[[W,H],[I,j]]=[c,g].map(at=>[at-at*M,at*S]),Y=i+p*(r-k)+W+j+b*L,U=Y+k,K=U-n*L,Z=K-k,Q=s+b-p*P-H+I+b*z,et=Q+P,J=et-n*z,it=J-P,bt=Math.min(Y,U,K,Z),lt=Math.min(Q,et,J,it),ht=Math.max(Y,U,K,Z)-bt,yt=Math.max(Q,et,J,it)-lt;return{x:bt,y:lt,width:ht,height:yt,polygon:[[Y,Q],[U,et],[K,J],[Z,it]]}}getStyle(t){return pa.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return(""+this.attr("class")).split(" ").indexOf(t)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(t,e){this.onEvents={},this.opacity=1,this.SVG_NS=As,this.element=e==="span"||e==="body"?fa(e):fi.createElementNS(this.SVG_NS,e),this.renderer=t,this.styles={},Er(this,"afterInit")}on(t,e){let{onEvents:i}=this;return i[t]&&i[t](),i[t]=ma(this.element,t,e),this}opacitySetter(t,e,i){let s=Number(Number(t).toFixed(3));this.opacity=s,i.setAttribute(e,s)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(Tr(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){let e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}shadow(t){let{renderer:e}=this,i=Sr(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},xa(t)?t:{}),s=e.shadowDefinition(i);return this.attr({filter:t?`url(${e.url}#${s})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let t=this.getStyle("stroke-width"),e=0,i;return/px$/.test(t)?e=Cr(t):t!==""&&(kr(i=fi.createElementNS(As,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(i),e=i.getBBox().width,i.parentNode.removeChild(i)),e}symbolAttr(t){let e=this;Kt.symbolCustomAttribs.forEach(function(i){e[i]=be(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(t){let e=this.element,i=e.getElementsByTagName("title")[0]||fi.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=Ah(be(t,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(t="transform"){let{element:e,matrix:i,rotation:s=0,rotationOriginX:r,rotationOriginY:n,scaleX:o,scaleY:l,translateX:c=0,translateY:g=0}=this,p=["translate("+c+","+g+")"];pe(i)&&p.push("matrix("+i.join(",")+")"),s&&(p.push("rotate("+s+" "+be(r,e.getAttribute("x"),0)+" "+be(n,e.getAttribute("y")||0)+")"),this.text?.element.tagName==="SPAN"&&this.text.attr({rotation:s,rotationOriginX:(r||0)-this.padding,rotationOriginY:(n||0)-this.padding})),(pe(o)||pe(l))&&p.push("scale("+be(o,1)+" "+be(l,1)+")"),p.length&&!(this.text||this).textPath&&e.setAttribute(t,p.join(" "))}visibilitySetter(t,e,i){t==="inherit"?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return this.element.nodeName==="circle"&&(t==="x"?t="cx":t==="y"&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){let i=this.renderer,s=this.parentGroup,r=(s||i).element||i.box,n=this.element,o=r===i.box,l,c,g,p=!1,b,y=this.added,w;if(pe(t)?(n.setAttribute("data-z-index",t),t=+t,this[e]===t&&(y=!1)):pe(this[e])&&n.removeAttribute("data-z-index"),this[e]=t,y){for((t=this.zIndex)&&s&&(s.handleZ=!0),w=(l=r.childNodes).length-1;w>=0&&!p;w--)b=!pe(g=(c=l[w]).getAttribute("data-z-index")),c!==n&&(t<0&&b&&!o&&!w?(r.insertBefore(n,l[w]),p=!0):(Cr(g)<=t||b&&(!pe(t)||t>=0))&&(r.insertBefore(n,l[w+1]),p=!0));p||(r.insertBefore(n,l[o?3:0]),p=!0)}return p}}Kt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Kt.prototype.strokeSetter=Kt.prototype.fillSetter,Kt.prototype.yGetter=Kt.prototype.xGetter,Kt.prototype.matrixSetter=Kt.prototype.rotationOriginXSetter=Kt.prototype.rotationOriginYSetter=Kt.prototype.rotationSetter=Kt.prototype.scaleXSetter=Kt.prototype.scaleYSetter=Kt.prototype.translateXSetter=Kt.prototype.translateYSetter=Kt.prototype.verticalAlignSetter=function(h,t){this[t]=h,this.doTransform=!0};let ke=Kt,{defined:Pn,extend:Ln,getAlignFactor:Dn,isNumber:Xi,merge:va,pick:Ms,removeEvent:Bn}=st;class Qe extends ke{constructor(t,e,i,s,r,n,o,l,c,g){let p;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=e,this.x=i,this.y=s,this.anchorX=n,this.anchorY=o,this.baseline=c,this.className=g,this.addClass(g==="button"?"highcharts-no-tooltip":"highcharts-label"),g&&this.addClass("highcharts-"+g),this.text=t.text(void 0,0,0,l).attr({zIndex:1}),typeof r=="string"&&((p=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=Qe.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||p,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let e=Dn(t);this.textAlign=t,e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&Xi(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(t){if(t){let e={};t=va(t),Qe.textProps.forEach(i=>{t[i]!==void 0&&(e[i]=t[i],delete t[i])}),this.text.css(e),"fontSize"in e||"fontWeight"in e?this.updateTextPadding():("width"in e||"textOverflow"in e)&&this.updateBoxSize()}return ke.prototype.css.call(this,t)}destroy(){Bn(this.element,"mouseenter"),Bn(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),ke.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(t,e){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:i,height:s=0,translateX:r=0,translateY:n=0,width:o=0}=this,l=Ms(this.paddingLeft,i),c=e??(this.rotation||0),g={width:o,height:s,x:r+this.bBox.x-l,y:n+this.bBox.y-i+this.baselineOffset};return c&&(g=this.getRotatedBox(g,c)),g}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Ms(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Pn(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){Xi(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=this["text-align"]=t,this.updateTextPadding()}textSetter(t){t!==void 0&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t,e=this.text,i={},s=this.padding,r=this.bBox=(!Xi(this.widthSetting)||!Xi(this.heightSetting)||this.textAlign)&&Pn(e.textStr)?e.getBBox(void 0,0):Qe.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||r.height||0)+2*s;let n=this.renderer.fontMetrics(e);if(this.baselineOffset=s+Math.min((this.text.firstLineMetrics||n).b,r.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-n.h)/2),this.needsBox&&!e.textPath){if(!this.box){let o=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();o.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),o.add(this)}t=this.getCrispAdjust(),i.x=t,i.y=(this.baseline?-this.baselineOffset:0)+t,i.width=Math.round(this.width),i.height=Math.round(this.height),this.box.attr(Ln(i,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text,e=t.styles.textAlign||this.textAlign;if(!t.textPath){this.updateBoxSize();let i=this.baseline?0:this.baselineOffset,s=(this.paddingLeft??this.padding)+Dn(e)*(this.widthSetting??this.bBox.width);(s!==t.x||i!==t.y)&&(t.attr({align:e,x:s}),i!==void 0&&t.attr("y",i)),t.x=s,t.y=i}}widthSetter(t){this.widthSetting=Xi(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){let t=this.padding,e=Ms(this.paddingLeft,t),i=Ms(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+i}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}Qe.emptyBBox={width:0,height:0,x:0,y:0},Qe.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Nn,isNumber:wa,pick:Gi}=st;function In(h,t,e,i,s){let r=[];if(s){let n=s.start||0,o=Gi(s.r,e),l=Gi(s.r,i||e),c=2e-4/(s.borderRadius?1:Math.max(o,1)),g=Math.abs((s.end||0)-n-2*Math.PI)<c,p=(s.end||0)-(g?c:0),b=s.innerR,y=Gi(s.open,g),w=Math.cos(n),M=Math.sin(n),S=Math.cos(p),k=Math.sin(p),P=Gi(s.longArc,p-n-Math.PI<c?0:1),L=["A",o,l,0,P,Gi(s.clockwise,1),h+o*S,t+l*k];L.params={start:n,end:p,cx:h,cy:t},r.push(["M",h+o*w,t+l*M],L),Nn(b)&&((L=["A",b,b,0,P,Nn(s.clockwise)?1-s.clockwise:0,h+b*w,t+b*M]).params={start:p,end:n,cx:h,cy:t},r.push(y?["M",h+b*S,t+b*k]:["L",h+b*S,t+b*k],L)),y||r.push(["Z"])}return r}function Vi(h,t,e,i,s){return s&&s.r?He(h,t,e,i,s):[["M",h,t],["L",h+e,t],["L",h+e,t+i],["L",h,t+i],["Z"]]}function He(h,t,e,i,s){let r=s?.r||0;return[["M",h+r,t],["L",h+e-r,t],["A",r,r,0,0,1,h+e,t+r],["L",h+e,t+i-r],["A",r,r,0,0,1,h+e-r,t+i],["L",h+r,t+i],["A",r,r,0,0,1,h,t+i-r],["L",h,t+r],["A",r,r,0,0,1,h+r,t],["Z"]]}let Yi={arc:In,callout:function(h,t,e,i,s){let r=Math.min(s&&s.r||0,e,i),n=r+6,o=s&&s.anchorX,l=s&&s.anchorY||0,c=He(h,t,e,i,{r});if(!wa(o)||o<e&&o>0&&l<i&&l>0)return c;if(h+o>e-n)if(l>t+n&&l<t+i-n)c.splice(3,1,["L",h+e,l-6],["L",h+e+6,l],["L",h+e,l+6],["L",h+e,t+i-r]);else if(o<e){let g=l<t+n,p=g?t:t+i;c.splice(g?2:5,0,["L",o,l],["L",h+e-r,p])}else c.splice(3,1,["L",h+e,i/2],["L",o,l],["L",h+e,i/2],["L",h+e,t+i-r]);else if(h+o<n)if(l>t+n&&l<t+i-n)c.splice(7,1,["L",h,l+6],["L",h-6,l],["L",h,l-6],["L",h,t+r]);else if(o>0){let g=l<t+n,p=g?t:t+i;c.splice(g?1:6,0,["L",o,l],["L",h+r,p])}else c.splice(7,1,["L",h,i/2],["L",o,l],["L",h,i/2],["L",h,t+r]);else l>i&&o<e-n?c.splice(5,1,["L",o+6,t+i],["L",o,t+i+6],["L",o-6,t+i],["L",h+r,t+i]):l<0&&o>n&&c.splice(1,1,["L",o-6,t],["L",o,t-6],["L",o+6,t],["L",e-r,t]);return c},circle:function(h,t,e,i){return In(h+e/2,t+i/2,e/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(h,t,e,i){return[["M",h+e/2,t],["L",h+e,t+i/2],["L",h+e/2,t+i],["L",h,t+i/2],["Z"]]},rect:Vi,roundedRect:He,square:Vi,triangle:function(h,t,e,i){return[["M",h+e/2,t],["L",h+e,t+i],["L",h,t+i],["Z"]]},"triangle-down":function(h,t,e,i){return[["M",h,t],["L",h+e,t],["L",h+e/2,t+i],["Z"]]}},{doc:Or,SVG_NS:ka,win:Pr}=R,{attr:$i,extend:Aa,fireEvent:Je,isString:Ts,objectEach:Fn,pick:Ea}=st,ti=(h,t)=>h.substring(0,t)+"\u2026",Lr=class{constructor(h){let t=h.styles;this.renderer=h.renderer,this.svgElement=h,this.width=h.textWidth,this.textLineHeight=t&&t.lineHeight,this.textOutline=t&&t.textOutline,this.ellipsis=!!(t&&t.textOverflow==="ellipsis"),this.lineClamp=t?.lineClamp,this.noWrap=!!(t&&t.whiteSpace==="nowrap")}buildSVG(){let h=this.svgElement,t=h.element,e=h.renderer,i=Ea(h.textStr,"").toString(),s=i.indexOf("<")!==-1,r=t.childNodes,n=!h.added&&e.box,o=[i,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,h.getStyle("font-size"),h.styles.lineClamp,this.width].join(",");if(o!==h.textCache){h.textCache=o,delete h.actualWidth;for(let l=r.length;l--;)t.removeChild(r[l]);if(s||this.ellipsis||this.width||h.textPath||i.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(i))){if(i!==""){n&&n.appendChild(t);let l=new Lt(i);this.modifyTree(l.nodes),l.addToDOM(t),this.modifyDOM(),this.ellipsis&&(t.textContent||"").indexOf("\u2026")!==-1&&h.attr("title",this.unescapeEntities(h.textStr||"",["&lt;","&gt;"])),n&&n.removeChild(t)}}else t.appendChild(Or.createTextNode(this.unescapeEntities(i)));Ts(this.textOutline)&&h.applyTextOutline&&h.applyTextOutline(this.textOutline)}}modifyDOM(){let h,t=this.svgElement,e=$i(t.element,"x");for(t.firstLineMetrics=void 0;(h=t.element.firstChild)&&/^[\s\u200B]*$/.test(h.textContent||" ");)t.element.removeChild(h);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(n,o)=>{n.nextSibling&&n.previousSibling&&(o===0&&n.previousSibling.nodeType===1&&(t.firstLineMetrics=t.renderer.fontMetrics(n.previousSibling)),$i(n,{dy:this.getLineHeight(n.nextSibling),x:e}))});let i=this.width||0;if(!i)return;let s=(n,o)=>{let l=n.textContent||"",c=l.replace(/([^\^])-/g,"$1- ").split(" "),g=!this.noWrap&&(c.length>1||t.element.childNodes.length>1),p=this.getLineHeight(o),b=Math.max(0,i-.8*p),y=0,w=t.actualWidth;if(g){let M=[],S=[];for(;o.firstChild&&o.firstChild!==n;)S.push(o.firstChild),o.removeChild(o.firstChild);for(;c.length;)if(c.length&&!this.noWrap&&y>0&&(M.push(n.textContent||""),n.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(n,void 0,c,y===0&&w||0,i,b,(k,P)=>c.slice(0,P).join(" ").replace(/- /g,"-")),w=t.actualWidth,y++,this.lineClamp&&y>=this.lineClamp){c.length&&(this.truncate(n,n.textContent||"",void 0,0,i,b,ti),n.textContent=n.textContent?.replace("\u2026","")+"\u2026");break}S.forEach(k=>{o.insertBefore(k,n)}),M.forEach(k=>{o.insertBefore(Or.createTextNode(k),n);let P=Or.createElementNS(ka,"tspan");P.textContent="\u200B",$i(P,{dy:p,x:e}),o.insertBefore(P,n)})}else this.ellipsis&&l&&this.truncate(n,l,void 0,0,i,b,ti)},r=n=>{[].slice.call(n.childNodes).forEach(o=>{o.nodeType===Pr.Node.TEXT_NODE?s(o,n):(o.className.baseVal.indexOf("highcharts-br")!==-1&&(t.actualWidth=0),r(o))})};r(t.element)}getLineHeight(h){let t=h.nodeType===Pr.Node.TEXT_NODE?h.parentElement:h;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(h){let t=(e,i)=>{let{attributes:s={},children:r,style:n={},tagName:o}=e,l=this.renderer.styledMode;if(o==="b"||o==="strong"?l?s.class="highcharts-strong":n.fontWeight="bold":(o==="i"||o==="em")&&(l?s.class="highcharts-emphasized":n.fontStyle="italic"),n&&n.color&&(n.fill=n.color),o==="br"){s.class="highcharts-br",e.textContent="\u200B";let c=h[i+1];c&&c.textContent&&(c.textContent=c.textContent.replace(/^ +/gm,""))}else o==="a"&&r&&r.some(c=>c.tagName==="#text")&&(e.children=[{children:r,tagName:"tspan"}]);o!=="#text"&&o!=="a"&&(e.tagName="tspan"),Aa(e,{attributes:s,style:n}),r&&r.filter(c=>c.tagName!=="#text").forEach(t)};h.forEach(t),Je(this.svgElement,"afterModifyTree",{nodes:h})}truncate(h,t,e,i,s,r,n){let o,l,c=this.svgElement,{rotation:g}=c,p=[],b=e&&!i?1:0,y=(t||e||"").length,w=y;e||(s=r);let M=function(S,k){let P=k||S,L=h.parentNode;if(L&&p[P]===void 0&&L.getSubStringLength)try{p[P]=i+L.getSubStringLength(0,e?P+1:P)}catch{}return p[P]};if(c.rotation=0,i+(l=M(h.textContent.length))>s){for(;b<=y;)w=Math.ceil((b+y)/2),e&&(o=n(e,w)),l=M(w,o&&o.length-1),b===y?b=y+1:l>s?y=w-1:b=w;y===0?h.textContent="":t&&y===t.length-1||(h.textContent=o||n(t||e,w)),this.ellipsis&&l>s&&this.truncate(h,h.textContent||"",void 0,0,s,r,ti)}e&&e.splice(0,w),c.actualWidth=l,c.rotation=g}unescapeEntities(h,t){return Fn(this.renderer.escapes,function(e,i){t&&t.indexOf(e)!==-1||(h=h.toString().replace(RegExp(e,"g"),i))}),h}},{defaultOptions:Ui}=he,{charts:Ma,deg2rad:We,doc:yi,isFirefox:Rn,isMS:Ss,isWebKit:Ta,noop:zn,SVG_NS:Qt,symbolSizes:vi,win:wi}=R,{addEvent:Se,attr:Cs,createElement:ki,crisp:Hn,css:Os,defined:Ce,destroyObjectProperties:Wn,extend:se,isArray:Ai,isNumber:Jt,isObject:je,isString:jn,merge:Ei,pick:Mi,pInt:Sa,replaceNested:Dr,uniqueKey:Ca}=st;class Ps{constructor(t,e,i,s,r,n,o){let l,c,g=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),p=g.element;o||g.css(this.getStyle(s||{})),t.appendChild(p),Cs(t,"dir","ltr"),t.innerHTML.indexOf("xmlns")===-1&&Cs(p,"xmlns",this.SVG_NS),this.box=p,this.boxWrapper=g,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(yi.createTextNode("Created with Highcharts 12.1.2")),this.defs=this.createElement("defs").add(),this.allowHTML=n,this.forExport=r,this.styledMode=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=g.getStyle("font-size"),this.setSize(e,i,!1),Rn&&t.getBoundingClientRect&&((l=function(){Os(t,{left:0,top:0}),c=t.getBoundingClientRect(),Os(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=Se(wi,"resize",l))}definition(t){return new Lt([t]).addToDOM(this.defs.element)}getReferenceURL(){if((Rn||Ta)&&yi.getElementsByTagName("base").length){if(!Ce(d)){let t=Ca(),e=new Lt([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(yi.body);Os(e,{position:"fixed",top:0,left:0,zIndex:9e5});let i=yi.elementFromPoint(6,6);d=(i&&i.id)==="hitme",yi.body.removeChild(e)}if(d)return Dr(wi.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=se({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Wn(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){let e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map(s=>`${s}-${t[s]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=Ei({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),e}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new Lr(t).buildSVG()}getContrast(t){let e=Gt.parse(t).rgba.map(s=>{let r=s/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),i=.2126*e[0]+.7152*e[1]+.0722*e[2];return 1.05/(i+.05)>(i+.05)/.05?"#FFFFFF":"#000000"}button(t,e,i,s,r={},n,o,l,c,g){let p=this.label(t,e,i,c,void 0,void 0,g,void 0,"button"),b=this.styledMode,y=arguments,w=0;r=Ei(Ui.global.buttonTheme,r),b&&(delete r.fill,delete r.stroke,delete r["stroke-width"]);let M=r.states||{},S=r.style||{};delete r.states,delete r.style;let k=[Lt.filterUserAttributes(r)],P=[S];return b||["hover","select","disabled"].forEach((L,z)=>{k.push(Ei(k[0],Lt.filterUserAttributes(y[z+5]||M[L]||{}))),P.push(k[z+1].style),delete k[z+1].style}),Se(p.element,Ss?"mouseover":"mouseenter",function(){w!==3&&p.setState(1)}),Se(p.element,Ss?"mouseout":"mouseleave",function(){w!==3&&p.setState(w)}),p.setState=(L=0)=>{if(L!==1&&(p.state=w=L),p.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][L]),!b){p.attr(k[L]);let z=P[L];je(z)&&p.css(z)}},p.attr(k[0]),!b&&(p.css(se({cursor:"default"},S)),g&&p.text.css({pointerEvents:"none"})),p.on("touchstart",L=>L.stopPropagation()).on("click",function(L){w!==3&&s.call(p,L)})}crispLine(t,e){let[i,s]=t;return Ce(i[1])&&i[1]===s[1]&&(i[1]=s[1]=Hn(i[1],e)),Ce(i[2])&&i[2]===s[2]&&(i[2]=s[2]=Hn(i[2],e)),t}path(t){let e=this.styledMode?{}:{fill:"none"};return Ai(t)?e.d=t:je(t)&&se(e,t),this.createElement("path").attr(e)}circle(t,e,i){let s=je(t)?t:t===void 0?{}:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(n,o,l){l.setAttribute("c"+o,n)},r.attr(s)}arc(t,e,i,s,r,n){let o;je(t)?(e=(o=t).y,i=o.r,s=o.innerR,r=o.start,n=o.end,t=o.x):o={innerR:s,start:r,end:n};let l=this.symbol("arc",t,e,i,i,o);return l.r=i,l}rect(t,e,i,s,r,n){let o=je(t)?t:t===void 0?{}:{x:t,y:e,r,width:Math.max(i||0,0),height:Math.max(s||0,0)},l=this.createElement("rect");return this.styledMode||(n!==void 0&&(o["stroke-width"]=n,se(o,l.crisp(o))),o.fill="none"),l.rSetter=function(c,g,p){l.r=c,Cs(p,{rx:c,ry:c})},l.rGetter=function(){return l.r||0},l.attr(o)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Mi(i,!0)?void 0:0}),this.alignElements()}g(t){let e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,s,r,n){let o={preserveAspectRatio:"none"};Jt(e)&&(o.x=e),Jt(i)&&(o.y=i),Jt(s)&&(o.width=s),Jt(r)&&(o.height=r);let l=this.createElement("image").attr(o),c=function(g){l.attr({href:t}),n.call(l,g)};if(n){l.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let g=new wi.Image;Se(g,"load",c),g.src=t,g.complete&&c({})}else l.attr({href:t});return l}symbol(t,e,i,s,r,n){let o,l,c,g,p=this,b=/^url\((.*?)\)$/,y=b.test(t),w=!y&&(this.symbols[t]?t:"circle"),M=w&&this.symbols[w];if(M)typeof e=="number"&&(l=M.call(this.symbols,e||0,i||0,s||0,r||0,n)),o=this.path(l),p.styledMode||o.attr("fill","none"),se(o,{symbolName:w||void 0,x:e,y:i,width:s,height:r}),n&&se(o,n);else if(y){c=t.match(b)[1];let S=o=this.image(c);S.imgwidth=Mi(n&&n.width,vi[c]&&vi[c].width),S.imgheight=Mi(n&&n.height,vi[c]&&vi[c].height),g=k=>k.attr({width:k.width,height:k.height}),["width","height"].forEach(k=>{S[`${k}Setter`]=function(P,L){this[L]=P;let{alignByTranslate:z,element:W,width:H,height:I,imgwidth:j,imgheight:Y}=this,U=L==="width"?j:Y,K=1;n&&n.backgroundSize==="within"&&H&&I&&j&&Y?(K=Math.min(H/j,I/Y),Cs(W,{width:Math.round(j*K),height:Math.round(Y*K)})):W&&U&&W.setAttribute(L,U),!z&&j&&Y&&this.translate(((H||0)-j*K)/2,((I||0)-Y*K)/2)}}),Ce(e)&&S.attr({x:e,y:i}),S.isImg=!0,S.symbolUrl=t,Ce(S.imgwidth)&&Ce(S.imgheight)?g(S):(S.attr({width:0,height:0}),ki("img",{onload:function(){let k=Ma[p.chartIndex];this.width===0&&(Os(this,{position:"absolute",top:"-999em"}),yi.body.appendChild(this)),vi[c]={width:this.width,height:this.height},S.imgwidth=this.width,S.imgheight=this.height,S.element&&g(S),this.parentNode&&this.parentNode.removeChild(this),p.imgCount--,p.imgCount||!k||k.hasLoaded||k.onload()},src:c}),this.imgCount++)}return o}clipRect(t,e,i,s){return this.rect(t,e,i,s,0)}text(t,e,i,s){let r={};if(s&&(this.allowHTML||!this.forExport))return this.html(t,e,i);r.x=Math.round(e||0),i&&(r.y=Math.round(i)),Ce(t)&&(r.text=t);let n=this.createElement("text").attr(r);return s&&(!this.forExport||this.allowHTML)||(n.xSetter=function(o,l,c){let g=c.getElementsByTagName("tspan"),p=c.getAttribute(l);for(let b=0,y;b<g.length;b++)(y=g[b]).getAttribute(l)===p&&y.setAttribute(l,o);c.setAttribute(l,o)}),n}fontMetrics(t){let e=Sa(ke.prototype.getStyle.call(t,"font-size")||0),i=e<24?e+3:Math.round(1.2*e),s=Math.round(.8*i);return{h:i,b:s,f:e}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*We),4)),{x:-t/3*Math.sin(e*We),y:s}}pathToSegments(t){let e=[],i=[],s={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let r=0;r<t.length;r++)jn(i[0])&&Jt(t[r])&&i.length===s[i[0].toUpperCase()]&&t.splice(r,0,i[0].replace("M","L").replace("m","l")),typeof t[r]=="string"&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[r]);return e.push(i.slice(0)),e}label(t,e,i,s,r,n,o,l,c){return new Qe(this,t,e,i,s,r,n,o,l,c)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}se(Ps.prototype,{Element:ke,SVG_NS:Qt,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Yi,draw:zn}),Ze.registerRendererType("svg",Ps,!0);let{composed:Oa}=R,{attr:Pa,css:Ti,createElement:La,defined:Xn,extend:Da,getAlignFactor:Ba,isNumber:Na,pInt:Ia,pushUnique:Fa}=st;function Ki(h,t,e){let i=this.div?.style||e.style;ke.prototype[`${t}Setter`].call(this,h,t,e),i&&(i[t]=h)}let Ra=(h,t)=>{if(!h.div){let e=Pa(h.element,"class"),i=h.css,s=La("div",e?{className:e}:void 0,{position:"absolute",left:`${h.translateX||0}px`,top:`${h.translateY||0}px`,...h.styles,display:h.display,opacity:h.opacity,visibility:h.visibility},h.parentGroup?.div||t);h.classSetter=(r,n,o)=>{o.setAttribute("class",r),s.className=r},h.translateXSetter=h.translateYSetter=(r,n)=>{h[n]=r,s.style[n==="translateX"?"left":"top"]=`${r}px`,h.doTransform=!0},h.opacitySetter=h.visibilitySetter=Ki,h.css=r=>(i.call(h,r),r.cursor&&(s.style.cursor=r.cursor),r.pointerEvents&&(s.style.pointerEvents=r.pointerEvents),h),h.on=function(){return ke.prototype.on.apply({element:s,onEvents:h.onEvents},arguments),h},h.div=s}return h.div};class qi extends ke{static compose(t){Fa(Oa,this.compose)&&(t.prototype.html=function(e,i,s){return new qi(this,"span").attr({text:e,x:Math.round(i),y:Math.round(s)})})}constructor(t,e){super(t,e),this.css({position:"absolute",...t.styledMode?{}:{fontFamily:t.style.fontFamily,fontSize:t.style.fontSize}})}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}css(t){let e,{element:i}=this,s=i.tagName==="SPAN"&&t&&"width"in t,r=s&&t.width;return s&&(delete t.width,this.textWidth=Ia(r)||void 0,e=!0),t?.textOverflow==="ellipsis"&&(t.overflow="hidden"),t?.lineClamp&&(t.display="-webkit-box",t.WebkitLineClamp=t.lineClamp,t.WebkitBoxOrient="vertical",t.overflow="hidden"),Na(Number(t?.fontSize))&&(t.fontSize=t.fontSize+"px"),Da(this.styles,t),Ti(i,t),e&&this.updateTransform(),this}htmlGetBBox(){let{element:t}=this;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:t,renderer:e,rotation:i,rotationOriginX:s,rotationOriginY:r,scaleX:n,scaleY:o,styles:l,textAlign:c="left",textWidth:g,translateX:p=0,translateY:b=0,x:y=0,y:w=0}=this,{display:M="block",whiteSpace:S}=l;if(Ti(t,{marginLeft:`${p}px`,marginTop:`${b}px`}),t.tagName==="SPAN"){let k,P=[i,c,t.innerHTML,g,this.textAlign].join(","),L=-(this.parentGroup?.padding*1)||0;if(g!==this.oldTextWidth){let I=this.textPxLength?this.textPxLength:(Ti(t,{width:"",whiteSpace:S||"nowrap"}),t.offsetWidth),j=g||0;(j>this.oldTextWidth||I>j)&&(/[ \-]/.test(t.textContent||t.innerText)||t.style.textOverflow==="ellipsis")&&(Ti(t,{width:I>j||i||n?g+"px":"auto",display:M,whiteSpace:S||"normal"}),this.oldTextWidth=g)}P!==this.cTT&&(k=e.fontMetrics(t).b,Xn(i)&&(i!==(this.oldRotation||0)||c!==this.oldAlign)&&this.setSpanRotation(i,L,L),this.getSpanCorrection(!Xn(i)&&!this.textWidth&&this.textPxLength||t.offsetWidth,k,Ba(c)));let{xCorr:z=0,yCorr:W=0}=this,H={left:`${y+z}px`,top:`${w+W}px`,textAlign:c,transformOrigin:`${(s??y)-z-y-L}px ${(r??w)-W-w-L}px`};(n||o)&&(H.transform=`scale(${n??1},${o??1})`),Ti(t,H),this.cTT=P,this.oldRotation=i,this.oldAlign=c}}setSpanRotation(t,e,i){Ti(this.element,{transform:`rotate(${t}deg)`,transformOrigin:`${e}% ${i}px`})}add(t){let e,i=this.renderer.box.parentNode,s=[];if(this.parentGroup=t,t&&!(e=t.div)){let r=t;for(;r;)s.push(r),r=r.parentGroup;for(let n of s.reverse())e=Ra(n,i)}return(e||i).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Lt.setElementHTML(this.element,t??""),this.textStr=t,this.doTransform=!0)}alignSetter(t){this.alignValue=this.textAlign=t,this.doTransform=!0}xSetter(t,e){this[e]=t,this.doTransform=!0}}let Xe=qi.prototype;Xe.visibilitySetter=Xe.opacitySetter=Ki,Xe.ySetter=Xe.rotationSetter=Xe.rotationOriginXSetter=Xe.rotationOriginYSetter=Xe.xSetter,function(h){h.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},h.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(q||(q={}));let za=q,{addEvent:Ha,isFunction:Gn,objectEach:ei,removeEvent:Ls}=st;(tt||(tt={})).registerEventOptions=function(h,t){h.eventOptions=h.eventOptions||{},ei(t.events,function(e,i){h.eventOptions[i]!==e&&(h.eventOptions[i]&&(Ls(h,i,h.eventOptions[i]),delete h.eventOptions[i]),Gn(e)&&(h.eventOptions[i]=e,Ha(h,i,e,{order:0})))})};let _i=tt,{deg2rad:Ds}=R,{clamp:Vn,correctFloat:Zi,defined:Bs,destroyObjectProperties:Br,extend:Yn,fireEvent:Si,getAlignFactor:$n,isNumber:Ns,merge:Wa,objectEach:ja,pick:xe}=st,Ge=class{constructor(h,t,e,i,s){this.isNew=!0,this.isNewLabel=!0,this.axis=h,this.pos=t,this.type=e||"",this.parameters=s||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Si(this,"init"),e||i||this.addLabel()}addLabel(){let h=this,t=h.axis,e=t.options,i=t.chart,s=t.categories,r=t.logarithmic,n=t.names,o=h.pos,l=xe(h.options&&h.options.labels,e.labels),c=t.tickPositions,g=o===c[0],p=o===c[c.length-1],b=(!l.step||l.step===1)&&t.tickInterval===1,y=c.info,w=h.label,M,S,k,P=this.parameters.category||(s?xe(s[o],n[o],o):o);r&&Ns(P)&&(P=Zi(r.lin2log(P))),t.dateTime&&(y?M=(S=i.time.resolveDTLFormat(e.dateTimeLabelFormats[!e.grid&&y.higherRanks[o]||y.unitName])).main:Ns(P)&&(M=t.dateTime.getXDateFormat(P,e.dateTimeLabelFormats||{}))),h.isFirst=g,h.isLast=p;let L={axis:t,chart:i,dateTimeLabelFormat:M,isFirst:g,isLast:p,pos:o,tick:h,tickPositionInfo:y,value:P};Si(this,"labelFormat",L);let z=I=>l.formatter?l.formatter.call(I,I):l.format?(I.text=t.defaultLabelFormatter.call(I),ce.format(l.format,I,i)):t.defaultLabelFormatter.call(I),W=z.call(L,L),H=S&&S.list;H?h.shortenLabel=function(){for(k=0;k<H.length;k++)if(Yn(L,{dateTimeLabelFormat:H[k]}),w.attr({text:z.call(L,L)}),w.getBBox().width<t.getSlotWidth(h)-2*(l.padding||0))return;w.attr({text:""})}:h.shortenLabel=void 0,b&&t._addedPlotLB&&h.moveLabel(W,l),Bs(w)||h.movedLabel?w&&w.textStr!==W&&!b&&(!w.textWidth||l.style.width||w.styles.width||w.css({width:null}),w.attr({text:W}),w.textPxLength=w.getBBox().width):(h.label=w=h.createLabel(W,l),h.rotation=0)}createLabel(h,t,e){let i=this.axis,{renderer:s,styledMode:r}=i.chart,n=Bs(h)&&t.enabled?s.text(h,e?.x,e?.y,t.useHTML).add(i.labelGroup):void 0;if(n){let o=t.style.whiteSpace||"normal";r||n.css(Wa(t.style,{whiteSpace:"nowrap"})),n.textPxLength=n.getBBox().width,r||n.css({whiteSpace:o})}return n}destroy(){Br(this,this.axis)}getPosition(h,t,e,i){let s=this.axis,r=s.chart,n=i&&r.oldChartHeight||r.chartHeight,o={x:h?Zi(s.translate(t+e,void 0,void 0,i)+s.transB):s.left+s.offset+(s.opposite?(i&&r.oldChartWidth||r.chartWidth)-s.right-s.left:0),y:h?n-s.bottom+s.offset-(s.opposite?s.height:0):Zi(n-s.translate(t+e,void 0,void 0,i)-s.transB)};return o.y=Vn(o.y,-1e9,1e9),Si(this,"afterGetPosition",{pos:o}),o}getLabelPosition(h,t,e,i,s,r,n,o){let l,c,g=this.axis,p=g.transA,b=g.isLinked&&g.linkedParent?g.linkedParent.reversed:g.reversed,y=g.staggerLines,w=g.tickRotCorr||{x:0,y:0},M=i||g.reserveSpaceDefault?0:-g.labelOffset*(g.labelAlign==="center"?.5:1),S=s.distance,k={};return l=g.side===0?e.rotation?-S:-e.getBBox().height:g.side===2?w.y+S:Math.cos(e.rotation*Ds)*(w.y-e.getBBox(!1,0).height/2),Bs(s.y)&&(l=g.side===0&&g.horiz?s.y+l:s.y),h=h+xe(s.x,[0,1,0,-1][g.side]*S)+M+w.x-(r&&i?r*p*(b?-1:1):0),t=t+l-(r&&!i?r*p*(b?1:-1):0),y&&(c=n/(o||1)%y,g.opposite&&(c=y-c-1),t+=c*(g.labelOffset/y)),k.x=h,k.y=Math.round(t),Si(this,"afterGetLabelPosition",{pos:k,tickmarkOffset:r,index:n}),k}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(h,t,e,i,s=!1,r){return r.crispLine([["M",h,t],["L",h+(s?0:-e),t+(s?e:0)]],i)}handleOverflow(h){let t=this.axis,e=t.options.labels,i=h.x,s=t.chart.chartWidth,r=t.chart.spacing,n=xe(t.labelLeft,Math.min(t.pos,r[3])),o=xe(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,s-r[1])),l=this.label,c=this.rotation,g=$n(t.labelAlign||l.attr("align")),p=l.getBBox().width,b=t.getSlotWidth(this),y=b,w=1,M,S,k;c||e.overflow!=="justify"?c<0&&i-g*p<n?k=Math.round(i/Math.cos(c*Ds)-n):c>0&&i+g*p>o&&(k=Math.round((s-i)/Math.cos(c*Ds))):(M=i-g*p,S=i+(1-g)*p,M<n?y=h.x+y*(1-g)-n:S>o&&(y=o-h.x+y*g,w=-1),(y=Math.min(b,y))<b&&t.labelAlign==="center"&&(h.x+=w*(b-y-g*(b-Math.min(p,y)))),(p>y||t.autoRotation&&(l.styles||{}).width)&&(k=y)),k&&l&&(this.shortenLabel?this.shortenLabel():l.css(Yn({},{width:Math.floor(k)+"px",lineClamp:t.isRadial?0:1})))}moveLabel(h,t){let e=this,i=e.label,s=e.axis,r=!1,n;i&&i.textStr===h?(e.movedLabel=i,r=!0,delete e.label):ja(s.ticks,function(o){r||o.isNew||o===e||!o.label||o.label.textStr!==h||(e.movedLabel=o.label,r=!0,o.labelPos=e.movedLabel.xy,delete o.label)}),!r&&(e.labelPos||i)&&(n=e.labelPos||i.xy,e.movedLabel=e.createLabel(h,t,n),e.movedLabel&&e.movedLabel.attr({opacity:0}))}render(h,t,e){let i=this.axis,s=i.horiz,r=this.pos,n=xe(this.tickmarkOffset,i.tickmarkOffset),o=this.getPosition(s,r,n,t),l=o.x,c=o.y,g=i.pos,p=g+i.len,b=s?l:c;!i.chart.polar&&this.isNew&&(Zi(b)<g||b>p)&&(e=0);let y=xe(e,this.label&&this.label.newOpacity,1);e=xe(e,1),this.isActive=!0,this.renderGridLine(t,e),this.renderMark(o,e),this.renderLabel(o,t,y,h),this.isNew=!1,Si(this,"afterRender")}renderGridLine(h,t){let e=this.axis,i=e.options,s={},r=this.pos,n=this.type,o=xe(this.tickmarkOffset,e.tickmarkOffset),l=e.chart.renderer,c=this.gridLine,g,p=i.gridLineWidth,b=i.gridLineColor,y=i.gridLineDashStyle;this.type==="minor"&&(p=i.minorGridLineWidth,b=i.minorGridLineColor,y=i.minorGridLineDashStyle),c||(e.chart.styledMode||(s.stroke=b,s["stroke-width"]=p||0,s.dashstyle=y),n||(s.zIndex=1),h&&(t=0),this.gridLine=c=l.path().attr(s).addClass("highcharts-"+(n?n+"-":"")+"grid-line").add(e.gridGroup)),c&&(g=e.getPlotLinePath({value:r+o,lineWidth:c.strokeWidth(),force:"pass",old:h,acrossPanes:!1}))&&c[h||this.isNew?"attr":"animate"]({d:g,opacity:t})}renderMark(h,t){let e=this.axis,i=e.options,s=e.chart.renderer,r=this.type,n=e.tickSize(r?r+"Tick":"tick"),o=h.x,l=h.y,c=xe(i[r!=="minor"?"tickWidth":"minorTickWidth"],!r&&e.isXAxis?1:0),g=i[r!=="minor"?"tickColor":"minorTickColor"],p=this.mark,b=!p;n&&(e.opposite&&(n[0]=-n[0]),p||(this.mark=p=s.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(e.axisGroup),e.chart.styledMode||p.attr({stroke:g,"stroke-width":c})),p[b?"attr":"animate"]({d:this.getMarkPath(o,l,n[0],p.strokeWidth(),e.horiz,s),opacity:t}))}renderLabel(h,t,e,i){let s=this.axis,r=s.horiz,n=s.options,o=this.label,l=n.labels,c=l.step,g=xe(this.tickmarkOffset,s.tickmarkOffset),p=h.x,b=h.y,y=!0;o&&Ns(p)&&(o.xy=h=this.getLabelPosition(p,b,o,r,l,g,i,c),(!this.isFirst||this.isLast||n.showFirstLabel)&&(!this.isLast||this.isFirst||n.showLastLabel)?!r||l.step||l.rotation||t||e===0||this.handleOverflow(h):y=!1,c&&i%c&&(y=!1),y&&Ns(h.y)?(h.opacity=e,o[this.isNewLabel?"attr":"animate"](h).show(!0),this.isNewLabel=!1):(o.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let h=this.label,t=this.axis;h&&!this.isNew&&(h.animate({opacity:0},void 0,h.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Nr}=Zt,{xAxis:Is,yAxis:Un}=za,{defaultOptions:Ir}=he,{registerEventOptions:Kn}=_i,{deg2rad:Xa}=R,{arrayMax:Fr,arrayMin:Ga,clamp:Rr,correctFloat:de,defined:Ct,destroyObjectProperties:Va,erase:qn,error:Fs,extend:Rs,fireEvent:Dt,getClosestDistance:zr,insertItem:Ya,isArray:zs,isNumber:rt,isString:Qi,merge:Ji,normalizeTickInterval:Hr,objectEach:ts,pick:mt,relativeLength:ii,removeEvent:Hs,splat:$a,syncTimeout:Ua}=st,_n=(h,t)=>Hr(t,void 0,void 0,mt(h.options.allowDecimals,t<.5||h.tickAmount!==void 0),!!h.tickAmount);Rs(Ir,{xAxis:Is,yAxis:Ji(Is,Un)});class Ci{constructor(t,e,i){this.init(t,e,i)}init(t,e,i=this.coll){let s=i==="xAxis",r=this.isZAxis||(t.inverted?!s:s);this.chart=t,this.horiz=r,this.isXAxis=s,this.coll=i,Dt(this,"init",{userOptions:e}),this.opposite=mt(e.opposite,this.opposite),this.side=mt(e.side,this.side,r?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);let n=this.options,o=n.labels;this.type??(this.type=n.type||"linear"),this.uniqueNames??(this.uniqueNames=n.uniqueNames??!0),Dt(this,"afterSetType"),this.userOptions=e,this.minPixelPadding=0,this.reversed=mt(n.reversed,this.reversed),this.visible=n.visible,this.zoomEnabled=n.zoomEnabled,this.hasNames=this.type==="category"||n.categories===!0,this.categories=zs(n.categories)&&n.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Ct(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.max=void 0,this.min=void 0;let l=mt(n.crosshair,$a(t.options.tooltip.crosshairs)[s?0:1]);this.crosshair=l===!0?{}:l,t.axes.indexOf(this)===-1&&(s?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),Ya(this,t[this.coll])),t.orderItems(this.coll),this.series=this.series||[],t.inverted&&!this.isZAxis&&s&&!Ct(this.reversed)&&(this.reversed=!0),this.labelRotation=rt(o.rotation)?o.rotation:void 0,Kn(this,n),Dt(this,"afterInit")}setOptions(t){let e=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Ji(e,Ir[this.coll],t),Dt(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(){let t=this.axis,{numberFormatter:e}=this.chart,i=rt(this.value)?this.value:NaN,s=t.chart.time,r=t.categories,n=this.dateTimeLabelFormat,o=Ir.lang,l=o.numericSymbols,c=o.numericSymbolMagnitude||1e3,g=t.logarithmic?Math.abs(i):t.tickInterval,p=l&&l.length,b,y;if(r)y=`${this.value}`;else if(n)y=s.dateFormat(n,i,!0);else if(p&&l&&g>=1e3)for(;p--&&y===void 0;)g>=(b=Math.pow(c,p+1))&&10*i%b==0&&l[p]!==null&&i!==0&&(y=e(i/b,-1)+l[p]);return y===void 0&&(y=Math.abs(i)>=1e4?e(i,-1):e(i,-1,void 0,"")),y}getSeriesExtremes(){let t,e=this;Dt(this,"getSeriesExtremes",null,function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=void 0,e.softThreshold=!e.isXAxis,e.series.forEach(i=>{if(i.reserveSpace()){let s=i.options,r,n=s.threshold,o,l;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=(n||0)&&(n=void 0),e.isXAxis)(r=i.getColumn("x")).length&&(r=e.logarithmic?r.filter(c=>c>0):r,o=(t=i.getXExtremes(r)).min,l=t.max,rt(o)||o instanceof Date||(r=r.filter(rt),o=(t=i.getXExtremes(r)).min,l=t.max),r.length&&(e.dataMin=Math.min(mt(e.dataMin,o),o),e.dataMax=Math.max(mt(e.dataMax,l),l)));else{let c=i.applyExtremes();rt(c.dataMin)&&(o=c.dataMin,e.dataMin=Math.min(mt(e.dataMin,o),o)),rt(c.dataMax)&&(l=c.dataMax,e.dataMax=Math.max(mt(e.dataMax,l),l)),Ct(n)&&(e.threshold=n),(!s.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}})}),Dt(this,"afterGetSeriesExtremes")}translate(t,e,i,s,r,n){let o=this.linkedParent||this,l=s&&o.old?o.old.min:o.min;if(!rt(l))return NaN;let c=o.minPixelPadding,g=(o.isOrdinal||o.brokenAxis?.hasBreaks||o.logarithmic&&r)&&o.lin2val,p=1,b=0,y=s&&o.old?o.old.transA:o.transA,w=0;return y||(y=o.transA),i&&(p*=-1,b=o.len),o.reversed&&(p*=-1,b-=p*(o.sector||o.len)),e?(w=(t=t*p+b-c)/y+l,g&&(w=o.lin2val(w))):(g&&(t=o.val2lin(t)),w=p*(t-l)*y+b+p*c+(rt(n)?y*n:0),o.isRadial||(w=de(w))),w}toPixels(t,e){return this.translate(this.chart?.time.parse(t)??NaN,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){let e=this,i=e.chart,s=e.left,r=e.top,n=t.old,o=t.value,l=t.lineWidth,c=n&&i.oldChartHeight||i.chartHeight,g=n&&i.oldChartWidth||i.chartWidth,p=e.transB,b=t.translatedValue,y=t.force,w,M,S,k,P;function L(W,H,I){return y!=="pass"&&(W<H||W>I)&&(y?W=Rr(W,H,I):P=!0),W}let z={value:o,lineWidth:l,old:n,force:y,acrossPanes:t.acrossPanes,translatedValue:b};return Dt(this,"getPlotLinePath",z,function(W){w=S=(b=Rr(b=mt(b,e.translate(o,void 0,void 0,n)),-1e9,1e9))+p,M=k=c-b-p,rt(b)?e.horiz?(M=r,k=c-e.bottom+(e.options.isInternal?0:i.scrollablePixelsY||0),w=S=L(w,s,s+e.width)):(w=s,S=g-e.right+(i.scrollablePixelsX||0),M=k=L(M,r,r+e.height)):(P=!0,y=!1),W.path=P&&!y?void 0:i.renderer.crispLine([["M",w,M],["L",S,k]],l||1)}),z.path}getLinearTickPositions(t,e,i){let s,r,n,o=de(Math.floor(e/t)*t),l=de(Math.ceil(i/t)*t),c=[];if(de(o+t)===o&&(n=20),this.single)return[e];for(s=o;s<=l&&(c.push(s),(s=de(s+t,n))!==r);)r=s;return c}getMinorTickInterval(){let{minorTicks:t,minorTickInterval:e}=this.options;return t===!0?mt(e,"auto"):t!==!1?e:void 0}getMinorTickPositions(){let t=this.options,e=this.tickPositions,i=this.minorTickInterval,s=this.pointRangePadding||0,r=(this.min||0)-s,n=(this.max||0)+s,o=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:n-r,l=[],c;if(o&&o/i<this.len/3){let g=this.logarithmic;if(g)this.paddedTicks.forEach(function(p,b,y){b&&l.push.apply(l,g.getLogTickPositions(i,y[b-1],y[b],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")l=l.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),r,n,t.startOfWeek));else for(c=r+(e[0]-r)%i;c<=n&&c!==l[0];c+=i)l.push(c)}return l.length!==0&&this.trimTicks(l),l}adjustForMinRange(){let t=this.options,e=this.logarithmic,i=this.chart.time,{max:s,min:r,minRange:n}=this,o,l,c,g;this.isXAxis&&n===void 0&&!e&&(n=Ct(t.min)||Ct(t.max)||Ct(t.floor)||Ct(t.ceiling)?null:Math.min(5*(zr(this.series.map(p=>{let b=p.getColumn("x");return p.xIncrement?b.slice(0,2):b}))||0),this.dataMax-this.dataMin)),rt(s)&&rt(r)&&rt(n)&&s-r<n&&(l=this.dataMax-this.dataMin>=n,o=(n-s+r)/2,c=[r-o,i.parse(t.min)??r-o],l&&(c[2]=e?e.log2lin(this.dataMin):this.dataMin),g=[(r=Fr(c))+n,i.parse(t.max)??r+n],l&&(g[2]=e?e.log2lin(this.dataMax):this.dataMax),(s=Ga(g))-r<n&&(c[0]=s-n,c[1]=i.parse(t.min)??s-n,r=Fr(c))),this.minRange=n,this.min=r,this.max=s}getClosest(){let t,e;if(this.categories)e=1;else{let i=[];this.series.forEach(function(s){let r=s.closestPointRange,n=s.getColumn("x");n.length===1?i.push(n[0]):s.sorted&&Ct(r)&&s.reserveSpace()&&(e=Ct(e)?Math.min(e,r):r)}),i.length&&(i.sort((s,r)=>s-r),t=zr([i]))}return t&&e?Math.min(t,e):t||e}nameToX(t){let e=zs(this.options.categories),i=e?this.categories:this.names,s=t.options.x,r;return t.series.requireSorting=!1,Ct(s)||(s=this.uniqueNames&&i?e?i.indexOf(t.name):mt(i.keys[t.name],-1):t.series.autoIncrement()),s===-1?!e&&i&&(r=i.length):rt(s)&&(r=s),r!==void 0?(this.names[r]=t.name,this.names.keys[t.name]=r):t.x&&(r=t.x),r}updateNames(){let t=this,e=this.names;e.length>0&&(Object.keys(e.keys).forEach(function(i){delete e.keys[i]}),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(i=>{i.xIncrement=null,(!i.points||i.isDirtyData)&&(t.max=Math.max(t.max||0,i.dataTable.rowCount-1),i.processData(),i.generatePoints());let s=i.getColumn("x").slice();i.data.forEach((r,n)=>{let o=s[n];r?.options&&r.name!==void 0&&(o=t.nameToX(r))!==void 0&&o!==r.x&&(s[n]=r.x=o)}),i.dataTable.setColumn("x",s)}))}setAxisTranslation(){let t=this,e=t.max-t.min,i=t.linkedParent,s=!!t.categories,r=t.isXAxis,n=t.axisPointRange||0,o,l=0,c=0,g,p=t.transA;(r||s||n)&&(o=t.getClosest(),i?(l=i.minPointOffset,c=i.pointRangePadding):t.series.forEach(function(b){let y=s?1:r?mt(b.options.pointRange,o,0):t.axisPointRange||0,w=b.options.pointPlacement;if(n=Math.max(n,y),!t.single||s){let M=b.is("xrange")?!r:r;l=Math.max(l,M&&Qi(w)?0:y/2),c=Math.max(c,M&&w==="on"?0:y)}}),g=t.ordinal&&t.ordinal.slope&&o?t.ordinal.slope/o:1,t.minPointOffset=l*=g,t.pointRangePadding=c*=g,t.pointRange=Math.min(n,t.single&&s?1:e),r&&o&&(t.closestPointRange=o)),t.translationSlope=t.transA=p=t.staticScale||t.len/(e+c||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=p*l,Dt(this,"afterSetAxisTranslation")}minFromRange(){let{max:t,min:e}=this;return rt(t)&&rt(e)&&t-e||void 0}setTickInterval(t){let{categories:e,chart:i,dataMax:s,dataMin:r,dateTime:n,isXAxis:o,logarithmic:l,options:c,softThreshold:g}=this,p=i.time,b=rt(this.threshold)?this.threshold:void 0,y=this.minRange||0,{ceiling:w,floor:M,linkedTo:S,softMax:k,softMin:P}=c,L=rt(S)&&i[this.coll]?.[S],z=c.tickPixelInterval,W=c.maxPadding,H=c.minPadding,I=0,j,Y=rt(c.tickInterval)&&c.tickInterval>=0?c.tickInterval:void 0,U,K,Z,Q;if(n||e||L||this.getTickAmount(),Z=mt(this.userMin,p.parse(c.min)),Q=mt(this.userMax,p.parse(c.max)),L?(this.linkedParent=L,j=L.getExtremes(),this.min=mt(j.min,j.dataMin),this.max=mt(j.max,j.dataMax),this.type!==L.type&&Fs(11,!0,i)):(g&&Ct(b)&&rt(s)&&rt(r)&&(r>=b?(U=b,H=0):s<=b&&(K=b,W=0)),this.min=mt(Z,U,r),this.max=mt(Q,K,s)),rt(this.max)&&rt(this.min)&&(l&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,mt(r,this.min))&&Fs(10,!0,i),this.min=de(l.log2lin(this.min),16),this.max=de(l.log2lin(this.max),16)),this.range&&rt(r)&&(this.userMin=this.min=Z=Math.max(r,this.minFromRange()||0),this.userMax=Q=this.max,this.range=void 0)),Dt(this,"foundExtremes"),this.adjustForMinRange(),rt(this.min)&&rt(this.max)){if(!rt(this.userMin)&&rt(P)&&P<this.min&&(this.min=Z=P),!rt(this.userMax)&&rt(k)&&k>this.max&&(this.max=Q=k),e||this.axisPointRange||this.stacking?.usePercentage||L||!(I=this.max-this.min)||(!Ct(Z)&&H&&(this.min-=I*H),Ct(Q)||!W||(this.max+=I*W)),!rt(this.userMin)&&rt(M)&&(this.min=Math.max(this.min,M)),!rt(this.userMax)&&rt(w)&&(this.max=Math.min(this.max,w)),g&&rt(r)&&rt(s)){let J=b||0;!Ct(Z)&&this.min<J&&r>=J?this.min=c.minRange?Math.min(J,this.max-y):J:!Ct(Q)&&this.max>J&&s<=J&&(this.max=c.minRange?Math.max(J,this.min+y):J)}!i.polar&&this.min>this.max&&(Ct(c.min)?this.max=this.min:Ct(c.max)&&(this.min=this.max)),I=this.max-this.min}if(this.min!==this.max&&rt(this.min)&&rt(this.max)?L&&!Y&&z===L.options.tickPixelInterval?this.tickInterval=Y=L.tickInterval:this.tickInterval=mt(Y,this.tickAmount?I/Math.max(this.tickAmount-1,1):void 0,e?1:I*z/Math.max(this.len,z)):this.tickInterval=1,o&&!t){let J=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(it){it.forceCrop=it.forceCropping?.(),it.processData(J)}),Dt(this,"postProcessData",{hasExtremesChanged:J})}this.setAxisTranslation(),Dt(this,"initialAxisTranslation"),this.pointRange&&!Y&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let et=mt(c.minTickInterval,n&&!this.series.some(J=>!J.sorted)?this.closestPointRange:0);!Y&&this.tickInterval<et&&(this.tickInterval=et),n||l||Y||(this.tickInterval=_n(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let t=this.options,e=t.tickPositions,i=t.tickPositioner,s=this.getMinorTickInterval(),r=!this.isPanning,n=r&&t.startOnTick,o=r&&t.endOnTick,l=[],c;if(this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Ct(this.min)&&!this.tickAmount&&(this.min%1==0||t.allowDecimals!==!1),e)l=e.slice();else if(rt(this.min)&&rt(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))l=[this.min,this.max],Fs(19,!1,this.chart);else if(this.dateTime)l=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)l=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let g=this.tickInterval,p=g;for(;p<=2*g&&(l=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&l.length>this.tickAmount);)this.tickInterval=_n(this,p*=1.1)}l.length>this.len&&(l=[l[0],l[l.length-1]])[0]===l[1]&&(l.length=1),i&&(this.tickPositions=l,(c=i.apply(this,[this.min,this.max]))&&(l=c))}this.tickPositions=l,this.minorTickInterval=s==="auto"&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:s,this.paddedTicks=l.slice(0),this.trimTicks(l,n,o),!this.isLinked&&rt(this.min)&&rt(this.max)&&(this.single&&l.length<2&&!this.categories&&!this.series.some(g=>g.is("heatmap")&&g.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),e||c||this.adjustTickAmount()),Dt(this,"afterSetTickPositions")}trimTicks(t,e,i){let s=t[0],r=t[t.length-1],n=!this.isOrdinal&&this.minPointOffset||0;if(Dt(this,"trimTicks"),!this.isLinked){if(e&&s!==-1/0)this.min=s;else for(;this.min-n>t[0];)t.shift();if(i)this.max=r;else for(;this.max+n<t[t.length-1];)t.pop();t.length===0&&Ct(s)&&!this.options.tickPositions&&t.push((r+s)/2)}}alignToOthers(){let t,e=this,i=e.chart,s=[this],r=e.options,n=i.options.chart,o=this.coll==="yAxis"&&n.alignThresholds,l=[];if(e.thresholdAlignment=void 0,(n.alignTicks!==!1&&r.alignTicks||o)&&r.startOnTick!==!1&&r.endOnTick!==!1&&!e.logarithmic){let c=p=>{let{horiz:b,options:y}=p;return[b?y.left:y.top,y.width,y.height,y.pane].join(",")},g=c(this);i[this.coll].forEach(function(p){let{series:b}=p;b.length&&b.some(y=>y.visible)&&p!==e&&c(p)===g&&(t=!0,s.push(p))})}if(t&&o){s.forEach(g=>{let p=g.getThresholdAlignment(e);rt(p)&&l.push(p)});let c=l.length>1?l.reduce((g,p)=>g+=p,0)/l.length:void 0;s.forEach(g=>{g.thresholdAlignment=c})}return t}getThresholdAlignment(t){if((!rt(this.dataMin)||this!==t&&this.series.some(e=>e.isDirty||e.isDirtyData))&&this.getSeriesExtremes(),rt(this.threshold)){let e=Rr((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(e=1-e),e}}getTickAmount(){let t=this.options,e=t.tickPixelInterval,i=t.tickAmount;Ct(t.tickInterval)||i||!(this.len<e)||this.isRadial||this.logarithmic||!t.startOnTick||!t.endOnTick||(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),i<4&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){let t=this,{finalTickAmt:e,max:i,min:s,options:r,tickPositions:n,tickAmount:o,thresholdAlignment:l}=t,c=n?.length,g=mt(t.threshold,t.softThreshold?0:null),p,b,y=t.tickInterval,w,M=()=>n.push(de(n[n.length-1]+y)),S=()=>n.unshift(de(n[0]-y));if(rt(l)&&(w=l<.5?Math.ceil(l*(o-1)):Math.floor(l*(o-1)),r.reversed&&(w=o-1-w)),t.hasData()&&rt(s)&&rt(i)){let k=()=>{t.transA*=(c-1)/(o-1),t.min=r.startOnTick?n[0]:Math.min(s,n[0]),t.max=r.endOnTick?n[n.length-1]:Math.max(i,n[n.length-1])};if(rt(w)&&rt(t.threshold)){for(;n[w]!==g||n.length!==o||n[0]>s||n[n.length-1]<i;){for(n.length=0,n.push(t.threshold);n.length<o;)n[w]===void 0||n[w]>t.threshold?S():M();if(y>8*t.tickInterval)break;y*=2}k()}else if(c<o){for(;n.length<o;)n.length%2||s===g?M():S();k()}if(Ct(e)){for(b=p=n.length;b--;)(e===3&&b%2==1||e<=2&&b>0&&b<p-1)&&n.splice(b,1);t.finalTickAmt=void 0}}}setScale(){let{coll:t,stacking:e}=this,i=!1,s=!1;this.series.forEach(n=>{i=i||n.isDirtyData||n.isDirty,s=s||n.xAxis&&n.xAxis.isDirty||!1}),this.setAxisSize();let r=this.len!==(this.old&&this.old.len);r||i||s||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(e&&t==="yAxis"&&e.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),e&&t==="xAxis"&&e.buildStacks(),this.isDirty||(this.isDirty=r||this.min!==this.old?.min||this.max!==this.old?.max)):e&&e.cleanStacks(),i&&delete this.allExtremes,Dt(this,"afterSetScale")}setExtremes(t,e,i=!0,s,r){let n=this.chart;this.series.forEach(o=>{delete o.kdTree}),t=n.time.parse(t),e=n.time.parse(e),Dt(this,"setExtremes",r=Rs(r,{min:t,max:e}),o=>{this.userMin=o.min,this.userMax=o.max,this.eventArgs=o,i&&n.redraw(s)})}setAxisSize(){let t=this.chart,e=this.options,i=e.offsets||[0,0,0,0],s=this.horiz,r=this.width=Math.round(ii(mt(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),n=this.height=Math.round(ii(mt(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),o=this.top=Math.round(ii(mt(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop)),l=this.left=Math.round(ii(mt(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-n-o,this.right=t.chartWidth-r-l,this.len=Math.max(s?r:n,0),this.pos=s?l:o}getExtremes(){let t=this.logarithmic;return{min:t?de(t.lin2log(this.min)):this.min,max:t?de(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){let e=this.logarithmic,i=e?e.lin2log(this.min):this.min,s=e?e.lin2log(this.max):this.max;return t===null||t===-1/0?t=i:t===1/0?t=s:i>t?t=i:s<t&&(t=s),this.translate(t,0,1,0,1)}autoLabelAlign(t){let e=(mt(t,0)-90*this.side+720)%360,i={align:"center"};return Dt(this,"autoLabelAlign",i,function(s){e>15&&e<165?s.align="right":e>195&&e<345&&(s.align="left")}),i.align}tickSize(t){let e=this.options,i=mt(e[t==="tick"?"tickWidth":"minorTickWidth"],t==="tick"&&this.isXAxis&&!this.categories?1:0),s=e[t==="tick"?"tickLength":"minorTickLength"],r;i&&s&&(e[t+"Position"]==="inside"&&(s=-s),r=[s,i]);let n={tickSize:r};return Dt(this,"afterTickSize",n),n.tickSize}labelMetrics(){let t=this.chart.renderer,e=this.ticks,i=e[Object.keys(e)[0]]||{};return this.chart.renderer.fontMetrics(i.label||i.movedLabel||t.box)}unsquish(){let t=this.options.labels,e=t.padding||0,i=this.horiz,s=this.tickInterval,r=this.len/(((this.categories?1:0)+this.max-this.min)/s),n=t.rotation,o=de(.8*this.labelMetrics().h),l=Math.max(this.max-this.min,0),c=function(w){let M=(w+2*e)/(r||1);return(M=M>1?Math.ceil(M):1)*s>l&&w!==1/0&&r!==1/0&&l&&(M=Math.ceil(l/s)),de(M*s)},g=s,p,b=Number.MAX_VALUE,y;if(i){if(!t.staggerLines&&(rt(n)?y=[n]:r<t.autoRotationLimit&&(y=t.autoRotation)),y){let w,M;for(let S of y)(S===n||S&&S>=-90&&S<=90)&&(M=(w=c(Math.abs(o/Math.sin(Xa*S))))+Math.abs(S/360))<b&&(b=M,p=S,g=w)}}else g=c(.75*o);return this.autoRotation=y,this.labelRotation=mt(p,rt(n)?n:0),t.step?s:g}getSlotWidth(t){let e=this.chart,i=this.horiz,s=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=e.margin[3];if(t&&rt(t.slotWidth))return t.slotWidth;if(i&&s.step<2&&!this.isRadial)return s.rotation?0:(this.staggerLines||1)*this.len/r;if(!i){let o=s.style.width;if(o!==void 0)return parseInt(String(o),10);if(n)return n-e.spacing[3]}return .33*e.chartWidth}renderUnsquish(){let t=this.chart,e=t.renderer,i=this.tickPositions,s=this.ticks,r=this.options.labels,n=r.style,o=this.horiz,l=this.getSlotWidth(),c=Math.max(1,Math.round(l-(o?2*(r.padding||0):r.distance||0))),g={},p=this.labelMetrics(),b=n.lineClamp,y,w=b??(Math.floor(this.len/(i.length*p.h))||1),M=0;Qi(r.rotation)||(g.rotation=r.rotation||0),i.forEach(function(S){let k=s[S];k.movedLabel&&k.replaceMovedLabel();let P=k.label?.textPxLength||0;P>M&&(M=P)}),this.maxLabelLength=M,this.autoRotation?M>c&&M>p.h?g.rotation=this.labelRotation:this.labelRotation=0:l&&(y=c),g.rotation&&(y=M>.5*t.chartHeight?.33*t.chartHeight:M,b||(w=1)),this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(g.align=this.labelAlign),i.forEach(function(S){let k=s[S],P=k&&k.label,L=n.width,z={};P&&(P.attr(g),k.shortenLabel?k.shortenLabel():y&&!L&&n.whiteSpace!=="nowrap"&&(y<(P.textPxLength||0)||P.element.tagName==="SPAN")?P.css(Rs(z,{width:`${y}px`,lineClamp:w})):!P.styles.width||z.width||L||P.css({width:"auto"}),k.rotation=g.rotation)},this),this.tickRotCorr=e.rotCorr(p.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(t){return t.hasData()})||this.options.showEmpty&&Ct(this.min)&&Ct(this.max)}addTitle(t){let e,i=this.chart.renderer,s=this.horiz,r=this.opposite,n=this.options.title,o=this.chart.styledMode;this.axisTitle||((e=n.textAlign)||(e=(s?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[n.align]),this.axisTitle=i.text(n.text||"",0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation||0,align:e}).addClass("highcharts-axis-title"),o||this.axisTitle.css(Ji(n.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||n.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){let e=this.ticks;e[t]?e[t].addLabel():e[t]=new Ge(this,t)}createGroups(){let{axisParent:t,chart:e,coll:i,options:s}=this,r=e.renderer,n=(o,l,c)=>r.g(o).attr({zIndex:c}).addClass(`highcharts-${i.toLowerCase()}${l} `+(this.isRadial?`highcharts-radial-axis${l} `:"")+(s.className||"")).add(t);this.axisGroup||(this.gridGroup=n("grid","-grid",s.gridZIndex),this.axisGroup=n("axis","",s.zIndex),this.labelGroup=n("axis-labels","-labels",s.labels.zIndex))}getOffset(){let t=this,{chart:e,horiz:i,options:s,side:r,ticks:n,tickPositions:o,coll:l}=t,c=e.inverted&&!t.isZAxis?[1,0,3,2][r]:r,g=t.hasData(),p=s.title,b=s.labels,y=rt(s.crossing),w=e.axisOffset,M=e.clipOffset,S=[-1,1,1,-1][r],k,P=0,L,z=0,W=0,H,I;if(t.showAxis=k=g||s.showEmpty,t.staggerLines=t.horiz&&b.staggerLines||void 0,t.createGroups(),g||t.isLinked?(o.forEach(function(j){t.generateTick(j)}),t.renderUnsquish(),t.reserveSpaceDefault=r===0||r===2||{1:"left",3:"right"}[r]===t.labelAlign,mt(b.reserveSpace,!y&&null,t.labelAlign==="center"||null,t.reserveSpaceDefault)&&o.forEach(function(j){W=Math.max(n[j].getLabelSize(),W)}),t.staggerLines&&(W*=t.staggerLines),t.labelOffset=W*(t.opposite?-1:1)):ts(n,function(j,Y){j.destroy(),delete n[Y]}),p?.text&&p.enabled!==!1&&(t.addTitle(k),k&&!y&&p.reserveSpace!==!1&&(t.titleOffset=P=t.axisTitle.getBBox()[i?"height":"width"],z=Ct(L=p.offset)?0:mt(p.margin,i?5:10))),t.renderLine(),t.offset=S*mt(s.offset,w[r]?w[r]+(s.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},I=r===0?-t.labelMetrics().h:r===2?t.tickRotCorr.y:0,H=Math.abs(W)+z,W&&(H-=I,H+=S*(i?mt(b.y,t.tickRotCorr.y+S*b.distance):mt(b.x,S*b.distance))),t.axisTitleMargin=mt(L,H),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(n,o)),l!=="colorAxis"&&M){let j=this.tickSize("tick");w[r]=Math.max(w[r],(t.axisTitleMargin||0)+P+S*t.offset,H,o&&o.length&&j?j[0]+S*t.offset:0);let Y=!t.axisLine||s.offset?0:t.axisLine.strokeWidth()/2;M[c]=Math.max(M[c],Y)}Dt(this,"afterGetOffset")}getLinePath(t){let e=this.chart,i=this.opposite,s=this.offset,r=this.horiz,n=this.left+(i?this.width:0)+s,o=e.chartHeight-this.bottom-(i?this.height:0)+s;return i&&(t*=-1),e.renderer.crispLine([["M",r?this.left:n,r?o:this.top],["L",r?e.chartWidth-this.right:n,r?o:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){let e=this.horiz,i=this.left,s=this.top,r=this.len,n=this.options.title,o=e?i:s,l=this.opposite,c=this.offset,g=n.x,p=n.y,b=this.chart.renderer.fontMetrics(t),y=t?Math.max(t.getBBox(!1,0).height-b.h-1,0):0,w={low:o+(e?0:r),middle:o+r/2,high:o+(e?r:0)}[n.align],M=(e?s+this.height:i)+(e?1:-1)*(l?-1:1)*(this.axisTitleMargin||0)+[-y,y,b.f,-y][this.side],S={x:e?w+g:M+(l?this.width:0)+c+g,y:e?M+p-(l?this.height:0)+c:w+p};return Dt(this,"afterGetTitlePosition",{titlePosition:S}),S}renderMinorTick(t,e){let i=this.minorTicks;i[t]||(i[t]=new Ge(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){let s=this.isLinked,r=this.ticks;(!s||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(r[t]||(r[t]=new Ge(this,t)),i&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))}render(){let t,e,i=this,s=i.chart,r=i.logarithmic,n=s.renderer,o=i.options,l=i.isLinked,c=i.tickPositions,g=i.axisTitle,p=i.ticks,b=i.minorTicks,y=i.alternateBands,w=o.stackLabels,M=o.alternateGridColor,S=o.crossing,k=i.tickmarkOffset,P=i.axisLine,L=i.showAxis,z=Nr(n.globalAnimation);if(i.labelEdge.length=0,i.overlap=!1,[p,b,y].forEach(function(W){ts(W,function(H){H.isActive=!1})}),rt(S)){let W=this.isXAxis?s.yAxis[0]:s.xAxis[0],H=[1,-1,-1,1][this.side];if(W){let I=W.toPixels(S,!0);i.horiz&&(I=W.len-I),i.offset=H*I}}if(i.hasData()||l){let W=i.chart.hasRendered&&i.old&&rt(i.old.min);i.minorTickInterval&&!i.categories&&i.getMinorTickPositions().forEach(function(H){i.renderMinorTick(H,W)}),c.length&&(c.forEach(function(H,I){i.renderTick(H,I,W)}),k&&(i.min===0||i.single)&&(p[-1]||(p[-1]=new Ge(i,-1,null,!0)),p[-1].render(-1))),M&&c.forEach(function(H,I){e=c[I+1]!==void 0?c[I+1]+k:i.max-k,I%2==0&&H<i.max&&e<=i.max+(s.polar?-k:k)&&(y[H]||(y[H]=new R.PlotLineOrBand(i,{})),t=H+k,y[H].options={from:r?r.lin2log(t):t,to:r?r.lin2log(e):e,color:M,className:"highcharts-alternate-grid"},y[H].render(),y[H].isActive=!0)}),i._addedPlotLB||(i._addedPlotLB=!0,(o.plotLines||[]).concat(o.plotBands||[]).forEach(function(H){i.addPlotBandOrLine(H)}))}[p,b,y].forEach(function(W){let H=[],I=z.duration;ts(W,function(j,Y){j.isActive||(j.render(Y,!1,0),j.isActive=!1,H.push(Y))}),Ua(function(){let j=H.length;for(;j--;)W[H[j]]&&!W[H[j]].isActive&&(W[H[j]].destroy(),delete W[H[j]])},W!==y&&s.hasRendered&&I?I:0)}),P&&(P[P.isPlaced?"animate":"attr"]({d:this.getLinePath(P.strokeWidth())}),P.isPlaced=!0,P[L?"show":"hide"](L)),g&&L&&(g[g.isNew?"attr":"animate"](i.getTitlePosition(g)),g.isNew=!1),w&&w.enabled&&i.stacking&&i.stacking.renderStackTotals(),i.old={len:i.len,max:i.max,min:i.min,transA:i.transA,userMax:i.userMax,userMin:i.userMin},i.isDirty=!1,Dt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})}getKeepProps(){return this.keepProps||Ci.keepProps}destroy(t){let e=this,i=e.plotLinesAndBands,s=this.eventOptions;if(Dt(this,"destroy",{keepEvents:t}),t||Hs(e),[e.ticks,e.minorTicks,e.alternateBands].forEach(function(r){Va(r)}),i){let r=i.length;for(;r--;)i[r].destroy()}for(let r in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(n){e[n]&&(e[n]=e[n].destroy())}),e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[r]=e.plotLinesAndBandsGroups[r].destroy();ts(e,function(r,n){e.getKeepProps().indexOf(n)===-1&&delete e[n]}),this.eventOptions=s}drawCrosshair(t,e){let i=this.crosshair,s=mt(i&&i.snap,!0),r=this.chart,n,o,l,c=this.cross,g;if(Dt(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),i&&(Ct(e)||!s)!==!1){if(s?Ct(e)&&(o=mt(this.coll!=="colorAxis"?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):o=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),Ct(o)&&(g={value:e&&(this.isXAxis?e.x:mt(e.stackY,e.y)),translatedValue:o},r.polar&&Rs(g,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),n=this.getPlotLinePath(g)||null),!Ct(n)){this.hideCrosshair();return}l=this.categories&&!this.isRadial,c||(this.cross=c=r.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(l?"category ":"thin ")+(i.className||"")).attr({zIndex:mt(i.zIndex,2)}).add(),!r.styledMode&&(c.attr({stroke:i.color||(l?Gt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":mt(i.width,1)}).css({"pointer-events":"none"}),i.dashStyle&&c.attr({dashstyle:i.dashStyle}))),c.show().attr({d:n}),l&&!i.width&&c.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();Dt(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),Dt(this,"afterHideCrosshair")}update(t,e){let i=this.chart;t=Ji(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,mt(e,!0)&&i.redraw()}remove(t){let e=this.chart,i=this.coll,s=this.series,r=s.length;for(;r--;)s[r]&&s[r].remove(!1);qn(e.axes,this),qn(e[i]||[],this),e.orderItems(i),this.destroy(),e.isDirtyBox=!0,mt(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}Ci.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Ka,getMagnitude:qa,normalizeTickInterval:Zn,timeUnits:Ws}=st;(function(h){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function e(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new i(this))}h.compose=function(s){return s.keepProps.includes("dateTime")||(s.keepProps.push("dateTime"),s.prototype.getTimeTicks=t,Ka(s,"afterSetType",e)),s};class i{constructor(r){this.axis=r}normalizeTimeTickInterval(r,n){let o=n||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],l=o[o.length-1],c=Ws[l[0]],g=l[1],p;for(p=0;p<o.length&&(c=Ws[(l=o[p])[0]],g=l[1],!o[p+1]||!(r<=(c*g[g.length-1]+Ws[o[p+1][0]])/2));p++);c===Ws.year&&r<5*c&&(g=[1,2,5]);let b=Zn(r/c,g,l[0]==="year"?Math.max(qa(r/c),1):1);return{unitRange:c,count:b,unitName:l[0]}}getXDateFormat(r,n){let{axis:o}=this,l=o.chart.time;return o.closestPointRange?l.getDateFormat(o.closestPointRange,r,o.options.startOfWeek,n)||l.resolveDTLFormat(n.year).main:l.resolveDTLFormat(n.day).main}}h.Additions=i})(ut||(ut={}));let Oe=ut,{addEvent:Qn,normalizeTickInterval:_a,pick:Za}=st;(function(h){function t(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new i(this))}function e(){let s=this.logarithmic;s&&(this.lin2val=function(r){return s.lin2log(r)},this.val2lin=function(r){return s.log2lin(r)})}h.compose=function(s){return s.keepProps.includes("logarithmic")||(s.keepProps.push("logarithmic"),Qn(s,"afterSetType",t),Qn(s,"afterInit",e)),s};class i{constructor(r){this.axis=r}getLogTickPositions(r,n,o,l){let c=this.axis,g=c.len,p=c.options,b=[];if(l||(this.minorAutoInterval=void 0),r>=.5)r=Math.round(r),b=c.getLinearTickPositions(r,n,o);else if(r>=.08){let y,w,M,S,k,P,L,z=Math.floor(n);for(y=r>.3?[1,2,4]:r>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],w=z;w<o+1&&!L;w++)for(M=0,S=y.length;M<S&&!L;M++)(k=this.log2lin(this.lin2log(w)*y[M]))>n&&(!l||P<=o)&&P!==void 0&&b.push(P),P>o&&(L=!0),P=k}else{let y=this.lin2log(n),w=this.lin2log(o),M=l?c.getMinorTickInterval():p.tickInterval,S=p.tickPixelInterval/(l?5:1),k=l?g/c.tickPositions.length:g;r=_a(r=Za(M==="auto"?null:M,this.minorAutoInterval,(w-y)*S/(k||1))),b=c.getLinearTickPositions(r,y,w).map(this.log2lin),l||(this.minorAutoInterval=r/5)}return l||(c.tickInterval=r),b}lin2log(r){return Math.pow(10,r)}log2lin(r){return Math.log(r)/Math.LN10}}h.Additions=i})(ct||(ct={}));let Qa=ct,{erase:Jn,extend:es,isNumber:Oi}=st;(function(h){let t;function e(c){return this.addPlotBandOrLine(c,"plotBands")}function i(c,g){let p=this.userOptions,b=new t(this,c);if(this.visible&&(b=b.render()),b){if(this._addedPlotLB||(this._addedPlotLB=!0,(p.plotLines||[]).concat(p.plotBands||[]).forEach(y=>{this.addPlotBandOrLine(y)})),g){let y=p[g]||[];y.push(c),p[g]=y}this.plotLinesAndBands.push(b)}return b}function s(c){return this.addPlotBandOrLine(c,"plotLines")}function r(c,g,p){p=p||this.options;let b=this.getPlotLinePath({value:g,force:!0,acrossPanes:p.acrossPanes}),y=[],w=this.horiz,M=!Oi(this.min)||!Oi(this.max)||c<this.min&&g<this.min||c>this.max&&g>this.max,S=this.getPlotLinePath({value:c,force:!0,acrossPanes:p.acrossPanes}),k,P=1,L;if(S&&b)for(M&&(L=S.toString()===b.toString(),P=0),k=0;k<S.length;k+=2){let z=S[k],W=S[k+1],H=b[k],I=b[k+1];(z[0]==="M"||z[0]==="L")&&(W[0]==="M"||W[0]==="L")&&(H[0]==="M"||H[0]==="L")&&(I[0]==="M"||I[0]==="L")&&(w&&H[1]===z[1]?(H[1]+=P,I[1]+=P):w||H[2]!==z[2]||(H[2]+=P,I[2]+=P),y.push(["M",z[1],z[2]],["L",W[1],W[2]],["L",I[1],I[2]],["L",H[1],H[2]],["Z"])),y.isFlat=L}return y}function n(c){this.removePlotBandOrLine(c)}function o(c){let g=this.plotLinesAndBands,p=this.options,b=this.userOptions;if(g){let y=g.length;for(;y--;)g[y].id===c&&g[y].destroy();[p.plotLines||[],b.plotLines||[],p.plotBands||[],b.plotBands||[]].forEach(function(w){for(y=w.length;y--;)(w[y]||{}).id===c&&Jn(w,w[y])})}}function l(c){this.removePlotBandOrLine(c)}h.compose=function(c,g){let p=g.prototype;return p.addPlotBand||(t=c,es(p,{addPlotBand:e,addPlotLine:s,addPlotBandOrLine:i,getPlotBandPath:r,removePlotBand:n,removePlotLine:l,removePlotBandOrLine:o})),g}})(kt||(kt={}));let js=kt,{addEvent:to,arrayMax:Xs,arrayMin:Gs,defined:ye,destroyObjectProperties:Ja,erase:tl,fireEvent:eo,merge:io,objectEach:Wr,pick:el}=st;class Vs{static compose(t,e){return to(t,"afterInit",function(){this.labelCollectors.push(()=>{let i=[];for(let s of this.axes)for(let{label:r,options:n}of s.plotLinesAndBands)r&&!n?.label?.allowOverlap&&i.push(r);return i})}),js.compose(Vs,e)}constructor(t,e){this.axis=t,this.options=e,this.id=e.id}render(){eo(this,"render");let{axis:t,options:e}=this,{horiz:i,logarithmic:s}=t,{color:r,events:n,zIndex:o=0}=e,{renderer:l,time:c}=t.chart,g={},p=c.parse(e.to),b=c.parse(e.from),y=c.parse(e.value),w=e.borderWidth,M=e.label,{label:S,svgElem:k}=this,P=[],L,z=ye(b)&&ye(p),W=ye(y),H=!k,I={class:"highcharts-plot-"+(z?"band ":"line ")+(e.className||"")},j=z?"bands":"lines";if(!t.chart.styledMode&&(W?(I.stroke=r||"#999999",I["stroke-width"]=el(e.width,1),e.dashStyle&&(I.dashstyle=e.dashStyle)):z&&(I.fill=r||"#e6e9ff",w&&(I.stroke=e.borderColor,I["stroke-width"]=w))),g.zIndex=o,j+="-"+o,(L=t.plotLinesAndBandsGroups[j])||(t.plotLinesAndBandsGroups[j]=L=l.g("plot-"+j).attr(g).add()),k||(this.svgElem=k=l.path().attr(I).add(L)),ye(y))P=t.getPlotLinePath({value:s?.log2lin(y)??y,lineWidth:k.strokeWidth(),acrossPanes:e.acrossPanes});else{if(!(ye(b)&&ye(p)))return;P=t.getPlotBandPath(s?.log2lin(b)??b,s?.log2lin(p)??p,e)}return!this.eventsAdded&&n&&(Wr(n,(Y,U)=>{k?.on(U,K=>{n[U].apply(this,[K])})}),this.eventsAdded=!0),(H||!k.d)&&P?.length?k.attr({d:P}):k&&(P?(k.show(),k.animate({d:P})):k.d&&(k.hide(),S&&(this.label=S=S.destroy()))),M&&(ye(M.text)||ye(M.formatter))&&P?.length&&t.width>0&&t.height>0&&!P.isFlat?(M=io({align:i&&z?"center":void 0,x:i?!z&&4:10,verticalAlign:!i&&z?"middle":void 0,y:i?z?16:10:z?6:-4,rotation:i&&!z?90:0,...z?{inside:!0}:{}},M),this.renderLabel(M,P,z,o)):S&&S.hide(),this}renderLabel(t,e,i,s){let r=this.axis,n=r.chart.renderer,o=t.inside,l=this.label;l||(this.label=l=n.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||""),zIndex:s}),r.chart.styledMode||l.css(io({fontSize:"0.8em",textOverflow:i&&!o?"":"ellipsis"},t.style)),l.add());let c=e.xBounds||[e[0][1],e[1][1],i?e[2][1]:e[0][1]],g=e.yBounds||[e[0][2],e[1][2],i?e[2][2]:e[0][2]],p=Gs(c),b=Gs(g),y=Xs(c)-p;l.align(t,!1,{x:p,y:b,width:y,height:Xs(g)-b}),(!l.alignValue||l.alignValue==="left"||ye(o))&&l.css({width:(t.style?.width||(i&&o?y:l.rotation===90?r.height-(l.alignAttr.y-r.top):(t.clip?r.width:r.chart.chartWidth)-(l.alignAttr.x-r.left)))+"px"}),l.show(!0)}getLabelText(t){return ye(t.formatter)?t.formatter.call(this):t.text}destroy(){tl(this.axis.plotLinesAndBands,this),delete this.axis,Ja(this)}}let{animObject:il}=Zt,{format:Ys}=ce,{composed:sl,dateFormats:si,doc:jr,isSafari:$s}=R,{distribute:rl}=Te,{addEvent:so,clamp:Ve,css:ro,discardElement:nl,extend:ol,fireEvent:Ye,isArray:al,isNumber:Xr,isObject:no,isString:Gr,merge:Vr,pick:ri,pushUnique:ge,splat:Yr,syncTimeout:m}=st;class a{constructor(t,e,i){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=t,this.init(t,e),this.pointer=i}bodyFormatter(t){return t.map(e=>{let i=e.series.tooltipOptions,s=e.formatPrefix||"point";return(i[s+"Formatter"]||e.tooltipFormatter).call(e,i[s+"Format"]||"")})}cleanSplit(t){this.chart.series.forEach(function(e){let i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})}defaultFormatter(t){let e,i=this.points||Yr(this);return(e=(e=[t.headerFooterFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.headerFooterFormatter(i[0],!0)),e}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),nl(this.container)),st.clearTimeout(this.hideTimer)}getAnchor(t,e){let i,{chart:s,pointer:r}=this,n=s.inverted,o=s.plotTop,l=s.plotLeft;if((t=Yr(t))[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)e.chartX===void 0&&(e=r.normalize(e)),i=[e.chartX-l,e.chartY-o];else if(t[0].tooltipPos)i=t[0].tooltipPos;else{let c=0,g=0;t.forEach(function(p){let b=p.pos(!0);b&&(c+=b[0],g+=b[1])}),c/=t.length,g/=t.length,this.shared&&t.length>1&&e&&(n?c=e.chartX:g=e.chartY),i=[c-l,g-o]}return i.map(Math.round)}getClassName(t,e,i){let s=this.options,r=t.series,n=r.options;return[s.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+ri(t.colorIndex,r.colorIndex),n&&n.className].filter(Gr).join(" ")}getLabel({anchorX:t,anchorY:e}={anchorX:0,anchorY:0}){let i=this,s=this.chart.styledMode,r=this.options,n=this.split&&this.allowShared,o=this.container,l=this.chart.renderer;if(this.label){let c=!this.label.hasClass("highcharts-label");(!n&&c||n&&!c)&&this.destroy()}if(!this.label){if(this.outside){let c=this.chart,g=c.options.chart.style,p=Ze.getRendererType();this.container=o=R.doc.createElement("div"),o.className="highcharts-tooltip-container "+(c.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),ro(o,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(g&&g.zIndex||0)+3)}),this.renderer=l=new p(o,0,0,g,void 0,void 0,l.styledMode)}if(n?this.label=l.g("tooltip"):(this.label=l.label("",t,e,r.shape,void 0,void 0,r.useHTML,void 0,"tooltip").attr({padding:r.padding,r:r.borderRadius}),s||this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth||0}).css(r.style).css({pointerEvents:r.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),i.outside){let c=this.label;[c.xSetter,c.ySetter].forEach((g,p)=>{c[p?"ySetter":"xSetter"]=b=>{g.call(c,i.distance),c[p?"y":"x"]=b,o&&(o.style[p?"top":"left"]=`${b}px`)}})}this.label.attr({zIndex:8}).shadow(r.shadow).add()}return o&&!o.parentElement&&R.doc.body.appendChild(o),this.label}getPlayingField(){let{body:t,documentElement:e}=jr,{chart:i,distance:s,outside:r}=this;return{width:r?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*s-2:i.chartWidth,height:r?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){let{distance:s,chart:r,outside:n,pointer:o}=this,{inverted:l,plotLeft:c,plotTop:g,polar:p}=r,{plotX:b=0,plotY:y=0}=i,w={},M=l&&i.h||0,{height:S,width:k}=this.getPlayingField(),P=o.getChartPosition(),L=J=>J*P.scaleX,z=J=>J*P.scaleY,W=J=>{let it=J==="x";return[J,it?k:S,it?t:e].concat(n?[it?L(t):z(e),it?P.left-s+L(b+c):P.top-s+z(y+g),0,it?k:S]:[it?t:e,it?b+c:y+g,it?c:g,it?c+r.plotWidth:g+r.plotHeight])},H=W("y"),I=W("x"),j,Y=!!i.negative;!p&&r.hoverSeries?.yAxis?.reversed&&(Y=!Y);let U=!this.followPointer&&ri(i.ttBelow,!p&&!l===Y),K=function(J,it,bt,lt,ht,yt,at){let $t=n?J==="y"?z(s):L(s):s,Rt=(bt-lt)/2,Et=lt<ht-s,Ot=ht+s+lt<it,qt=ht-$t-bt+Rt,Ft=ht+$t-Rt;if(U&&Ot)w[J]=Ft;else if(!U&&Et)w[J]=qt;else if(Et)w[J]=Math.min(at-lt,qt-M<0?qt:qt-M);else{if(!Ot)return!1;w[J]=Math.max(yt,Ft+M+bt>it?Ft:Ft+M)}},Z=function(J,it,bt,lt,ht){if(ht<s||ht>it-s)return!1;ht<bt/2?w[J]=1:ht>it-lt/2?w[J]=it-lt-2:w[J]=ht-bt/2},Q=function(J){[H,I]=[I,H],j=J},et=()=>{K.apply(0,H)!==!1?Z.apply(0,I)!==!1||j||(Q(!0),et()):j?w.x=w.y=0:(Q(!0),et())};return(l&&!p||this.len>1)&&Q(),et(),w}hide(t){let e=this;st.clearTimeout(this.hideTimer),t=ri(t,this.options.hideDelay),this.isHidden||(this.hideTimer=m(function(){let i=e.getLabel();e.getLabel().animate({opacity:0},{duration:t&&150,complete:()=>{i.hide(),e.container&&e.container.remove()}}),e.isHidden=!0},t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=ri(e.outside,!!(t.scrollablePixelsX||t.scrollablePixelsY))}shouldStickOnContact(t){return!!(!this.followPointer&&this.options.stickOnContact&&(!t||this.pointer.inClass(t.target,"highcharts-tooltip")))}move(t,e,i,s){let r=this,n=il(!r.isHidden&&r.options.animation),o=r.followPointer||(r.len||0)>1,l={x:t,y:e};o||(l.anchorX=i,l.anchorY=s),n.step=()=>r.drawTracker(),r.getLabel().animate(l,n)}refresh(t,e){let{chart:i,options:s,pointer:r,shared:n}=this,o=Yr(t),l=o[0],c=s.format,g=s.formatter||this.defaultFormatter,p=i.styledMode,b=this.allowShared;if(!s.enabled||!l.series)return;st.clearTimeout(this.hideTimer),this.allowShared=!(!al(t)&&t.series&&t.series.noSharedTooltip),b=b&&!this.allowShared,this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;let y=this.getAnchor(t,e),w=y[0],M=y[1];n&&this.allowShared&&(r.applyInactiveState(o),o.forEach(P=>P.setState("hover")),l.points=o),this.len=o.length;let S=Gr(c)?Ys(c,l,i):g.call(l,this);l.points=void 0;let k=l.series;if(this.distance=ri(k.tooltipOptions.distance,16),S===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(S,o);else{let P=w,L=M;if(e&&r.isDirectTouch&&(P=e.chartX-i.plotLeft,L=e.chartY-i.plotTop),i.polar||k.options.clip===!1||o.some(z=>r.isDirectTouch||z.series.shouldShowTooltip(P,L))){let z=this.getLabel(b&&this.tt||{});(!s.style.width||p)&&z.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),z.attr({class:this.getClassName(l),text:S&&S.join?S.join(""):S}),this.outside&&z.attr({x:Ve(z.x||0,0,this.getPlayingField().width-(z.width||0)-1)}),p||z.attr({stroke:s.borderColor||l.color||k.color||"#666666"}),this.updatePosition({plotX:w,plotY:M,negative:l.negative,ttBelow:l.ttBelow,h:y[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Ye(this,"refresh")}renderSplit(t,e){let i=this,{chart:s,chart:{chartWidth:r,chartHeight:n,plotHeight:o,plotLeft:l,plotTop:c,scrollablePixelsY:g=0,scrollablePixelsX:p,styledMode:b},distance:y,options:w,options:{positioner:M},pointer:S}=i,{scrollLeft:k=0,scrollTop:P=0}=s.scrollablePlotArea?.scrollingContainer||{},L=i.outside&&typeof p!="number"?jr.documentElement.getBoundingClientRect():{left:k,right:k+r,top:P,bottom:P+n},z=i.getLabel(),W=this.renderer||s.renderer,H=!!(s.xAxis[0]&&s.xAxis[0].opposite),{left:I,top:j}=S.getChartPosition(),Y=c+P,U=0,K=o-g;function Z(lt,ht,yt,at,$t=!0){let Rt,Et;return yt?(Rt=H?0:K,Et=Ve(lt-at/2,L.left,L.right-at-(i.outside?I:0))):(Rt=ht-Y,Et=Ve(Et=$t?lt-at-y:lt+y,$t?Et:L.left,L.right)),{x:Et,y:Rt}}Gr(t)&&(t=[!1,t]);let Q=t.slice(0,e.length+1).reduce(function(lt,ht,yt){if(ht!==!1&&ht!==""){let at=e[yt-1]||{isHeader:!0,plotX:e[0].plotX,plotY:o,series:{}},$t=at.isHeader,Rt=$t?i:at.series,Et=Rt.tt=function(_t,ue,Ue){let Fi=_t,{isHeader:tn,series:Oo}=ue;if(!Fi){let Js={padding:w.padding,r:w.borderRadius};b||(Js.fill=w.backgroundColor,Js["stroke-width"]=w.borderWidth??1),Fi=W.label("",0,0,w[tn?"headerShape":"shape"],void 0,void 0,w.useHTML).addClass(i.getClassName(ue,!0,tn)).attr(Js).add(z)}return Fi.isActive=!0,Fi.attr({text:Ue}),b||Fi.css(w.style).attr({stroke:w.borderColor||ue.color||Oo.color||"#333333"}),Fi}(Rt.tt,at,ht.toString()),Ot=Et.getBBox(),qt=Ot.width+Et.strokeWidth();$t&&(U=Ot.height,K+=U,H&&(Y-=U));let{anchorX:Ft,anchorY:le}=function(_t){let ue,Ue,{isHeader:Fi,plotX:tn=0,plotY:Oo=0,series:Js}=_t;if(Fi)ue=Math.max(l+tn,l),Ue=c+o/2;else{let{xAxis:Ic,yAxis:Fc}=Js;ue=Ic.pos+Ve(tn,-y,Ic.len+y),Js.shouldShowTooltip(0,Fc.pos-c+Oo,{ignoreX:!0})&&(Ue=Fc.pos+Oo)}return{anchorX:ue=Ve(ue,L.left-y,L.right+y),anchorY:Ue}}(at);if(typeof le=="number"){let _t=Ot.height+1,ue=M?M.call(i,qt,_t,at):Z(Ft,le,$t,qt);lt.push({align:M?0:void 0,anchorX:Ft,anchorY:le,boxWidth:qt,point:at,rank:ri(ue.rank,$t?1:0),size:_t,target:ue.y,tt:Et,x:ue.x})}else Et.isActive=!1}return lt},[]);!M&&Q.some(lt=>{let{outside:ht}=i,yt=(ht?I:0)+lt.anchorX;return yt<L.left&&yt+lt.boxWidth<L.right||yt<I-L.left+lt.boxWidth&&L.right-yt>yt})&&(Q=Q.map(lt=>{let{x:ht,y:yt}=Z(lt.anchorX,lt.anchorY,lt.point.isHeader,lt.boxWidth,!1);return ol(lt,{target:yt,x:ht})})),i.cleanSplit(),rl(Q,K);let et={left:I,right:I};Q.forEach(function(lt){let{x:ht,boxWidth:yt,isHeader:at}=lt;!at&&(i.outside&&I+ht<et.left&&(et.left=I+ht),!at&&i.outside&&et.left+yt>et.right&&(et.right=I+ht))}),Q.forEach(function(lt){let{x:ht,anchorX:yt,anchorY:at,pos:$t,point:{isHeader:Rt}}=lt,Et={visibility:$t===void 0?"hidden":"inherit",x:ht,y:($t||0)+Y,anchorX:yt,anchorY:at};if(i.outside&&ht<yt){let Ot=I-et.left;Ot>0&&(Rt||(Et.x=ht+Ot,Et.anchorX=yt+Ot),Rt&&(Et.x=(et.right-et.left)/2,Et.anchorX=yt+Ot))}lt.tt.attr(Et)});let{container:J,outside:it,renderer:bt}=i;if(it&&J&&bt){let{width:lt,height:ht,x:yt,y:at}=z.getBBox();bt.setSize(lt+yt,ht+at,!1),J.style.left=et.left+"px",J.style.top=j+"px"}$s&&z.attr({opacity:z.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(!e||!i)return;let s={x:0,y:0,width:0,height:0},r=this.getAnchor(i),n=e.getBBox();r[0]+=t.plotLeft-(e.translateX||0),r[1]+=t.plotTop-(e.translateY||0),s.x=Math.min(0,r[0]),s.y=Math.min(0,r[1]),s.width=r[0]<0?Math.max(Math.abs(r[0]),n.width-r[0]):Math.max(Math.abs(r[0]),n.width),s.height=r[1]<0?Math.max(Math.abs(r[1]),n.height-Math.abs(r[1])):Math.max(Math.abs(r[1]),n.height),this.tracker?this.tracker.attr(s):(this.tracker=e.renderer.rect(s).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(t,e){let i=t.series,s=i.tooltipOptions,r=i.xAxis,n=r&&r.dateTime,o={isFooter:e,point:t},l=s.xDateFormat||"",c=s[e?"footerFormat":"headerFormat"];return Ye(this,"headerFormatter",o,function(g){if(n&&!l&&Xr(t.key)&&(l=n.getXDateFormat(t.key,s.dateTimeLabelFormats)),n&&l){if(no(l)){let p=l;si[0]=b=>i.chart.time.dateFormat(p,b),l="%0"}(t.tooltipDateKeys||["key"]).forEach(p=>{c=c.replace(RegExp("point\\."+p+"([ \\)}])",""),`(point.${p}:${l})$1`)})}i.chart.styledMode&&(c=this.styledModeFormat(c)),g.text=Ys(c,t,this.chart)}),o.text||""}update(t){this.destroy(),this.init(this.chart,Vr(!0,this.options,t))}updatePosition(t){let{chart:e,container:i,distance:s,options:r,pointer:n,renderer:o}=this,{height:l=0,width:c=0}=this.getLabel(),{left:g,top:p,scaleX:b,scaleY:y}=n.getChartPosition(),w=(r.positioner||this.getPosition).call(this,c,l,t),M=R.doc,S=(t.plotX||0)+e.plotLeft,k=(t.plotY||0)+e.plotTop,P;o&&i&&(r.positioner&&(w.x+=g-s,w.y+=p-s),P=(r.borderWidth||0)+2*s+2,o.setSize(Ve(c+P,0,M.documentElement.clientWidth)-1,l+P,!1),(b!==1||y!==1)&&(ro(i,{transform:`scale(${b}, ${y})`}),S*=b,k*=y),S+=g-w.x,k+=p-w.y),this.move(Math.round(w.x),Math.round(w.y||0),S,k)}}(function(h){h.compose=function(t){ge(sl,"Core.Tooltip")&&so(t,"afterInit",function(){let e=this.chart;e.options.tooltip&&(e.tooltip=new h(e,e.options.tooltip,this))})}})(a||(a={}));let u=a,{animObject:f}=Zt,{defaultOptions:v}=he,{format:E}=ce,{addEvent:A,crisp:O,erase:D,extend:B,fireEvent:F,getNestedProperty:G,isArray:X,isFunction:V,isNumber:$,isObject:_,merge:ft,pick:dt,syncTimeout:Mt,removeEvent:vt,uniqueKey:nt}=st;class ot{animateBeforeDestroy(){let t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach(function(s){t[s]=t[s].animate(s==="dataLabel"?{x:t[s].startXPos,y:t[s].startYPos,opacity:0}:e)}),i.plural.forEach(function(s){t[s].forEach(function(r){r.element&&r.animate(B({x:t.startXPos},r.startYPos?{x:r.startXPos,y:r.startYPos}:{}))})})}applyOptions(t,e){let i=this.series,s=i.options.pointValKey||i.pointValKey;return B(this,t=ot.prototype.optionsToObject.call(this,t)),this.options=this.options?B(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,s&&(this.y=ot.prototype.getNestedProperty.call(this,s)),this.selected&&(this.state="select"),"name"in this&&e===void 0&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),this.x===void 0&&i?this.x=e??i.autoIncrement():$(t.x)&&i.options.relativeXValue?this.x=i.autoIncrement(t.x):typeof this.x=="string"&&(e??(e=i.chart.time.parse(this.x)),$(e)&&(this.x=e)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,e=t.series,i=e.chart,s=e.options.dataSorting,r=i.hoverPoints,n=f(t.series.chart.renderer.globalAnimation),o=()=>{for(let l in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(vt(t),t.destroyElements()),t)delete t[l]};t.legendItem&&i.legend.destroyItem(t),r&&(t.setState(),D(r,t),r.length||(i.hoverPoints=null)),t===i.hoverPoint&&t.onMouseOut(),s&&s.enabled?(this.animateBeforeDestroy(),Mt(o,n.duration)):o(),i.pointCount--}this.destroyed=!0}destroyElements(t){let e=this,i=e.getGraphicalProps(t);i.singular.forEach(function(s){e[s]=e[s].destroy()}),i.plural.forEach(function(s){e[s].forEach(function(r){r&&r.element&&r.destroy()}),delete e[s]})}firePointEvent(t,e,i){let s=this,r=this.series.options;s.manageEvent(t),t==="click"&&r.allowPointSelect&&(i=function(n){!s.destroyed&&s.select&&s.select(null,n.ctrlKey||n.metaKey||n.shiftKey)}),F(s,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let e,i,s=this,r=[],n={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","connector"),t.dataLabel&&r.push("dataLabel","dataLabelPath","dataLabelUpper"),i=r.length;i--;)s[e=r[i]]&&n.singular.push(e);return["graphic","dataLabel"].forEach(function(o){let l=o+"s";t[o]&&s[l]&&n.plural.push(l)}),n}getNestedProperty(t){return t?t.indexOf("custom.")===0?G(t,this.options):this[t]:void 0}getZone(){let t=this.series,e=t.zones,i=t.zoneAxis||"y",s,r=0;for(s=e[0];this[i]>=s.value;)s=e[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),s&&s.color&&!this.options.color?this.color=s.color:this.color=this.nonZonedColor,s}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(t,e,i){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=t,this.applyOptions(e,i),this.id??(this.id=nt()),this.resolveColor(),t.chart.pointCount++,F(this,"afterInit")}isValid(){return($(this.x)||this.x instanceof Date)&&$(this.y)}optionsToObject(t){let e=this.series,i=e.options.keys,s=i||e.pointArrayMap||["y"],r=s.length,n={},o,l=0,c=0;if($(t)||t===null)n[s[0]]=t;else if(X(t))for(!i&&t.length>r&&((o=typeof t[0])=="string"?e.xAxis?.dateTime?n.x=e.chart.time.parse(t[0]):n.name=t[0]:o==="number"&&(n.x=t[0]),l++);c<r;)i&&t[l]===void 0||(s[c].indexOf(".")>0?ot.prototype.setNestedProperty(n,t[l],s[c]):n[s[c]]=t[l]),l++,c++;else typeof t=="object"&&(n=t,t.dataLabels&&(e.hasDataLabels=()=>!0),t.marker&&(e._hasPointMarkers=!0));return n}pos(t,e=this.plotY){if(!this.destroyed){let{plotX:i,series:s}=this,{chart:r,xAxis:n,yAxis:o}=s,l=0,c=0;if($(i)&&$(e))return t&&(l=n?n.pos:r.plotLeft,c=o?o.pos:r.plotTop),r.inverted&&n&&o?[o.len-e+c,n.len-i+l]:[i+l,e+c]}}resolveColor(){let t=this.series,e=t.chart.options.chart,i=t.chart.styledMode,s,r,n=e.colorCount,o;delete this.nonZonedColor,t.options.colorByPoint?(i||(s=(r=t.options.colors||t.chart.options.colors)[t.colorCounter],n=r.length),o=t.colorCounter,t.colorCounter++,t.colorCounter===n&&(t.colorCounter=0)):(i||(s=t.color),o=t.colorIndex),this.colorIndex=dt(this.options.colorIndex,o),this.color=dt(this.options.color,s)}setNestedProperty(t,e,i){return i.split(".").reduce(function(s,r,n,o){let l=o.length-1===n;return s[r]=l?e:_(s[r],!0)?s[r]:{},s[r]},t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){let{chart:e,pointArrayMap:i=["y"],tooltipOptions:s}=this.series,{valueDecimals:r="",valuePrefix:n="",valueSuffix:o=""}=s;return e.styledMode&&(t=e.tooltip?.styledModeFormat(t)||t),i.forEach(l=>{l="{point."+l,(n||o)&&(t=t.replace(RegExp(l+"}","g"),n+l+"}"+o)),t=t.replace(RegExp(l+"}","g"),l+":,."+r+"f}")}),E(t,this,e)}update(t,e,i,s){let r,n=this,o=n.series,l=n.graphic,c=o.chart,g=o.options;function p(){n.applyOptions(t);let b=l&&n.hasMockGraphic,y=n.y===null?!b:b;l&&y&&(n.graphic=l.destroy(),delete n.hasMockGraphic),_(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol!==void 0&&(n.graphic=l.destroy()),t?.dataLabels&&n.dataLabel&&(n.dataLabel=n.dataLabel.destroy())),r=n.index;let w={};for(let M of o.dataColumnKeys())w[M]=n[M];o.dataTable.setRow(w,r),g.data[r]=_(g.data[r],!0)||_(t,!0)?n.options:dt(t,g.data[r]),o.isDirty=o.isDirtyData=!0,!o.fixedBox&&o.hasCartesianSeries&&(c.isDirtyBox=!0),g.legendType==="point"&&(c.isDirtyLegend=!0),e&&c.redraw(i)}e=dt(e,!0),s===!1?p():n.firePointEvent("update",{options:t},p)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){let i=this,s=i.series,r=s.chart;t=dt(t,!i.selected),this.selectedStaging=t,i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,s.options.data[s.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||r.getSelectedPoints().forEach(function(n){let o=n.series;n.selected&&n!==i&&(n.selected=n.options.selected=!1,o.options.data[o.data.indexOf(n)]=n.options,n.setState(r.hoverPoints&&o.options.inactiveOtherPoints?"inactive":""),n.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(t){let{inverted:e,pointer:i}=this.series.chart;i&&(t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e),i.runPointActions(t,this))}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(e){e.setState()}),t.hoverPoints=t.hoverPoint=null}manageEvent(t){let e=ft(this.series.options.point,this.options),i=e.events?.[t];V(i)&&(!this.hcEvents?.[t]||this.hcEvents?.[t]?.map(s=>s.fn).indexOf(i)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=A(this,t,i),this.hcEvents&&(this.hcEvents[t].userEvent=!0)):this.importedUserEvent&&!i&&this.hcEvents?.[t]&&this.hcEvents?.[t].userEvent&&(vt(this,t),delete this.hcEvents[t],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(t,e){let i=this.series,s=this.state,r=i.options.states[t||"normal"]||{},n=v.plotOptions[i.type].marker&&i.options.marker,o=n&&n.enabled===!1,l=n&&n.states&&n.states[t||"normal"]||{},c=l.enabled===!1,g=this.marker||{},p=i.chart,b=n&&i.markerAttribs,y=i.halo,w,M,S,k=i.stateMarkerGraphic,P;if((t=t||"")===this.state&&!e||this.selected&&t!=="select"||r.enabled===!1||t&&(c||o&&l.enabled===!1)||t&&g.states&&g.states[t]&&g.states[t].enabled===!1)return;if(this.state=t,b&&(w=i.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(s&&this.graphic.removeClass("highcharts-point-"+s),t&&this.graphic.addClass("highcharts-point-"+t),!p.styledMode){M=i.pointAttribs(this,t),S=dt(p.options.chart.animation,r.animation);let H=M.opacity;i.options.inactiveOtherPoints&&$(H)&&(this.dataLabels||[]).forEach(function(I){I&&!I.hasClass("highcharts-data-label-hidden")&&(I.animate({opacity:H},S),I.connector&&I.connector.animate({opacity:H},S))}),this.graphic.animate(M,S)}w&&this.graphic.animate(w,dt(p.options.chart.animation,l.animation,n.animation)),k&&k.hide()}else t&&l&&(P=g.symbol||i.symbol,k&&k.currentSymbol!==P&&(k=k.destroy()),w&&(k?k[e?"animate":"attr"]({x:w.x,y:w.y}):P&&(i.stateMarkerGraphic=k=p.renderer.symbol(P,w.x,w.y,w.width,w.height,ft(n,l)).add(i.markerGroup),k.currentSymbol=P)),!p.styledMode&&k&&this.state!=="inactive"&&k.attr(i.pointAttribs(this,t))),k&&(k[t&&this.isInside?"show":"hide"](),k.element.point=this,k.addClass(this.getClassName(),!0));let L=r.halo,z=this.graphic||k,W=z&&z.visibility||"inherit";L&&L.size&&z&&W!=="hidden"&&!this.isCluster?(y||(i.halo=y=p.renderer.path().add(z.parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(L.size)}),y.attr({class:"highcharts-halo highcharts-color-"+dt(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:W,zIndex:-1}),y.point=this,p.styledMode||y.attr(B({fill:this.color||i.color,"fill-opacity":L.opacity},Lt.filterUserAttributes(L.attributes||{})))):y?.point?.haloPath&&!y.point.destroyed&&y.animate({d:y.point.haloPath(0)},null,y.hide),F(this,"afterSetState",{state:t})}haloPath(t){let e=this.pos();return e?this.series.chart.renderer.symbols.circle(O(e[0],1)-t,e[1]-t,2*t,2*t):[]}}let wt=ot,{parse:St}=Gt,{charts:Vt,composed:Yt,isTouchDevice:$e}=R,{addEvent:re,attr:ll,css:Pe,extend:ni,find:$r,fireEvent:Pi,isNumber:oo,isObject:ao,objectEach:ad,offset:ld,pick:Le,pushUnique:hd,splat:Eh}=st;class te{applyInactiveState(t){let e=[],i;(t||[]).forEach(function(s){i=s.series,e.push(i),i.linkedParent&&e.push(i.linkedParent),i.linkedSeries&&(e=e.concat(i.linkedSeries)),i.navigatorSeries&&e.push(i.navigatorSeries)}),this.chart.series.forEach(function(s){e.indexOf(s)===-1?s.setState("inactive",!0):s.options.inactiveOtherPoints&&s.setAllPointsToState("inactive")})}destroy(){let t=this;this.eventsToUnbind.forEach(e=>e()),this.eventsToUnbind=[],!R.chartCount&&(te.unbindDocumentMouseUp.forEach(e=>e.unbind()),te.unbindDocumentMouseUp.length=0,te.unbindDocumentTouchEnd&&(te.unbindDocumentTouchEnd=te.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),ad(t,function(e,i){t[i]=void 0})}getSelectionMarkerAttrs(t,e){let i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return Pi(this,"getSelectionMarkerAttrs",i,s=>{let r,{chart:n,zoomHor:o,zoomVert:l}=this,{mouseDownX:c=0,mouseDownY:g=0}=n,p=s.attrs;p.x=n.plotLeft,p.y=n.plotTop,p.width=o?1:n.plotWidth,p.height=l?1:n.plotHeight,o&&(r=t-c,p.width=Math.max(1,Math.abs(r)),p.x=(r>0?0:r)+c),l&&(r=e-g,p.height=Math.max(1,Math.abs(r)),p.y=(r>0?0:r)+g)}),i}drag(t){let{chart:e}=this,{mouseDownX:i=0,mouseDownY:s=0}=e,{panning:r,panKey:n,selectionMarkerFill:o}=e.options.chart,l=e.plotLeft,c=e.plotTop,g=e.plotWidth,p=e.plotHeight,b=ao(r)?r.enabled:r,y=n&&t[`${n}Key`],w=t.chartX,M=t.chartY,S,k=this.selectionMarker;if((!k||!k.touch)&&(w<l?w=l:w>l+g&&(w=l+g),M<c?M=c:M>c+p&&(M=c+p),this.hasDragged=Math.sqrt(Math.pow(i-w,2)+Math.pow(s-M,2)),this.hasDragged>10)){S=e.isInsidePlot(i-l,s-c,{visiblePlotOnly:!0});let{shapeType:P,attrs:L}=this.getSelectionMarkerAttrs(w,M);(e.hasCartesianSeries||e.mapView)&&this.hasZoom&&S&&!y&&!k&&(this.selectionMarker=k=e.renderer[P](),k.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||k.attr({fill:o||St("#334eff").setOpacity(.25).get()})),k&&k.attr(L),S&&!k&&b&&e.pan(t,r)}}dragStart(t){let e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=t.chartX,e.mouseDownY=t.chartY}getSelectionBox(t){let e={args:{marker:t},result:t.getBBox()};return Pi(this,"getSelectionBox",e),e.result}drop(t){let e,{chart:i,selectionMarker:s}=this;for(let r of i.axes)r.isPanning&&(r.isPanning=!1,(r.options.startOnTick||r.options.endOnTick||r.series.some(n=>n.boosted))&&(r.forceRedraw=!0,r.setExtremes(r.userMin,r.userMax,!1),e=!0));if(e&&i.redraw(),s&&t){if(this.hasDragged){let r=this.getSelectionBox(s);i.transform({axes:i.axes.filter(n=>n.zoomEnabled&&(n.coll==="xAxis"&&this.zoomX||n.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:t,xAxis:[],yAxis:[],...r},from:r})}oo(i.index)&&(this.selectionMarker=s.destroy())}i&&oo(i.index)&&(Pe(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(t,e,i){let s;return t.forEach(function(r){let n=!(r.noSharedTooltip&&e)&&0>r.options.findNearestPointBy.indexOf("y"),o=r.searchPoint(i,n);ao(o,!0)&&o.series&&(!ao(s,!0)||function(l,c){let g=l.distX-c.distX,p=l.dist-c.dist,b=c.series.group?.zIndex-l.series.group?.zIndex;return g!==0&&e?g:p!==0?p:b!==0?b:l.series.index>c.series.index?-1:1}(s,o)>0)&&(s=o)}),s}getChartCoordinatesFromPoint(t,e){let{xAxis:i,yAxis:s}=t.series,r=t.shapeArgs;if(i&&s){let n=t.clientX??t.plotX??0,o=t.plotY||0;return t.isNode&&r&&oo(r.x)&&oo(r.y)&&(n=r.x,o=r.y),e?{chartX:s.len+s.pos-o,chartY:i.len+i.pos-n}:{chartX:n+i.pos,chartY:o+s.pos}}if(r&&r.x&&r.y)return{chartX:r.x,chartY:r.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,e=ld(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};let{offsetHeight:i,offsetWidth:s}=t;return s>2&&i>2&&(this.chartPosition.scaleX=e.width/s,this.chartPosition.scaleY=e.height/i),this.chartPosition}getCoordinates(t){let e={xAxis:[],yAxis:[]};for(let i of this.chart.axes)e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])});return e}getHoverData(t,e,i,s,r,n){let o=[],l=function(y){return y.visible&&!(!r&&y.directTouch)&&Le(y.options.enableMouseTracking,!0)},c=e,g,p={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:r};Pi(this,"beforeGetHoverData",p),g=c&&!c.stickyTracking?[c]:i.filter(y=>y.stickyTracking&&(p.filter||l)(y));let b=s&&t||!n?t:this.findNearestKDPoint(g,r,n);return c=b&&b.series,b&&(r&&!c.noSharedTooltip?(g=i.filter(function(y){return p.filter?p.filter(y):l(y)&&!y.noSharedTooltip})).forEach(function(y){let w=$r(y.points,function(M){return M.x===b.x&&!M.isNull});ao(w)&&(y.boosted&&y.boost&&(w=y.boost.getPoint(w)),o.push(w))}):o.push(b)),Pi(this,"afterGetHoverData",p={hoverPoint:b}),{hoverPoint:p.hoverPoint,hoverSeries:c,hoverPoints:o}}getPointFromEvent(t){let e=t.target,i;for(;e&&!i;)i=e.point,e=e.parentNode;return i}onTrackerMouseOut(t){let e=this.chart,i=t.relatedTarget,s=e.hoverSeries;this.isDirectTouch=!1,!s||!i||s.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+s.index)&&this.inClass(i,"highcharts-tracker")||s.onMouseOut()}inClass(t,e){let i=t,s;for(;i;){if(s=ll(i,"class")){if(s.indexOf(e)!==-1)return!0;if(s.indexOf("highcharts-container")!==-1)return!1}i=i.parentElement}}constructor(t,e){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=e,this.chart=t,this.runChartClick=!!e.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Pi(this,"afterInit")}normalize(t,e){let i=t.touches,s=i?i.length?i.item(0):Le(i.changedTouches,t.changedTouches)[0]:t;e||(e=this.getChartPosition());let r=s.pageX-e.left,n=s.pageY-e.top;return ni(t,{chartX:Math.round(r/=e.scaleX),chartY:Math.round(n/=e.scaleY)})}onContainerClick(t){let e=this.chart,i=e.hoverPoint,s=this.normalize(t),r=e.plotLeft,n=e.plotTop;!e.cancelClick&&(i&&this.inClass(s.target,"highcharts-tracker")?(Pi(i.series,"click",ni(s,{point:i})),e.hoverPoint&&i.firePointEvent("click",s)):(ni(s,this.getCoordinates(s)),e.isInsidePlot(s.chartX-r,s.chartY-n,{visiblePlotOnly:!0})&&Pi(e,"click",s)))}onContainerMouseDown(t){let e=(1&(t.buttons||t.button))==1;t=this.normalize(t),R.isFirefox&&t.button!==0&&this.onContainerMouseMove(t),(t.button===void 0||e)&&(this.zoomOption(t),e&&t.preventDefault?.(),this.dragStart(t))}onContainerMouseLeave(t){let{pointer:e}=Vt[Le(te.hoverChartIndex,-1)]||{};t=this.normalize(t),this.onContainerMouseMove(t),e&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.reset(),e.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(t){let e=this.chart,i=e.tooltip,s=this.normalize(t);this.setHoverChartIndex(t),(e.mouseIsDown==="mousedown"||this.touchSelect(s))&&this.drag(s),!e.openMenu&&(this.inClass(s.target,"highcharts-tracker")||e.isInsidePlot(s.chartX-e.plotLeft,s.chartY-e.plotTop,{visiblePlotOnly:!0}))&&!(i&&i.shouldStickOnContact(s))&&(this.inClass(s.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(s))}onDocumentTouchEnd(t){this.onDocumentMouseUp(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let e=this.chart,i=e.tooltip,s=this.chartPosition,r=this.normalize(t,s);!s||e.isInsidePlot(r.chartX-e.plotLeft,r.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(r)||r.target!==e.container.ownerDocument&&this.inClass(r.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){Vt[Le(te.hoverChartIndex,-1)]?.pointer?.drop(t)}pinch(t){let e=this,{chart:i,hasZoom:s,lastTouches:r}=e,n=[].map.call(t.touches||[],p=>e.normalize(p)),o=n.length,l=o===1&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),c=i.tooltip,g=o===1&&Le(c?.options.followTouchMove,!0);o>1?e.initiated=!0:g&&(e.initiated=!1),s&&e.initiated&&!l&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchstart"?(e.pinchDown=n,e.res=!0,i.mouseDownX=t.chartX):g?this.runPointActions(e.normalize(t)):r&&(Pi(i,"touchpan",{originalEvent:t,touches:n},()=>{let p=b=>{let y=b[0],w=b[1]||y;return{x:y.chartX,y:y.chartY,width:w.chartX-y.chartX,height:w.chartY-y.chartY}};i.transform({axes:i.axes.filter(b=>b.zoomEnabled&&(this.zoomHor&&b.horiz||this.zoomVert&&!b.horiz)),to:p(n),from:p(r),trigger:t.type})}),e.res&&(e.res=!1,this.reset(!1,0))),e.lastTouches=n}reset(t,e){let i=this.chart,s=i.hoverSeries,r=i.hoverPoint,n=i.hoverPoints,o=i.tooltip,l=o&&o.shared?n:r;t&&l&&Eh(l).forEach(function(c){c.series.isCartesian&&c.plotX===void 0&&(t=!1)}),t?o&&l&&Eh(l).length&&(o.refresh(l),o.shared&&n?n.forEach(function(c){c.setState(c.state,!0),c.series.isCartesian&&(c.series.xAxis.crosshair&&c.series.xAxis.drawCrosshair(null,c),c.series.yAxis.crosshair&&c.series.yAxis.drawCrosshair(null,c))}):r&&(r.setState(r.state,!0),i.axes.forEach(function(c){c.crosshair&&r.series[c.coll]===c&&c.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),n&&n.forEach(function(c){c.setState()}),s&&s.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(c){c.hideCrosshair()}),i.hoverPoints=i.hoverPoint=void 0)}runPointActions(t,e,i){let s=this.chart,r=s.series,n=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,o=!!n&&n.shared,l=e||s.hoverPoint,c=l&&l.series||s.hoverSeries,g=(!t||t.type!=="touchmove")&&(!!e||c&&c.directTouch&&this.isDirectTouch),p=this.getHoverData(l,c,r,g,o,t);l=p.hoverPoint,c=p.hoverSeries;let b=p.hoverPoints,y=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split,w=o&&c&&!c.noSharedTooltip;if(l&&(i||l!==s.hoverPoint||n&&n.isHidden)){if((s.hoverPoints||[]).forEach(function(M){b.indexOf(M)===-1&&M.setState()}),s.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(b),(b||[]).forEach(function(M){M.setState("hover")}),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!l.series)return;s.hoverPoints=b,s.hoverPoint=l,l.firePointEvent("mouseOver",void 0,()=>{n&&l&&n.refresh(w?b:l,t)})}else if(y&&n&&!n.isHidden){let M=n.getAnchor([{}],t);s.isInsidePlot(M[0],M[1],{visiblePlotOnly:!0})&&n.updatePosition({plotX:M[0],plotY:M[1]})}this.unDocMouseMove||(this.unDocMouseMove=re(s.container.ownerDocument,"mousemove",M=>Vt[te.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(M)),this.eventsToUnbind.push(this.unDocMouseMove)),s.axes.forEach(function(M){let S,k=Le((M.crosshair||{}).snap,!0);!k||(S=s.hoverPoint)&&S.series[M.coll]===M||(S=$r(b,P=>P.series&&P.series[M.coll]===M)),S||!k?M.drawCrosshair(t,S):M.hideCrosshair()})}setDOMEvents(){let t=this.chart.container,e=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(re(t,"mouseenter",this.onContainerMouseEnter.bind(this)),re(t,"mouseleave",this.onContainerMouseLeave.bind(this))),te.unbindDocumentMouseUp.some(s=>s.doc===e)||te.unbindDocumentMouseUp.push({doc:e,unbind:re(e,"mouseup",this.onDocumentMouseUp.bind(this))});let i=this.chart.renderTo.parentElement;for(;i&&i.tagName!=="BODY";)this.eventsToUnbind.push(re(i,"scroll",()=>{delete this.chartPosition})),i=i.parentElement;this.eventsToUnbind.push(re(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),re(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),te.unbindDocumentTouchEnd||(te.unbindDocumentTouchEnd=re(e,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),re(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!$e)return;let t=this.pointerCaptureEventsToUnbind,e=this.chart,i=e.container,s=Le(e.options.tooltip?.followTouchMove,!0)&&e.series.some(r=>r.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&s?(t.push(re(i,"pointerdown",r=>{r.target?.hasPointerCapture(r.pointerId)&&r.target?.releasePointerCapture(r.pointerId)}),re(i,"pointermove",r=>{e.pointer?.getPointFromEvent(r)?.onMouseOver(r)})),e.styledMode||Pe(i,{"touch-action":"none"}),i.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!s&&(t.forEach(r=>r()),t.length=0,e.styledMode||Pe(i,{"touch-action":Le(e.options.chart.style?.["touch-action"],"manipulation")}),i.className=i.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(t){let e=this.chart,i=R.charts[Le(te.hoverChartIndex,-1)];if(i&&i!==e){let s={relatedTarget:e.container};t&&!t?.relatedTarget&&Object.assign({},t,s),i.pointer?.onContainerMouseLeave(t||s)}i&&i.mouseIsDown||(te.hoverChartIndex=e.index)}touch(t,e){let i,{chart:s,pinchDown:r=[]}=this;this.setHoverChartIndex(),(t=this.normalize(t)).touches.length===1?s.isInsidePlot(t.chartX-s.plotLeft,t.chartY-s.plotTop,{visiblePlotOnly:!0})&&!s.openMenu?(e&&this.runPointActions(t),t.type==="touchmove"&&(i=!!r[0]&&Math.pow(r[0].chartX-t.chartX,2)+Math.pow(r[0].chartY-t.chartY,2)>=16),Le(i,!0)&&this.pinch(t)):e&&this.reset():t.touches.length===2&&this.pinch(t)}touchSelect(t){return!!(this.chart.zooming.singleTouch&&t.touches&&t.touches.length===1)}zoomOption(t){let e=this.chart,i=e.inverted,s=e.zooming.type||"",r,n;/touch/.test(t.type)&&(s=Le(e.zooming.pinchType,s)),this.zoomX=r=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=r&&!i||n&&i,this.zoomVert=n&&!i||r&&i,this.hasZoom=r||n}}te.unbindDocumentMouseUp=[],function(h){h.compose=function(t){hd(Yt,"Core.Pointer")&&re(t,"beforeRender",function(){this.pointer=new h(this,this.options)})}}(te||(te={}));let Mh=te,{fireEvent:Th,isArray:cd,objectEach:lo,uniqueKey:ho}=st,co=class{constructor(h={}){this.autoId=!h.id,this.columns={},this.id=h.id||ho(),this.modified=this,this.rowCount=0,this.versionTag=ho();let t=0;lo(h.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(h){this.rowCount=h,lo(this.columns,t=>{cd(t)&&(t.length=h)})}getColumn(h,t){return this.columns[h]}getColumns(h,t){return(h||Object.keys(this.columns)).reduce((e,i)=>(e[i]=this.columns[i],e),{})}getRow(h,t){return(t||Object.keys(this.columns)).map(e=>this.columns[e]?.[h])}setColumn(h,t=[],e=0,i){this.setColumns({[h]:t},e,i)}setColumns(h,t,e){let i=this.rowCount;lo(h,(s,r)=>{this.columns[r]=s.slice(),i=s.length}),this.applyRowCount(i),e?.silent||(Th(this,"afterSetColumns"),this.versionTag=ho())}setRow(h,t=this.rowCount,e,i){let{columns:s}=this,r=e?this.rowCount+1:t+1;lo(h,(n,o)=>{let l=s[o]||i?.addColumns!==!1&&Array(r);l&&(e?l.splice(t,0,n):l[t]=n,s[o]=l)}),r>this.rowCount&&this.applyRowCount(r),i?.silent||(Th(this,"afterSetRows"),this.versionTag=ho())}},{extend:dd,merge:ud,pick:Sh}=st;(function(h){function t(e,i,s){let r=this.legendItem=this.legendItem||{},{chart:n,options:o}=this,{baseline:l=0,symbolWidth:c,symbolHeight:g}=e,p=this.symbol||"circle",b=g/2,y=n.renderer,w=r.group,M=l-Math.round((e.fontMetrics?.b||g)*(s?.4:.3)),S={},k,P=o.marker,L=0;if(n.styledMode||(S["stroke-width"]=Math.min(o.lineWidth||0,24),o.dashStyle?S.dashstyle=o.dashStyle:o.linecap==="square"||(S["stroke-linecap"]="round")),r.line=y.path().addClass("highcharts-graph").attr(S).add(w),s&&(r.area=y.path().addClass("highcharts-area").add(w)),S["stroke-linecap"]&&(L=Math.min(r.line.strokeWidth(),c)/2),c){let z=[["M",L,M],["L",c-L,M]];r.line.attr({d:z}),r.area?.attr({d:[...z,["L",c-L,l],["L",L,l]]})}if(P&&P.enabled!==!1&&c){let z=Math.min(Sh(P.radius,b),b);p.indexOf("url")===0&&(P=ud(P,{width:g,height:g}),z=0),r.symbol=k=y.symbol(p,c/2-z,M-z,2*z,2*z,dd({context:"legend"},P)).addClass("highcharts-point").add(w),k.isMarker=!0}}h.areaMarker=function(e,i){t.call(this,e,i,!0)},h.lineMarker=t,h.rectangle=function(e,i){let s=i.legendItem||{},r=e.options,n=e.symbolHeight,o=r.squareSymbol,l=o?n:e.symbolWidth;s.symbol=this.chart.renderer.rect(o?(e.symbolWidth-n)/2:0,e.baseline-n+1,l,n,Sh(e.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(s.group)}})(zt||(zt={}));let Ch=zt,{defaultOptions:Oh}=he,{extend:pd,extendClass:gd,merge:md}=st;(function(h){function t(e,i){let s=Oh.plotOptions||{},r=i.defaultOptions,n=i.prototype;return n.type=e,n.pointClass||(n.pointClass=wt),!h.seriesTypes[e]&&(r&&(s[e]=r),h.seriesTypes[e]=i,!0)}h.seriesTypes=R.seriesTypes,h.registerSeriesType=t,h.seriesType=function(e,i,s,r,n){let o=Oh.plotOptions||{};if(i=i||"",o[e]=md(o[i],s),delete h.seriesTypes[e],t(e,gd(h.seriesTypes[i]||function(){},r)),h.seriesTypes[e].prototype.type=e,n){class l extends wt{}pd(l.prototype,n),h.seriesTypes[e].prototype.pointClass=l}return h.seriesTypes[e]}})(At||(At={}));let jt=At,{animObject:Ph,setAnimation:fd}=Zt,{defaultOptions:uo}=he,{registerEventOptions:bd}=_i,{svg:xd,win:yd}=R,{seriesTypes:Us}=jt,{arrayMax:hl,arrayMin:Lh,clamp:Dh,correctFloat:Bh,crisp:vd,defined:ee,destroyObjectProperties:wd,diffObjects:kd,erase:Nh,error:po,extend:Ks,find:Ad,fireEvent:Nt,getClosestDistance:Ed,getNestedProperty:Ih,insertItem:Fh,isArray:Rh,isNumber:ne,isString:Md,merge:qs,objectEach:cl,pick:It,removeEvent:Td,syncTimeout:zh}=st;class _s{constructor(){this.zoneAxis="y"}init(t,e){let i;Nt(this,"init",{options:e}),this.dataTable??(this.dataTable=new co);let s=t.series;this.eventsToUnbind=[],this.chart=t,this.options=this.setOptions(e);let r=this.options,n=r.visible!==!1;this.linkedSeries=[],this.bindAxes(),Ks(this,{name:r.name,state:"",visible:n,selected:r.selected===!0}),bd(this,r);let o=r.events;(o&&o.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(i=s[s.length-1]),this._i=It(i&&i._i,-1)+1,this.opacity=this.options.opacity,t.orderItems("series",Fh(this,s)),r.dataSorting&&r.dataSorting.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(r.data,!1),Nt(this,"afterInit")}is(t){return Us[t]&&this instanceof Us[t]}bindAxes(){let t,e=this,i=e.options,s=e.chart;Nt(this,"bindAxes",null,function(){(e.axisTypes||[]).forEach(function(r){(s[r]||[]).forEach(function(n){t=n.options,(It(i[r],0)===n.index||i[r]!==void 0&&i[r]===t.id)&&(Fh(e,n.series),e[r]=n,n.isDirty=!0)}),e[r]||e.optionalAxis===r||po(18,!0,s)})}),Nt(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(t,e){let i=t.marker,s=e.marker||{};return i&&(s.enabled&&!i.enabled||s.symbol!==i.symbol||s.height!==i.height||s.width!==i.width)}autoIncrement(t){let e,i=this.options,{pointIntervalUnit:s,relativeXValue:r}=this.options,n=this.chart.time,o=this.xIncrement??n.parse(i.pointStart)??0;if(this.pointInterval=e=It(this.pointInterval,i.pointInterval,1),r&&ne(t)&&(e*=t),s){let l=n.toParts(o);s==="day"?l[2]+=e:s==="month"?l[1]+=e:s==="year"&&(l[0]+=e),e=n.makeTime.apply(n,l)-o}return r&&ne(t)?o+e:(this.xIncrement=o+e,o)}setDataSortingOptions(){let t=this.options;Ks(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),ee(t.pointRange)||(t.pointRange=1)}setOptions(t){let e,i=this.chart,s=i.options.plotOptions,r=i.userOptions||{},n=qs(t),o=i.styledMode,l={plotOptions:s,userOptions:n};Nt(this,"setOptions",l);let c=l.plotOptions[this.type],g=r.plotOptions||{},p=g.series||{},b=uo.plotOptions[this.type]||{},y=g[this.type]||{};this.userOptions=l.userOptions;let w=qs(c,s.series,y,n);this.tooltipOptions=qs(uo.tooltip,uo.plotOptions.series?.tooltip,b?.tooltip,i.userOptions.tooltip,g.series?.tooltip,y.tooltip,n.tooltip),this.stickyTracking=It(n.stickyTracking,y.stickyTracking,p.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||w.stickyTracking),c.marker===null&&delete w.marker,this.zoneAxis=w.zoneAxis||"y";let M=this.zones=(w.zones||[]).map(S=>({...S}));return(w.negativeColor||w.negativeFillColor)&&!w.zones&&(e={value:w[this.zoneAxis+"Threshold"]||w.threshold||0,className:"highcharts-negative"},o||(e.color=w.negativeColor,e.fillColor=w.negativeFillColor),M.push(e)),M.length&&ee(M[M.length-1].value)&&M.push(o?{}:{color:this.color,fillColor:this.fillColor}),Nt(this,"afterSetOptions",{options:w}),w}getName(){return It(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){let s,r,n=this.chart,o=`${t}Index`,l=`${t}Counter`,c=i?.length||n.options.chart.colorCount;!e&&(ee(r=It(t==="color"?this.options.colorIndex:void 0,this[o]))?s=r:(n.series.length||(n[l]=0),s=n[l]%c,n[l]+=1),i&&(e=i[s])),s!==void 0&&(this[o]=s),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||uo.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}getColumn(t,e){return(e?this.dataTable.modified:this.dataTable).getColumn(t,!0)||[]}findPointIndex(t,e){let i,s,r,n=t.id,o=t.x,l=this.points,c=this.options.dataSorting;if(n){let g=this.chart.get(n);g instanceof wt&&(i=g)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let g=p=>!p.touched&&p.index===t.index;if(c&&c.matchByName?g=p=>!p.touched&&p.name===t.name:this.options.relativeXValue&&(g=p=>!p.touched&&p.options.x===t.x),!(i=Ad(l,g)))return}return i&&(r=i&&i.index)!==void 0&&(s=!0),r===void 0&&ne(o)&&(r=this.getColumn("x").indexOf(o,e)),r!==-1&&r!==void 0&&this.cropped&&(r=r>=this.cropStart?r-this.cropStart:r),!s&&ne(r)&&l[r]&&l[r].touched&&(r=void 0),r}updateData(t,e){let i=this.options,s=i.dataSorting,r=this.points,n=[],o=this.requireSorting,l=t.length===r.length,c,g,p,b,y=!0;if(this.xIncrement=null,t.forEach(function(M,S){let k,P=ee(M)&&this.pointClass.prototype.optionsToObject.call({series:this},M)||{},L=P.x;P.id||ne(L)?((k=this.findPointIndex(P,b))===-1||k===void 0?n.push(M):r[k]&&M!==i.data[k]?(r[k].update(M,!1,null,!1),r[k].touched=!0,o&&(b=k+1)):r[k]&&(r[k].touched=!0),(!l||S!==k||s&&s.enabled||this.hasDerivedData)&&(c=!0)):n.push(M)},this),c)for(g=r.length;g--;)(p=r[g])&&!p.touched&&p.remove&&p.remove(!1,e);else!l||s&&s.enabled?y=!1:(t.forEach(function(M,S){M===r[S].y||r[S].destroyed||r[S].update(M,!1,null,!1)}),n.length=0);if(r.forEach(function(M){M&&(M.touched=!1)}),!y)return!1;n.forEach(function(M){this.addPoint(M,!1,null,null,!1)},this);let w=this.getColumn("x");return this.xIncrement===null&&w.length&&(this.xIncrement=hl(w),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(t,e=!0,i,s){let r=this.points,n=r&&r.length||0,o=this.options,l=this.chart,c=o.dataSorting,g=this.xAxis,p=o.turboThreshold,b=this.dataTable,y=this.dataColumnKeys(),w=this.pointValKey||"y",M=(this.pointArrayMap||[]).length,S=o.keys,k,P,L=0,z=1,W;l.options.chart.allowMutatingData||(o.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,W=qs(!0,t));let H=(t=W||t||[]).length;if(c&&c.enabled&&(t=this.sortData(t)),l.options.chart.allowMutatingData&&s!==!1&&H&&n&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(P=this.updateData(t,i)),!P){this.xIncrement=null,this.colorCounter=0;let I=p&&H>p;if(I){let j=this.getFirstValidPoint(t),Y=this.getFirstValidPoint(t,H-1,-1),U=K=>!!(Rh(K)&&(S||ne(K[0])));if(ne(j)&&ne(Y)){let K=[],Z=[];for(let Q of t)K.push(this.autoIncrement()),Z.push(Q);b.setColumns({x:K,[w]:Z})}else if(U(j)&&U(Y))if(M){let K=j.length===M?1:0,Z=Array(y.length).fill(0).map(()=>[]);for(let Q of t){K&&Z[0].push(this.autoIncrement());for(let et=K;et<=M;et++)Z[et]?.push(Q[et-K])}b.setColumns(y.reduce((Q,et,J)=>(Q[et]=Z[J],Q),{}))}else{S&&(L=S.indexOf("x"),z=S.indexOf("y"),L=L>=0?L:0,z=z>=0?z:1),j.length===1&&(z=0);let K=[],Z=[];if(L===z)for(let Q of t)K.push(this.autoIncrement()),Z.push(Q[z]);else for(let Q of t)K.push(Q[L]),Z.push(Q[z]);b.setColumns({x:K,[w]:Z})}else I=!1}if(!I){let j=y.reduce((Y,U)=>(Y[U]=[],Y),{});for(k=0;k<H;k++){let Y=this.pointClass.prototype.applyOptions.apply({series:this},[t[k]]);for(let U of y)j[U][k]=Y[U]}b.setColumns(j)}for(Md(this.getColumn("y")[0])&&po(14,!0,l),this.data=[],this.options.data=this.userOptions.data=t,k=n;k--;)r[k]?.destroy();g&&(g.minRange=g.userMinRange),this.isDirty=l.isDirtyBox=!0,this.isDirtyData=!!r,i=!1}o.legendType==="point"&&(this.processData(),this.generatePoints()),e&&l.redraw(i)}sortData(t){let e=this,i=e.options.dataSorting.sortKey||"y",s=function(r,n){return ee(n)&&r.pointClass.prototype.optionsToObject.call({series:r},n)||{}};return t.forEach(function(r,n){t[n]=s(e,r),t[n].index=n},this),t.concat().sort((r,n)=>{let o=Ih(i,r),l=Ih(i,n);return l<o?-1:l>o?1:0}).forEach(function(r,n){r.x=n},this),e.linkedSeries&&e.linkedSeries.forEach(function(r){let n=r.options,o=n.data;n.dataSorting&&n.dataSorting.enabled||!o||(o.forEach(function(l,c){o[c]=s(r,l),t[c]&&(o[c].x=t[c].x,o[c].index=c)}),r.setData(o,!1))}),t}getProcessedData(t){let e=this,{dataTable:i,isCartesian:s,options:r,xAxis:n}=e,o=r.cropThreshold,l=t||e.getExtremesFromAll,c=n?.logarithmic,g=i.rowCount,p,b,y=0,w,M,S,k=e.getColumn("x"),P=i,L=!1;return n&&(M=(w=n.getExtremes()).min,S=w.max,L=!!(n.categories&&!n.names.length),s&&e.sorted&&!l&&(!o||g>o||e.forceCrop)&&(k[g-1]<M||k[0]>S?P=new co:e.getColumn(e.pointValKey||"y").length&&(k[0]<M||k[g-1]>S)&&(P=(p=this.cropData(i,M,S)).modified,y=p.start,b=!0))),k=P.getColumn("x")||[],{modified:P,cropped:b,cropStart:y,closestPointRange:Ed([c?k.map(c.log2lin):k],()=>e.requireSorting&&!L&&po(15,!1,e.chart))}}processData(t){let e=this.xAxis,i=this.dataTable;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;let s=this.getProcessedData();i.modified=s.modified,this.cropped=s.cropped,this.cropStart=s.cropStart,this.closestPointRange=this.basePointRange=s.closestPointRange,Nt(this,"afterProcessData")}cropData(t,e,i){let s=t.getColumn("x",!0)||[],r=s.length,n={},o,l,c=0,g=r;for(o=0;o<r;o++)if(s[o]>=e){c=Math.max(0,o-1);break}for(l=o;l<r;l++)if(s[l]>i){g=l+1;break}for(let p of this.dataColumnKeys()){let b=t.getColumn(p,!0);b&&(n[p]=b.slice(c,g))}return{modified:new co({columns:n}),start:c,end:g}}generatePoints(){let t=this.options,e=this.processedData||t.data,i=this.dataTable.modified,s=this.getColumn("x",!0),r=this.pointClass,n=i.rowCount,o=this.cropStart||0,l=this.hasGroupedData,c=t.keys,g=[],p=t.dataGrouping&&t.dataGrouping.groupAll?o:0,b=this.xAxis?.categories,y=this.pointArrayMap||["y"],w=this.dataColumnKeys(),M,S,k,P,L=this.data,z;if(!L&&!l){let W=[];W.length=e?.length||0,L=this.data=W}for(c&&l&&(this.options.keys=!1),P=0;P<n;P++)S=o+P,l?((k=new r(this,i.getRow(P,w)||[])).dataGroup=this.groupMap[p+P],k.dataGroup?.options&&(k.options=k.dataGroup.options,Ks(k,k.dataGroup.options),delete k.dataLabels)):(k=L[S],z=e?e[S]:i.getRow(P,y),k||z===void 0||(L[S]=k=new r(this,z,s[P]))),k&&(k.index=l?p+P:S,g[P]=k,k.category=b?.[k.x]??k.x,k.key=k.name??k.category);if(this.options.keys=c,L&&(n!==(M=L.length)||l))for(P=0;P<M;P++)P!==o||l||(P+=n),L[P]&&(L[P].destroyElements(),L[P].plotX=void 0);this.data=L,this.points=g,Nt(this,"afterGeneratePoints")}getXExtremes(t){return{min:Lh(t),max:hl(t)}}getExtremes(t,e){let{xAxis:i,yAxis:s}=this,r=e||this.getExtremesFromAll||this.options.getExtremesFromAll,n=r&&this.cropped?this.dataTable:this.dataTable.modified,o=n.rowCount,l=t||this.stackedYData,c=l?[l]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(W=>n.getColumn(W,!0)||[])||[],g=this.getColumn("x",!0),p=[],b=this.requireSorting&&!this.is("column")?1:0,y=!!s&&s.positiveValuesOnly,w=r||this.cropped||!i,M,S,k,P=0,L=0;for(i&&(P=(M=i.getExtremes()).min,L=M.max),k=0;k<o;k++)if(S=g[k],w||(g[k+b]||S)>=P&&(g[k-b]||S)<=L)for(let W of c){let H=W[k];ne(H)&&(H>0||!y)&&p.push(H)}let z={activeYData:p,dataMin:Lh(p),dataMax:hl(p)};return Nt(this,"afterGetExtremes",{dataExtremes:z}),z}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,e=0,i=1){let s=t.length,r=e;for(;r>=0&&r<s;){if(ee(t[r]))return t[r];r+=i}}translate(){this.generatePoints();let t=this.options,e=t.stacking,i=this.xAxis,s=this.enabledDataSorting,r=this.yAxis,n=this.points,o=n.length,l=this.pointPlacementToXValue(),c=!!l,g=t.threshold,p=t.startFromThreshold?g:0,b,y,w,M,S=Number.MAX_VALUE;function k(P){return Dh(P,-1e9,1e9)}for(b=0;b<o;b++){let P,L=n[b],z=L.x,W,H,I=L.y,j=L.low,Y=e&&r.stacking?.stacks[(this.negStacks&&I<(p?0:g)?"-":"")+this.stackKey];y=i.translate(z,!1,!1,!1,!0,l),L.plotX=ne(y)?Bh(k(y)):void 0,e&&this.visible&&Y&&Y[z]&&(M=this.getStackIndicator(M,z,this.index),!L.isNull&&M.key&&(H=(W=Y[z]).points[M.key]),W&&Rh(H)&&(j=H[0],I=H[1],j===p&&M.key===Y[z].base&&(j=It(ne(g)?g:r.min)),r.positiveValuesOnly&&ee(j)&&j<=0&&(j=void 0),L.total=L.stackTotal=It(W.total),L.percentage=ee(L.y)&&W.total?L.y/W.total*100:void 0,L.stackY=I,this.irregularWidths||W.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),L.yBottom=ee(j)?k(r.translate(j,!1,!0,!1,!0)):void 0,this.dataModify&&(I=this.dataModify.modifyValue(I,b)),ne(I)&&L.plotX!==void 0&&(P=ne(P=r.translate(I,!1,!0,!1,!0))?k(P):void 0),L.plotY=P,L.isInside=this.isPointInside(L),L.clientX=c?Bh(i.translate(z,!1,!1,!1,!0,l)):y,L.negative=(L.y||0)<(g||0),L.isNull||L.visible===!1||(w!==void 0&&(S=Math.min(S,Math.abs(y-w))),w=y),L.zone=this.zones.length?L.getZone():void 0,!L.graphic&&this.group&&s&&(L.isNew=!0)}this.closestPointRangePx=S,Nt(this,"afterTranslate")}getValidPoints(t,e,i){let s=this.chart;return(t||this.points||[]).filter(function(r){let{plotX:n,plotY:o}=r;return!!((i||!r.isNull&&ne(o))&&(!e||s.isInsidePlot(n,o,{inverted:s.inverted})))&&r.visible!==!1})}getClipBox(){let{chart:t,xAxis:e,yAxis:i}=this,{x:s,y:r,width:n,height:o}=qs(t.clipBox);return e&&e.len!==t.plotSizeX&&(n=e.len),i&&i.len!==t.plotSizeY&&(o=i.len),t.inverted&&!this.invertible&&([n,o]=[o,n]),{x:s,y:r,width:n,height:o}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,r=t.renderer,n=this.getClipBox(),o=this.getSharedClipKey(),l=s[o];l?l.animate(n):s[o]=l=r.clipRect(n),e&&e.clip(this.options.clip===!1?void 0:l),i&&i.clip()}animate(t){let{chart:e,group:i,markerGroup:s}=this,r=e.inverted,n=Ph(this.options.animation),o=[this.getSharedClipKey(),n.duration,n.easing,n.defer].join(","),l=e.sharedClips[o],c=e.sharedClips[o+"m"];if(t&&i){let g=this.getClipBox();if(l)l.attr("height",g.height);else{g.width=0,r&&(g.x=e.plotHeight),l=e.renderer.clipRect(g),e.sharedClips[o]=l;let p={x:-99,y:-99,width:r?e.plotWidth+199:99,height:r?99:e.plotHeight+199};c=e.renderer.clipRect(p),e.sharedClips[o+"m"]=c}i.clip(l),s?.clip(c)}else if(l&&!l.hasClass("highcharts-animating")){let g=this.getClipBox(),p=n.step;(s?.element.childNodes.length||e.series.length>1)&&(n.step=function(b,y){p&&p.apply(y,arguments),y.prop==="width"&&c?.element&&c.attr(r?"height":"width",b+99)}),l.addClass("highcharts-animating").animate(g,n)}}afterAnimate(){this.setClip(),cl(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,Nt(this,"afterAnimate")}drawPoints(t=this.points){let e,i,s,r,n,o,l,c=this.chart,g=c.styledMode,{colorAxis:p,options:b}=this,y=b.marker,w=this[this.specialGroup||"markerGroup"],M=this.xAxis,S=It(y.enabled,!M||!!M.isRadial||null,this.closestPointRangePx>=y.enabledThreshold*y.radius);if(y.enabled!==!1||this._hasPointMarkers)for(e=0;e<t.length;e++)if(r=(s=(i=t[e]).graphic)?"animate":"attr",n=i.marker||{},o=!!i.marker,(S&&n.enabled===void 0||n.enabled)&&!i.isNull&&i.visible!==!1){let k=It(n.symbol,this.symbol,"rect");l=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=M.reversed?-(l.width||0):M.width);let P=i.isInside!==!1;if(!s&&P&&((l.width||0)>0||i.hasImage)&&(i.graphic=s=c.renderer.symbol(k,l.x,l.y,l.width,l.height,o?n:y).add(w),this.enabledDataSorting&&c.hasRendered&&(s.attr({x:i.startXPos}),r="animate")),s&&r==="animate"&&s[P?"show":"hide"](P).animate(l),s){let L=this.pointAttribs(i,g||!i.selected?void 0:"select");g?p&&s.css({fill:L.fill}):s[r](L)}s&&s.addClass(i.getClassName(),!0)}else s&&(i.graphic=s.destroy())}markerAttribs(t,e){let i=this.options,s=i.marker,r=t.marker||{},n=r.symbol||s.symbol,o={},l,c,g=It(r.radius,s&&s.radius);e&&(l=s.states[e],g=It((c=r.states&&r.states[e])&&c.radius,l&&l.radius,g&&g+(l&&l.radiusPlus||0))),t.hasImage=n&&n.indexOf("url")===0,t.hasImage&&(g=0);let p=t.pos();return ne(g)&&p&&(i.crisp&&(p[0]=vd(p[0],t.hasImage?0:n==="rect"?s?.lineWidth||0:1)),o.x=p[0]-g,o.y=p[1]-g),g&&(o.width=o.height=2*g),o}pointAttribs(t,e){let i=this.options.marker,s=t&&t.options,r=s&&s.marker||{},n=s&&s.color,o=t&&t.color,l=t&&t.zone&&t.zone.color,c,g,p=this.color,b,y,w=It(r.lineWidth,i.lineWidth),M=1;return p=n||l||o||p,b=r.fillColor||i.fillColor||p,y=r.lineColor||i.lineColor||p,e=e||"normal",c=i.states[e]||{},w=It((g=r.states&&r.states[e]||{}).lineWidth,c.lineWidth,w+It(g.lineWidthPlus,c.lineWidthPlus,0)),b=g.fillColor||c.fillColor||b,{stroke:y=g.lineColor||c.lineColor||y,"stroke-width":w,fill:b,opacity:M=It(g.opacity,c.opacity,M)}}destroy(t){let e,i,s,r=this,n=r.chart,o=/AppleWebKit\/533/.test(yd.navigator.userAgent),l=r.data||[];for(Nt(r,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(r.axisTypes||[]).forEach(function(c){(s=r[c])&&s.series&&(Nh(s.series,r),s.isDirty=s.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();for(let c of r.zones)wd(c,void 0,!0);st.clearTimeout(r.animationTimeout),cl(r,function(c,g){c instanceof ke&&!c.survive&&c[o&&g==="group"?"hide":"destroy"]()}),n.hoverSeries===r&&(n.hoverSeries=void 0),Nh(n.series,r),n.orderItems("series"),cl(r,function(c,g){t&&g==="hcEvents"||delete r[g]})}applyZones(){let{area:t,chart:e,graph:i,zones:s,points:r,xAxis:n,yAxis:o,zoneAxis:l}=this,{inverted:c,renderer:g}=e,p=this[`${l}Axis`],{isXAxis:b,len:y=0,minPointOffset:w=0}=p||{},M=(i?.strokeWidth()||0)/2+1,S=(k,P=0,L=0)=>{c&&(L=y-L);let{translated:z=0,lineClip:W}=k,H=L-z;W?.push(["L",P,Math.abs(H)<M?L-M*(H<=0?-1:1):z])};if(s.length&&(i||t)&&p&&ne(p.min)){let k=p.getExtremes().max+w,P=W=>{W.forEach((H,I)=>{(H[0]==="M"||H[0]==="L")&&(W[I]=[H[0],b?y-H[1]:H[1],b?H[2]:y-H[2]])})};if(s.forEach(W=>{W.lineClip=[],W.translated=Dh(p.toPixels(It(W.value,k),!0)||0,0,y)}),i&&!this.showLine&&i.hide(),t&&t.hide(),l==="y"&&r.length<n.len)for(let W of r){let{plotX:H,plotY:I,zone:j}=W,Y=j&&s[s.indexOf(j)-1];j&&S(j,H,I),Y&&S(Y,H,I)}let L=[],z=p.toPixels(p.getExtremes().min-w,!0);s.forEach(W=>{let H=W.lineClip||[],I=Math.round(W.translated||0);n.reversed&&H.reverse();let{clip:j,simpleClip:Y}=W,U=0,K=0,Z=n.len,Q=o.len;b?(U=I,Z=z):(K=I,Q=z);let et=[["M",U,K],["L",Z,K],["L",Z,Q],["L",U,Q],["Z"]],J=[et[0],...H,et[1],et[2],...L,et[3],et[4]];L=H.reverse(),z=I,c&&(P(J),t&&P(et)),j?(j.animate({d:J}),Y?.animate({d:et})):(j=W.clip=g.path(J),t&&(Y=W.simpleClip=g.path(et))),i&&W.graph?.clip(j),t&&W.area?.clip(Y)})}else this.visible&&(i&&i.show(),t&&t.show())}plotGroup(t,e,i,s,r){let n=this[t],o=!n,l={visibility:i,zIndex:s||.1};return ee(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(l.opacity=this.opacity),n||(this[t]=n=this.chart.renderer.g().add(r)),n.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(ee(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(n.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),n.attr(l)[o?"attr":"animate"](this.getPlotBox(e)),n}getPlotBox(t){let e=this.xAxis,i=this.yAxis,s=this.chart,r=s.inverted&&!s.polar&&e&&this.invertible&&t==="series";return s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:r?90:0,rotationOriginX:r?(e.len-i.len)/2:0,rotationOriginY:r?(e.len+i.len)/2:0,scaleX:r?-1:1,scaleY:1}}removeEvents(t){let{eventsToUnbind:e}=this;t||Td(this),e.length&&(e.forEach(i=>{i()}),e.length=0)}render(){let t=this,{chart:e,options:i,hasRendered:s}=t,r=Ph(i.animation),n=t.visible?"inherit":"hidden",o=i.zIndex,l=e.seriesGroup,c=t.finishedAnimating?0:r.duration;Nt(this,"render"),t.plotGroup("group","series",n,o,l),t.markerGroup=t.plotGroup("markerGroup","markers",n,o,l),i.clip!==!1&&t.setClip(),c&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),i.enableMouseTracking&&t.drawTracker?.(),c&&t.animate?.(),s||(c&&r.defer&&(c+=r.defer),t.animationTimeout=zh(()=>{t.afterAnimate()},c||0)),t.isDirty=!1,t.hasRendered=!0,Nt(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){let{xAxis:i,yAxis:s}=this,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;let e=this,i=e.options.findNearestPointBy.indexOf("y")>-1?2:1;delete e.kdTree,zh(function(){e.kdTree=function s(r,n,o){let l,c,g=r?.length;if(g)return l=e.kdAxisArray[n%o],r.sort((p,b)=>(p[l]||0)-(b[l]||0)),{point:r[c=Math.floor(g/2)],left:s(r.slice(0,c),n+1,o),right:s(r.slice(c+1),n+1,o)}}(e.getValidPoints(void 0,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow||t?.type==="touchstart"?0:1)}searchKDTree(t,e,i,s,r){let n=this,[o,l]=this.kdAxisArray,c=e?"distX":"dist",g=(n.options.findNearestPointBy||"").indexOf("y")>-1?2:1,p=!!n.isBubble,b=s||((w,M,S)=>[(w[S]||0)<(M[S]||0)?w:M,!1]),y=r||((w,M)=>w<M);if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function w(M,S,k,P){let L=S.point,z=n.kdAxisArray[k%P],W=L,H=!1;(function(U,K){let Z=U[o],Q=K[o],et=ee(Z)&&ee(Q)?Z-Q:null,J=U[l],it=K[l],bt=ee(J)&&ee(it)?J-it:0,lt=p&&K.marker?.radius||0;K.dist=Math.sqrt((et&&et*et||0)+bt*bt)-lt,K.distX=ee(et)?Math.abs(et)-lt:Number.MAX_VALUE})(M,L);let I=(M[z]||0)-(L[z]||0)+(p&&L.marker?.radius||0),j=I<0?"left":"right",Y=I<0?"right":"left";return S[j]&&([W,H]=b(L,w(M,S[j],k+1,P),c)),S[Y]&&y(Math.sqrt(I*I),W[c],H)&&(W=b(W,w(M,S[Y],k+1,P),c)[0]),W}(t,this.kdTree,g,g)}pointPlacementToXValue(){let{options:t,xAxis:e}=this,i=t.pointPlacement;return i==="between"&&(i=e.reversed?-.5:.5),ne(i)?i*(t.pointRange||e.pointRange):0}isPointInside(t){let{chart:e,xAxis:i,yAxis:s}=this,{plotX:r=-1,plotY:n=-1}=t;return n>=0&&n<=(s?s.len:e.plotHeight)&&r>=0&&r<=(i?i.len:e.plotWidth)}drawTracker(){let t=this,e=t.options,i=e.trackByArea,s=[].concat((i?t.areaPath:t.graphPath)||[]),r=t.chart,n=r.pointer,o=r.renderer,l=r.options.tooltip?.snap||0,c=()=>{e.enableMouseTracking&&r.hoverSeries!==t&&t.onMouseOver()},g="rgba(192,192,192,"+(xd?1e-4:.002)+")",p=t.tracker;p?p.attr({d:s}):t.graph&&(t.tracker=p=o.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),r.styledMode||p.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:g,fill:i?g:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*l)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(b=>{b&&(b.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",y=>{n?.onTrackerMouseOut(y)}),e.cursor&&!r.styledMode&&b.css({cursor:e.cursor}),b.on("touchstart",c))})),Nt(this,"afterDrawTracker")}addPoint(t,e,i,s,r){let n,o,l=this.options,{chart:c,data:g,dataTable:p,xAxis:b}=this,y=b&&b.hasNames&&b.names,w=l.data,M=this.getColumn("x");e=It(e,!0);let S={series:this};this.pointClass.prototype.applyOptions.apply(S,[t]);let k=S.x;if(o=M.length,this.requireSorting&&k<M[o-1])for(n=!0;o&&M[o-1]>k;)o--;p.setRow(S,o,!0,{addColumns:!1}),y&&S.name&&(y[k]=S.name),w?.splice(o,0,t),(n||this.processedData)&&(this.data.splice(o,0,null),this.processData()),l.legendType==="point"&&this.generatePoints(),i&&(g[0]&&g[0].remove?g[0].remove(!1):([g,w,...Object.values(p.getColumns())].filter(ee).forEach(P=>{P.shift()}),p.rowCount-=1,Nt(p,"afterDeleteRows"))),r!==!1&&Nt(this,"addPoint",{point:S}),this.isDirty=!0,this.isDirtyData=!0,e&&c.redraw(s)}removePoint(t,e,i){let s=this,{chart:r,data:n,points:o,dataTable:l}=s,c=n[t],g=function(){[o?.length===n.length?o:void 0,n,s.options.data,...Object.values(l.getColumns())].filter(ee).forEach(p=>{p.splice(t,1)}),l.rowCount-=1,Nt(l,"afterDeleteRows"),c?.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&r.redraw()};fd(i,r),e=It(e,!0),c?c.firePointEvent("remove",null,g):g()}remove(t,e,i,s){let r=this,n=r.chart;function o(){r.destroy(s),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(s),It(t,!0)&&n.redraw(e)}i!==!1?Nt(r,"remove",null,o):o()}update(t,e){Nt(this,"update",{options:t=kd(t,this.userOptions)});let i=this,s=i.chart,r=i.userOptions,n=i.initialType||i.type,o=s.options.plotOptions,l=Us[n].prototype,c=i.finishedAnimating&&{animation:!1},g={},p,b,y=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],w=t.type||r.type||s.options.chart.type,M=!(this.hasDerivedData||w&&w!==this.type||t.keys!==void 0||t.pointStart!==void 0||t.pointInterval!==void 0||t.relativeXValue!==void 0||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(k=>i.hasOptionChanged(k)));w=w||n,M?(y.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),t.visible!==!1&&y.push("area","graph"),i.parallelArrays.forEach(function(k){y.push(k+"Data")}),t.data&&(t.dataSorting&&Ks(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))):this.dataTable.modified=this.dataTable,t=qs(r,{index:r.index===void 0?i.index:r.index,pointStart:o?.series?.pointStart??r.pointStart??i.getColumn("x")[0]},!M&&{data:i.options.data},t,c),M&&t.data&&(t.data=i.options.data),(y=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(y)).forEach(function(k){y[k]=i[k],delete i[k]});let S=!1;if(Us[w]){if(S=w!==i.type,i.remove(!1,!1,!1,!0),S)if(s.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(i,Us[w].prototype);else{let k=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents;for(b in l)i[b]=void 0;Ks(i,Us[w].prototype),k?i.hcEvents=k:delete i.hcEvents}}else po(17,!0,s,{missingModuleFor:w});if(y.forEach(function(k){i[k]=y[k]}),i.init(s,t),M&&this.points)for(let k of((p=i.options).visible===!1?(g.graphic=1,g.dataLabel=1):(this.hasMarkerChanged(p,r)&&(g.graphic=1),i.hasDataLabels?.()||(g.dataLabel=1)),this.points))k&&k.series&&(k.resolveColor(),Object.keys(g).length&&k.destroyElements(g),p.showInLegend===!1&&k.legendItem&&s.legend.destroyItem(k));i.initialType=n,s.linkSeries(),s.setSortedData(),S&&i.linkedSeries.length&&(i.isDirtyData=!0),Nt(this,"afterUpdate"),It(e,!0)&&s.redraw(!!M&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){let e=this.chart,i=this.options[t],s=e.options.plotOptions,r=this.userOptions[t],n=It(s?.[this.type]?.[t],s?.series?.[t]);return r&&!ee(n)?i!==r:i!==It(n,i)}onMouseOver(){let t=this.chart,e=t.hoverSeries;t.pointer?.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Nt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&Nt(this,"mouseOut"),i&&!this.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),e.series.forEach(function(r){r.setState("",!0)})}setState(t,e){let i=this,s=i.options,r=i.graph,n=s.inactiveOtherPoints,o=s.states,l=It(o[t||"normal"]&&o[t||"normal"].animation,i.chart.options.chart.animation),c=s.lineWidth,g=s.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(p){p&&(i.state&&p.removeClass("highcharts-series-"+i.state),t&&p.addClass("highcharts-series-"+t))}),i.state=t,!i.chart.styledMode)){if(o[t]&&o[t].enabled===!1)return;if(t&&(c=o[t].lineWidth||c+(o[t].lineWidthPlus||0),g=It(o[t].opacity,g)),r&&!r.dashstyle&&ne(c))for(let p of[r,...this.zones.map(b=>b.graph)])p?.animate({"stroke-width":c},l);n||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(p){p&&p.animate({opacity:g},l)})}e&&n&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach(function(e){e.setState&&e.setState(t)})}setVisible(t,e){let i=this,s=i.chart,r=s.options.chart.ignoreHiddenSeries,n=i.visible;i.visible=t=i.options.visible=i.userOptions.visible=t===void 0?!n:t;let o=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(l=>{i[l]?.[o]()}),(s.hoverSeries===i||s.hoverPoint?.series===i)&&i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&s.series.forEach(l=>{l.options.stacking&&l.visible&&(l.isDirty=!0)}),i.linkedSeries.forEach(l=>{l.setVisible(t,!1)}),r&&(s.isDirtyBox=!0),Nt(i,o),e!==!1&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=t===void 0?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Nt(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){Ch[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}_s.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:h}=this.series.chart;return typeof this.y!="number"?"":h(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},_s.types=jt.seriesTypes,_s.registerType=jt.registerSeriesType,Ks(_s.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:wt,requireSorting:!0,sorted:!0}),jt.series=_s;let ve=_s,{animObject:Sd,setAnimation:Cd}=Zt,{registerEventOptions:Hh}=_i,{composed:Od,marginNames:Wh}=R,{distribute:Pd}=Te,{format:Ld}=ce,{addEvent:go,createElement:Dd,css:Bd,defined:dl,discardElement:Nd,find:Id,fireEvent:oi,isNumber:jh,merge:is,pick:Ae,pushUnique:Fd,relativeLength:Rd,stableSort:zd,syncTimeout:Hd}=st;class ul{constructor(t,e){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.setOptions(e),e.enabled&&(this.render(),Hh(this,e),go(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),go(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(t){let e=Ae(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=is(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=Ae(t.symbolWidth,16),this.pages=[],this.proximate=t.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(t,e){let i=this.chart;this.setOptions(is(!0,this.options,t)),"events"in this.options&&Hh(this,this.options),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,Ae(e,!0)&&i.redraw(),oi(this,"afterUpdate",{redraw:e})}colorizeItem(t,e){let i=t.color,{area:s,group:r,label:n,line:o,symbol:l}=t.legendItem||{};if((t instanceof ve||t instanceof wt)&&(t.color=t.options?.legendSymbolColor||i),r?.[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:c={}}=this,g=c.color,{fillColor:p,fillOpacity:b,lineColor:y,marker:w}=t.options,M=S=>(!e&&(S.fill&&(S.fill=g),S.stroke&&(S.stroke=g)),S);n?.css(is(e?this.itemStyle:c)),o?.attr(M({stroke:y||t.color})),l&&l.attr(M(w&&l.isMarker?t.pointAttribs():{fill:t.color})),s?.attr(M({fill:p||t.color,"fill-opacity":p?1:b??.75}))}t.color=i,oi(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:e,x:i=0,y:s=0}=t.legendItem||{},r=this.options,n=r.symbolPadding,o=!r.rtl,l=t.checkbox;if(e&&e.element){let c={translateX:o?i:this.legendWidth-i-2*n-4,translateY:s};e[dl(e.translateY)?"animate":"attr"](c,void 0,()=>{oi(this,"afterPositionItem",{item:t})})}l&&(l.x=i,l.y=s)}destroyItem(t){let e=t.checkbox,i=t.legendItem||{};for(let s of["group","label","line","symbol"])i[s]&&(i[s]=i[s].destroy());e&&Nd(e),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){let t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,s=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach(function(r){let n,o=r.checkbox;o&&(n=t+s+o.y+(this.scrollOffset||0)+3,Bd(o,{left:e.translateX+r.checkboxOffset+o.x-20+"px",top:n+"px",display:this.proximate||n>t-6&&n<t+i-6?"":"none"}))},this))}renderTitle(){let t=this.options,e=this.padding,i=t.title,s,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(s=this.title.getBBox()).height,this.offsetWidth=s.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r}setText(t){let e=this.options;t.legendItem.label.attr({text:e.labelFormat?Ld(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){let e=t.legendItem=t.legendItem||{},i=this.chart,s=i.renderer,r=this.options,n=r.layout==="horizontal",o=this.symbolWidth,l=r.symbolPadding||0,c=this.itemStyle,g=this.itemHiddenStyle,p=n?Ae(r.itemDistance,20):0,b=!r.rtl,y=!t.series,w=!y&&t.series.drawLegendSymbol?t.series:t,M=w.options,S=!!this.createCheckboxForItem&&M&&M.showCheckbox,k=r.useHTML,P=t.options.className,L=e.label,z=o+l+p+(S?20:0);!L&&(e.group=s.g("legend-item").addClass("highcharts-"+w.type+"-series highcharts-color-"+t.colorIndex+(P?" "+P:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=L=s.text("",b?o+l:-l,this.baseline||0,k),i.styledMode||L.css(is(t.visible?c:g)),L.attr({align:b?"left":"right",zIndex:2}).add(e.group),!this.baseline&&(this.fontMetrics=s.fontMetrics(L),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,L.attr("y",this.baseline),this.symbolHeight=Ae(r.symbolHeight,this.fontMetrics.f),r.squareSymbol&&(this.symbolWidth=Ae(r.symbolWidth,Math.max(this.symbolHeight,16)),z=this.symbolWidth+l+p+(S?20:0),b&&L.attr("x",this.symbolWidth+l))),w.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,L,k)),S&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(i.styledMode||!c.width)&&L.css({width:(r.itemWidth||this.widthOption||i.spacingBox.width)-z+"px"}),this.setText(t);let W=L.getBBox(),H=this.fontMetrics&&this.fontMetrics.h||0;t.itemWidth=t.checkboxOffset=r.itemWidth||e.labelWidth||W.width+z,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(W.height>1.5*H?W.height:H))}layoutItem(t){let e=this.options,i=this.padding,s=e.layout==="horizontal",r=t.itemHeight,n=this.itemMarginBottom,o=this.itemMarginTop,l=s?Ae(e.itemDistance,20):0,c=this.maxLegendWidth,g=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth,p=t.legendItem||{};s&&this.itemX-i+g>c&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=o+this.lastLineHeight+n),this.lastLineHeight=0),this.lastItemY=o+this.itemY+n,this.lastLineHeight=Math.max(r,this.lastLineHeight),p.x=this.itemX,p.y=this.itemY,s?this.itemX+=g:(this.itemY+=o+r+n,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((s?this.itemX-i-(t.checkbox?0:l):g)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach(function(e){let i=e&&e.options;e&&Ae(i.showInLegend,!dl(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||(i.legendType==="point"?e.data:e)))}),oi(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){let i=this.chart,s=this.options,r=this.getAlignment();r&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(n,o){n.test(r)&&!dl(t[o])&&(i[Wh[o]]=Math.max(i[Wh[o]],i.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*s[o%2?"x":"y"]+Ae(s.margin,12)+e[o]+(i.titleOffset[o]||0)))})}proximatePositions(){let t,e=this.chart,i=[],s=this.options.align==="left";for(let r of(this.allItems.forEach(function(n){let o,l,c=s,g,p;n.yAxis&&(n.xAxis.options.reversed&&(c=!c),n.points&&(o=Id(c?n.points:n.points.slice(0).reverse(),function(b){return jh(b.plotY)})),l=this.itemMarginTop+n.legendItem.label.getBBox().height+this.itemMarginBottom,p=n.yAxis.top-e.plotTop,g=n.visible?(o?o.plotY:n.yAxis.height)+(p-.3*l):p+n.yAxis.height,i.push({target:g,size:l,item:n}))},this),Pd(i,e.plotHeight)))t=r.item.legendItem||{},jh(r.pos)&&(t.y=e.plotTop-e.spacing[0]+r.pos)}render(){let t=this.chart,e=t.renderer,i=this.options,s=this.padding,r=this.getAllItems(),n,o,l,c=this.group,g,p=this.box;this.itemX=s,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Rd(i.width,t.spacingBox.width-s),g=t.spacingBox.width-2*s-i.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(g/=2),this.maxLegendWidth=this.widthOption||g,c||(this.group=c=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(c),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),zd(r,(b,y)=>(b.options&&b.options.legendIndex||0)-(y.options&&y.options.legendIndex||0)),i.reversed&&r.reverse(),this.allItems=r,this.display=n=!!r.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,r.forEach(this.renderItem,this),r.forEach(this.layoutItem,this),o=(this.widthOption||this.offsetWidth)+s,l=this.lastItemY+this.lastLineHeight+this.titleHeight,l=this.handleOverflow(l)+s,p||(this.box=p=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(c)),t.styledMode||p.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),o>0&&l>0&&p[p.placed?"animate":"attr"](p.crisp.call({},{x:0,y:0,width:o,height:l},p.strokeWidth())),c[n?"show":"hide"](),t.styledMode&&c.getStyle("display")==="none"&&(o=l=0),this.legendWidth=o,this.legendHeight=l,n&&this.align(),this.proximate||this.positionItems(),oi(this,"afterRender")}align(t=this.chart.spacingBox){let e=this.chart,i=this.options,s=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&e.titleOffset[0]>0?s+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&e.titleOffset[2]>0&&(s-=e.titleOffset[2]),s!==t.y&&(t=is(t,{y:s})),e.hasRendered||(this.group.placed=!1),this.group.align(is(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){let e=this,i=this.chart,s=i.renderer,r=this.options,n=r.y,o=r.verticalAlign==="top",l=this.padding,c=r.maxHeight,g=r.navigation,p=Ae(g.animation,!0),b=g.arrowSize||12,y=this.pages,w=this.allItems,M=function(I){typeof I=="number"?H.attr({height:I}):H&&(e.clipRect=H.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=I?"rect("+l+"px,9999px,"+(l+I)+"px,0)":"auto")},S=function(I){return e[I]=s.circle(0,0,1.3*b).translate(b/2,b/2).add(W),i.styledMode||e[I].attr("fill","rgba(0,0,0,0.0001)"),e[I]},k,P,L,z=i.spacingBox.height+(o?-n:n)-l,W=this.nav,H=this.clipRect;return r.layout!=="horizontal"||r.verticalAlign==="middle"||r.floating||(z/=2),c&&(z=Math.min(z,c)),y.length=0,t&&z>0&&t>z&&g.enabled!==!1?(this.clipHeight=k=Math.max(z-20-this.titleHeight-l,0),this.currentPage=Ae(this.currentPage,1),this.fullHeight=t,w.forEach((I,j)=>{let Y=(L=I.legendItem||{}).y||0,U=Math.round(L.label.getBBox().height),K=y.length;(!K||Y-y[K-1]>k&&(P||Y)!==y[K-1])&&(y.push(P||Y),K++),L.pageIx=K-1,P&&((w[j-1].legendItem||{}).pageIx=K-1),j===w.length-1&&Y+U-y[K-1]>k&&Y>y[K-1]&&(y.push(Y),L.pageIx=K),Y!==P&&(P=Y)}),H||(H=e.clipRect=s.clipRect(0,l-2,9999,0),e.contentGroup.clip(H)),M(k),W||(this.nav=W=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,b,b).add(W),S("upTracker").on("click",function(){e.scroll(-1,p)}),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&g.style&&this.pager.css(g.style),this.pager.add(W),this.down=s.symbol("triangle-down",0,0,b,b).add(W),S("downTracker").on("click",function(){e.scroll(1,p)})),e.scroll(0),t=z):W&&(M(),this.nav=W.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){let i=this.chart,s=this.pages,r=s.length,n=this.clipHeight,o=this.options.navigation,l=this.pager,c=this.padding,g=this.currentPage+t;g>r&&(g=r),g>0&&(e!==void 0&&Cd(e,i),this.nav.attr({translateX:c,translateY:n+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(p){p.attr({class:g===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),l.attr({text:g+"/"+r}),[this.down,this.downTracker].forEach(function(p){p.attr({x:18+this.pager.getBBox().width,class:g===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),i.styledMode||(this.up.attr({fill:g===1?o.inactiveColor:o.activeColor}),this.upTracker.css({cursor:g===1?"default":"pointer"}),this.down.attr({fill:g===r?o.inactiveColor:o.activeColor}),this.downTracker.css({cursor:g===r?"default":"pointer"})),this.scrollOffset=-s[g-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=g,this.positionCheckboxes(),Hd(()=>{oi(this,"afterScroll",{currentPage:g})},Sd(Ae(e,i.renderer.globalAnimation,!0)).duration))}setItemEvents(t,e,i){let s=this,r=t.legendItem||{},n=s.chart.renderer.boxWrapper,o=t instanceof wt,l=t instanceof ve,c="highcharts-legend-"+(o?"point":"series")+"-active",g=s.chart.styledMode,p=i?[e,r.symbol]:[r.group],b=y=>{s.allItems.forEach(w=>{t!==w&&[w].concat(w.linkedSeries||[]).forEach(M=>{M.setState(y,!o)})})};for(let y of p)y&&y.on("mouseover",function(){t.visible&&b("inactive"),t.setState("hover"),t.visible&&n.addClass(c),g||e.css(s.options.itemHoverStyle)}).on("mouseout",function(){s.chart.styledMode||e.css(is(t.visible?s.itemStyle:s.itemHiddenStyle)),b(""),n.removeClass(c),t.setState()}).on("click",function(w){let M=function(){t.setVisible&&t.setVisible(),b(t.visible?"inactive":"")};n.removeClass(c),oi(s,"itemClick",{browserEvent:w,legendItem:t},M),o?t.firePointEvent("legendItemClick",{browserEvent:w}):l&&oi(t,"legendItemClick",{browserEvent:w})})}createCheckboxForItem(t){t.checkbox=Dd("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),go(t.checkbox,"click",function(e){let i=e.target;oi(t.series||t,"checkboxClick",{checked:i.checked,item:t},function(){t.select()})})}}(function(h){h.compose=function(t){Fd(Od,"Core.Legend")&&go(t,"beforeMargins",function(){this.legend=new h(this,this.options.legend)})}})(ul||(ul={}));let Xh=ul,{animate:pl,animObject:Wd,setAnimation:gl}=Zt,{defaultOptions:ml}=he,{numberFormat:jd}=ce,{registerEventOptions:Gh}=_i,{charts:ss,doc:Ur,marginNames:Vh,svg:Xd,win:Yh}=R,{seriesTypes:fl}=jt,{addEvent:bl,attr:$h,createElement:xl,css:De,defined:Li,diffObjects:Uh,discardElement:Gd,erase:Vd,error:yl,extend:Di,find:vl,fireEvent:Tt,getAlignFactor:Yd,getStyle:wl,isArray:$d,isNumber:Zs,isObject:Ud,isString:mo,merge:ai,objectEach:kl,pick:ae,pInt:Kd,relativeLength:Kh,removeEvent:qh,splat:fo,syncTimeout:qd,uniqueKey:_d}=st;class Bi{static chart(t,e,i){return new Bi(t,e,i)}constructor(t,e,i){this.sharedClips={};let s=[...arguments];(mo(t)||t.nodeName)&&(this.renderTo=s.shift()),this.init(s[0],s[1])}setZoomOptions(){let t=this.options.chart,e=t.zooming;this.zooming={...e,type:ae(t.zoomType,e.type),key:ae(t.zoomKey,e.key),pinchType:ae(t.pinchType,e.pinchType),singleTouch:ae(t.zoomBySingleTouch,e.singleTouch,!1),resetButton:ai(e.resetButton,t.resetZoomButton)}}init(t,e){Tt(this,"init",{args:arguments},function(){let i=ai(ml,t),s=i.chart,r=this.renderTo||s.renderTo;this.userOptions=Di({},t),(this.renderTo=mo(r)?Ur.getElementById(r):r)||yl(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.locale=i.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new cr(Di(i.time||{},{locale:this.locale})),i.time=this.time.options,this.numberFormatter=(s.numberFormatter||jd).bind(this),this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes,this.index=ss.length,ss.push(this),R.chartCount++,Gh(this,s),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Tt(this,"afterInit"),this.firstRender()})}initSeries(t){let e=this.options.chart,i=t.type||e.type,s=fl[i];s||yl(17,!0,this,{missingModuleFor:i});let r=new s;return typeof r.init=="function"&&r.init(this,t),r}setSortedData(){this.getSeriesOrderByLinks().forEach(function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0})}orderItems(t,e=0){let i=this[t],s=this.options[t]=fo(this.options[t]).slice(),r=this.userOptions[t]=this.userOptions[t]?fo(this.userOptions[t]).slice():[];if(this.hasRendered&&(s.splice(e),r.splice(e)),i)for(let n=e,o=i.length;n<o;++n){let l=i[n];l&&(l.index=n,l instanceof ve&&(l.name=l.getName()),l.options.isInternal||(s[n]=l.options,r[n]=l.userOptions))}}isInsidePlot(t,e,i={}){let{inverted:s,plotBox:r,plotLeft:n,plotTop:o,scrollablePlotBox:l}=this,{scrollLeft:c=0,scrollTop:g=0}=i.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},p=i.series,b=i.visiblePlotOnly&&l||r,y=i.inverted?e:t,w=i.inverted?t:e,M={x:y,y:w,isInsidePlot:!0,options:i};if(!i.ignoreX){let S=p&&(s&&!this.polar?p.yAxis:p.xAxis)||{pos:n,len:1/0},k=i.paneCoordinates?S.pos+y:n+y;k>=Math.max(c+n,S.pos)&&k<=Math.min(c+n+b.width,S.pos+S.len)||(M.isInsidePlot=!1)}if(!i.ignoreY&&M.isInsidePlot){let S=!s&&i.axis&&!i.axis.isXAxis&&i.axis||p&&(s?p.xAxis:p.yAxis)||{pos:o,len:1/0},k=i.paneCoordinates?S.pos+w:o+w;k>=Math.max(g+o,S.pos)&&k<=Math.min(g+o+b.height,S.pos+S.len)||(M.isInsidePlot=!1)}return Tt(this,"afterIsInsidePlot",M),M.isInsidePlot}redraw(t){Tt(this,"beforeRedraw");let e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,s=this.pointer,r=this.legend,n=this.userOptions.legend,o=this.renderer,l=o.isHidden(),c=[],g,p,b,y=this.isDirtyBox,w=this.isDirtyLegend,M;for(o.rootFontSize=o.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),gl(!!this.hasRendered&&t,this),l&&this.temporaryDisplay(),this.layOutTitles(!1),b=i.length;b--;)if(((M=i[b]).options.stacking||M.options.centerInCategory)&&(p=!0,M.isDirty)){g=!0;break}if(g)for(b=i.length;b--;)(M=i[b]).options.stacking&&(M.isDirty=!0);i.forEach(function(S){S.isDirty&&(S.options.legendType==="point"?(typeof S.updateTotals=="function"&&S.updateTotals(),w=!0):n&&(n.labelFormatter||n.labelFormat)&&(w=!0)),S.isDirtyData&&Tt(S,"updatedData")}),w&&r&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),p&&this.getStacks(),e.forEach(function(S){S.updateNames(),S.setScale()}),this.getMargins(),e.forEach(function(S){S.isDirty&&(y=!0)}),e.forEach(function(S){let k=S.min+","+S.max;S.extKey!==k&&(S.extKey=k,c.push(function(){Tt(S,"afterSetExtremes",Di(S.eventArgs,S.getExtremes())),delete S.eventArgs})),(y||p)&&S.redraw()}),y&&this.drawChartBox(),Tt(this,"predraw"),i.forEach(function(S){(y||S.isDirty)&&S.visible&&S.redraw(),S.isDirtyData=!1}),s&&s.reset(!0),o.draw(),Tt(this,"redraw"),Tt(this,"render"),l&&this.temporaryDisplay(!0),c.forEach(function(S){S.call()})}get(t){let e=this.series;function i(r){return r.id===t||r.options&&r.options.id===t}let s=vl(this.axes,i)||vl(this.series,i);for(let r=0;!s&&r<e.length;r++)s=vl(e[r].points||[],i);return s}createAxes(){let t=this.userOptions;for(let e of(Tt(this,"createAxes"),["xAxis","yAxis"]))for(let i of t[e]=fo(t[e]||{}))new Ci(this,i,e);Tt(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(i=>{ae(i.selectedStaging,i.selected)&&t.push(i)}),t),[])}getSelectedSeries(){return this.series.filter(t=>t.selected)}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){let i=this,s=this.options[t]=ai(this.options[t],e),r=this[t];r&&e&&(this[t]=r=r.destroy()),s&&!r&&((r=this.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+t,zIndex:s.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(n,o){i.applyDescription(t,n),i.layOutTitles(o)},this.styledMode||r.css(Di(t==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},s.style)),r.textPxLength=r.getBBox().width,r.css({whiteSpace:s.style?.whiteSpace}),this[t]=r)}layOutTitles(t=!0){let e=[0,0,0],{options:i,renderer:s,spacingBox:r}=this;["title","subtitle","caption"].forEach(o=>{let l=this[o],c=this.options[o],g=ai(r),p=l?.textPxLength||0;if(l&&c){Tt(this,"layOutTitle",{alignTo:g,key:o,textPxLength:p});let b=s.fontMetrics(l),y=b.b,w=b.h,M=c.verticalAlign||"top",S=M==="top",k=S&&c.minScale||1,P=o==="title"?S?-3:0:S?e[0]+2:0,L=Math.min(g.width/p,1),z=Math.max(k,L),W=ai({y:M==="bottom"?y:P+y},{align:o==="title"?L<k?"left":"center":this.title?.alignValue},c),H=c.width||(L>k?this.chartWidth:g.width)/z;l.alignValue!==W.align&&(l.placed=!1);let I=Math.round(l.css({width:`${H}px`}).getBBox(c.useHTML).height);if(W.height=I,l.align(W,!1,g).attr({align:W.align,scaleX:z,scaleY:z,"transform-origin":`${g.x+p*z*Yd(W.align)} ${w}`}),!c.floating){let j=I*(I<1.2*w?1:z);M==="top"?e[0]=Math.ceil(e[0]+j):M==="bottom"&&(e[2]=Math.ceil(e[2]+j))}}},this),e[0]&&(i.title?.verticalAlign||"top")==="top"&&(e[0]+=i.title?.margin||0),e[2]&&i.caption?.verticalAlign==="bottom"&&(e[2]+=i.caption?.margin||0);let n=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,Tt(this,"afterLayOutTitles"),!this.isDirtyBox&&n&&(this.isDirtyBox=this.isDirtyLegend=n,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){let t=[].map.call(this.renderTo.children,i=>{if(i!==this.container){let s=i.style.display;return i.style.display="none",[i,s]}}),e={width:wl(this.renderTo,"width",!0)||0,height:wl(this.renderTo,"height",!0)||0};return t.filter(Boolean).forEach(([i,s])=>{i.style.display=s}),e}getChartSize(){let t=this.options.chart,e=t.width,i=t.height,s=this.getContainerBox(),r=s.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,e||s.width||600),this.chartHeight=Math.max(0,Kh(i,this.chartWidth)||(r?400:s.height)),this.containerBox=s}temporaryDisplay(t){let e=this.renderTo,i;if(t)for(;e&&e.style;)e.hcOrigStyle&&(De(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(Ur.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(Ur.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,Ur.body.appendChild(e)),(wl(e,"display",!1)==="none"||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},i={display:"block",overflow:"hidden"},e!==this.renderTo&&(i.height=0),De(e,i),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==Ur.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){let t,e=this.options,i=e.chart,s="data-highcharts-chart",r=_d(),n=this.renderTo,o=Kd($h(n,s));Zs(o)&&ss[o]&&ss[o].hasRendered&&ss[o].destroy(),$h(n,s,this.index),n.innerHTML=Lt.emptyHTML,i.skipClone||n.offsetWidth||this.temporaryDisplay(),this.getChartSize();let l=this.chartHeight,c=this.chartWidth;De(n,{overflow:"hidden"}),this.styledMode||(t=Di({position:"relative",overflow:"hidden",width:c+"px",height:l+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},i.style||{}));let g=xl("div",{id:r},t,n);this.container=g,this.getChartSize(),c===this.chartWidth||(c=this.chartWidth,this.styledMode||De(g,{width:ae(i.style?.width,c+"px")})),this.containerBox=this.getContainerBox(),this._cursor=g.style.cursor;let p=i.renderer||!Xd?Ze.getRendererType(i.renderer):Ps;if(this.renderer=new p(g,c,l,void 0,i.forExport,e.exporting&&e.exporting.allowHTML,this.styledMode),gl(void 0,this),this.setClassName(i.className),this.styledMode)for(let b in e.defs)this.renderer.definition(e.defs[b]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,Tt(this,"afterGetContainer")}getMargins(t){let{spacing:e,margin:i,titleOffset:s}=this;this.resetMargins(),s[0]&&!Li(i[0])&&(this.plotTop=Math.max(this.plotTop,s[0]+e[0])),s[2]&&!Li(i[2])&&(this.marginBottom=Math.max(this.marginBottom,s[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),Tt(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,s=t.margin,r=function(n){n.forEach(function(o){o.visible&&o.getOffset()})};t.hasCartesianSeries?r(t.axes):i&&i.length&&r(i),Vh.forEach(function(n,o){Li(s[o])||(t[n]+=e[o])}),t.setChartSize()}getOptions(){return Uh(this.userOptions,ml)}reflow(t){let e=this,i=e.containerBox,s=e.getContainerBox();delete e.pointer?.chartPosition,!e.isPrinting&&!e.isResizing&&i&&s.width&&((s.width!==i.width||s.height!==i.height)&&(st.clearTimeout(e.reflowTimeout),e.reflowTimeout=qd(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerBox=s)}setReflow(){let t=this,e=i=>{t.options?.chart.reflow&&t.hasLoaded&&t.reflow(i)};if(typeof ResizeObserver=="function")new ResizeObserver(e).observe(t.renderTo);else{let i=bl(Yh,"resize",e);bl(this,"destroy",i)}}setSize(t,e,i){let s=this,r=s.renderer;s.isResizing+=1,gl(i,s);let n=r.globalAnimation;s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,t!==void 0&&(s.options.chart.width=t),e!==void 0&&(s.options.chart.height=e),s.getChartSize();let{chartWidth:o,chartHeight:l,scrollablePixelsX:c=0,scrollablePixelsY:g=0}=s;(s.isDirtyBox||o!==s.oldChartWidth||l!==s.oldChartHeight)&&(s.styledMode||(n?pl:De)(s.container,{width:`${o+c}px`,height:`${l+g}px`},n),s.setChartSize(!0),r.setSize(o,l,n),s.axes.forEach(function(p){p.isDirty=!0,p.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(n),s.oldChartHeight=void 0,Tt(s,"resize"),setTimeout(()=>{s&&Tt(s,"endResize")},Wd(n).duration)),s.isResizing-=1}setChartSize(t){let e,i,s,r,{chartHeight:n,chartWidth:o,inverted:l,spacing:c,renderer:g}=this,p=this.clipOffset,b=Math[l?"floor":"round"];this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=s=Math.max(0,Math.round(o-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(n-i-this.marginBottom)),this.plotSizeX=l?r:s,this.plotSizeY=l?s:r,this.spacingBox=g.spacingBox={x:c[3],y:c[0],width:o-c[3]-c[1],height:n-c[0]-c[2]},this.plotBox=g.plotBox={x:e,y:i,width:s,height:r},p&&(this.clipBox={x:b(p[3]),y:b(p[0]),width:b(this.plotSizeX-p[1]-p[3]),height:b(this.plotSizeY-p[0]-p[2])}),t||(this.axes.forEach(function(y){y.setAxisSize(),y.setAxisTranslation()}),g.alignElements()),Tt(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){Tt(this,"resetMargins");let t=this,e=t.options.chart,i=e.plotBorderWidth||0,s=i/2;["margin","spacing"].forEach(function(r){let n=e[r],o=Ud(n)?n:[n,n,n,n];["Top","Right","Bottom","Left"].forEach(function(l,c){t[r][c]=ae(e[r+l],o[c])})}),Vh.forEach(function(r,n){t[r]=ae(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[s,s,s,s],t.plotBorderWidth=i}drawChartBox(){let t=this.options.chart,e=this.renderer,i=this.chartWidth,s=this.chartHeight,r=this.styledMode,n=this.plotBGImage,o=t.backgroundColor,l=t.plotBackgroundColor,c=t.plotBackgroundImage,g=this.plotLeft,p=this.plotTop,b=this.plotWidth,y=this.plotHeight,w=this.plotBox,M=this.clipRect,S=this.clipBox,k=this.chartBackground,P=this.plotBackground,L=this.plotBorder,z,W,H,I="animate";k||(this.chartBackground=k=e.rect().addClass("highcharts-background").add(),I="attr"),r?z=W=k.strokeWidth():(W=(z=t.borderWidth||0)+(t.shadow?8:0),H={fill:o||"none"},(z||k["stroke-width"])&&(H.stroke=t.borderColor,H["stroke-width"]=z),k.attr(H).shadow(t.shadow)),k[I]({x:W/2,y:W/2,width:i-W-z%2,height:s-W-z%2,r:t.borderRadius}),I="animate",P||(I="attr",this.plotBackground=P=e.rect().addClass("highcharts-plot-background").add()),P[I](w),!r&&(P.attr({fill:l||"none"}).shadow(t.plotShadow),c&&(n?(c!==n.attr("href")&&n.attr("href",c),n.animate(w)):this.plotBGImage=e.image(c,g,p,b,y).add())),M?M.animate({width:S.width,height:S.height}):this.clipRect=e.clipRect(S),I="animate",L||(I="attr",this.plotBorder=L=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),r||L.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),L[I](L.crisp({x:g,y:p,width:b,height:y},-L.strokeWidth())),this.isDirtyBox=!1,Tt(this,"afterDrawChartBox")}propFromSeries(){let t,e,i,s=this,r=s.options.chart,n=s.options.series;["inverted","angular","polar"].forEach(function(o){for(e=fl[r.type],i=r[o]||e&&e.prototype[o],t=n&&n.length;!i&&t--;)(e=fl[n[t].type])&&e.prototype[o]&&(i=!0);s[o]=i})}linkSeries(t){let e=this,i=e.series;i.forEach(function(s){s.linkedSeries.length=0}),i.forEach(function(s){let{linkedTo:r}=s.options;if(mo(r)){let n;(n=r===":previous"?e.series[s.index-1]:e.get(r))&&n.linkedParent!==s&&(n.linkedSeries.push(s),s.linkedParent=n,n.enabledDataSorting&&s.setDataSortingOptions(),s.visible=ae(s.options.visible,n.options.visible,s.visible))}}),Tt(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach(function(t){t.translate(),t.render()})}render(){let t=this.axes,e=this.colorAxis,i=this.renderer,s=this.options.chart.axisLayoutRuns||2,r=g=>{g.forEach(p=>{p.visible&&p.render()})},n=0,o=!0,l,c=0;for(let g of(this.setTitle(),Tt(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),t)){let{options:p}=g,{labels:b}=p;if(this.hasCartesianSeries&&g.horiz&&g.visible&&b.enabled&&g.series.length&&g.coll!=="colorAxis"&&!this.polar){n=p.tickLength,g.createGroups();let y=new Ge(g,0,"",!0),w=y.createLabel("x",b);if(y.destroy(),w&&ae(b.reserveSpace,!Zs(p.crossing))&&(n=w.getBBox().height+b.distance+Math.max(p.offset||0,0)),n){w?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-n,0);(o||l||s>1)&&c<s;){let g=this.plotWidth,p=this.plotHeight;for(let b of t)c===0?b.setScale():(b.horiz&&o||!b.horiz&&l)&&b.setTickInterval(!0);c===0?this.getAxisMargins():this.getMargins(),o=g/this.plotWidth>(c?1:1.1),l=p/this.plotHeight>(c?1:1.05),c++}this.drawChartBox(),this.hasCartesianSeries?r(t):e&&e.length&&r(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let e=this,i=ai(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){i.href&&(Yh.location.href=i.href)}).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(s){e.credits=e.credits.destroy(),e.addCredits(s)})}destroy(){let t,e=this,i=e.axes,s=e.series,r=e.container,n=r&&r.parentNode;for(Tt(e,"destroy"),e.renderer.forExport?Vd(ss,e):ss[e.index]=void 0,R.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),qh(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=s.length;t--;)s[t]=s[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(o){let l=e[o];l&&l.destroy&&(e[o]=l.destroy())}),r&&(r.innerHTML=Lt.emptyHTML,qh(r),n&&Gd(r)),kl(e,function(o,l){delete e[l]})}firstRender(){let t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.createAxes();let i=$d(e.series)?e.series:[];e.series=[],i.forEach(function(s){t.initSeries(s)}),t.linkSeries(),t.setSortedData(),Tt(t,"beforeRender"),t.render(),t.pointer?.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(t){t&&this.index!==void 0&&t.apply(this,[this])},this),Tt(this,"load"),Tt(this,"render"),Li(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:e}=this;!t||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&t.accessibility.enabled===!1||yl('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){let s,r=this;return t&&(e=ae(e,!0),Tt(r,"addSeries",{options:t},function(){s=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),s.enabledDataSorting&&s.setData(t.data,!1),Tt(r,"afterAddSeries",{series:s}),e&&r.redraw(i)})),s}addAxis(t,e,i,s){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:s})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,e){let i=new Ci(this,e.axis,t);return ae(e.redraw,!0)&&this.redraw(e.animation),i}showLoading(t){let e=this,i=e.options,s=i.loading,r=function(){n&&De(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})},n=e.loadingDiv,o=e.loadingSpan;n||(e.loadingDiv=n=xl("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),o||(e.loadingSpan=o=xl("span",{className:"highcharts-loading-inner"},null,n),bl(e,"redraw",r)),n.className="highcharts-loading",Lt.setElementHTML(o,ae(t,i.lang.loading,"")),e.styledMode||(De(n,Di(s.style,{zIndex:10})),De(o,s.labelStyle),e.loadingShown||(De(n,{opacity:0,display:""}),pl(n,{opacity:s.style.opacity||.5},{duration:s.showDuration||0}))),e.loadingShown=!0,r()}hideLoading(){let t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||pl(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){De(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,s){let r,n,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},g=t.isResponsiveOptions,p=[];Tt(l,"update",{options:t}),g||l.setResponsive(!1,!0),t=Uh(t,l.options),l.userOptions=ai(l.userOptions,t);let b=t.chart;b&&(ai(!0,l.options.chart,b),this.setZoomOptions(),"className"in b&&l.setClassName(b.className),("inverted"in b||"polar"in b||"type"in b)&&(l.propFromSeries(),r=!0),"alignTicks"in b&&(r=!0),"events"in b&&Gh(this,b),kl(b,function(M,S){l.propsRequireUpdateSeries.indexOf("chart."+S)!==-1&&(n=!0),l.propsRequireDirtyBox.indexOf(S)!==-1&&(l.isDirtyBox=!0),l.propsRequireReflow.indexOf(S)===-1||(l.isDirtyBox=!0,g||(o=!0))}),!l.styledMode&&b.style&&l.renderer.setStyle(l.options.chart.style||{})),!l.styledMode&&t.colors&&(this.options.colors=t.colors),kl(t,function(M,S){l[S]&&typeof l[S].update=="function"?l[S].update(M,!1):typeof l[c[S]]=="function"?l[c[S]](M):S!=="colors"&&l.collectionsWithUpdate.indexOf(S)===-1&&ai(!0,l.options[S],t[S]),S!=="chart"&&l.propsRequireUpdateSeries.indexOf(S)!==-1&&(n=!0)}),this.collectionsWithUpdate.forEach(function(M){t[M]&&(fo(t[M]).forEach(function(S,k){let P,L=Li(S.id);L&&(P=l.get(S.id)),!P&&l[M]&&(P=l[M][ae(S.index,k)])&&(L&&Li(P.options.id)||P.options.isInternal)&&(P=void 0),P&&P.coll===M&&(P.update(S,!1),i&&(P.touched=!0)),!P&&i&&l.collectionsWithInit[M]&&(l.collectionsWithInit[M][0].apply(l,[S].concat(l.collectionsWithInit[M][1]||[]).concat([!1])).touched=!0)}),i&&l[M].forEach(function(S){S.touched||S.options.isInternal?delete S.touched:p.push(S)}))}),p.forEach(function(M){M.chart&&M.remove&&M.remove(!1)}),r&&l.axes.forEach(function(M){M.update({},!1)}),n&&l.getSeriesOrderByLinks().forEach(function(M){M.chart&&M.update({},!1)},this);let y=b&&b.width,w=b&&(mo(b.height)?Kh(b.height,y||l.chartWidth):b.height);o||Zs(y)&&y!==l.chartWidth||Zs(w)&&w!==l.chartHeight?l.setSize(y,w,s):ae(e,!0)&&l.redraw(s),Tt(l,"afterUpdate",{options:t,redraw:e,animation:s})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){let t=this,e=ml.lang,i=t.zooming.resetButton,s=i.theme,r=i.relativeTo==="chart"||i.relativeTo==="spacingBox"?null:"plotBox";function n(){t.zoomOut()}Tt(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(e.resetZoom,null,null,n,s).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,r)}),Tt(this,"afterShowResetZoom")}zoomOut(){Tt(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(t,e){let i=this,s=typeof e=="object"?e:{enabled:e,type:"x"},r=s.type,n=r&&i[{x:"xAxis",xy:"axes",y:"yAxis"}[r]].filter(l=>l.options.panningEnabled&&!l.options.isInternal),o=i.options.chart;o?.panning&&(o.panning=s),Tt(this,"pan",{originalEvent:t},()=>{i.transform({axes:n,event:t,to:{x:t.chartX-(i.mouseDownX||0),y:t.chartY-(i.mouseDownY||0)},trigger:"pan"}),De(i.container,{cursor:"move"})})}transform(t){let{axes:e=this.axes,event:i,from:s={},reset:r,selection:n,to:o={},trigger:l}=t,{inverted:c,time:g}=this,p=!1,b,y;for(let w of(this.hoverPoints?.forEach(M=>M.setState()),e)){let{horiz:M,len:S,minPointOffset:k=0,options:P,reversed:L}=w,z=M?"width":"height",W=M?"x":"y",H=ae(o[z],w.len),I=ae(s[z],w.len),j=10>Math.abs(H)?1:H/I,Y=(s[W]||0)+I/2-w.pos,U=Y-((o[W]??w.pos)+H/2-w.pos)/j,K=L&&!c||!L&&c?-1:1;if(!r&&(Y<0||Y>w.len))continue;let Z=w.toValue(U,!0)+(n||w.isOrdinal?0:k*K),Q=w.toValue(U+S/j,!0)-(n||w.isOrdinal?0:k*K||0),et=w.allExtremes;if(Z>Q&&([Z,Q]=[Q,Z]),j===1&&!r&&w.coll==="yAxis"&&!et){for(let ue of w.series){let Ue=ue.getExtremes(ue.getProcessedData(!0).modified.getColumn("y")||[],!0);et??(et={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Zs(Ue.dataMin)&&Zs(Ue.dataMax)&&(et.dataMin=Math.min(Ue.dataMin,et.dataMin),et.dataMax=Math.max(Ue.dataMax,et.dataMax))}w.allExtremes=et}let{dataMin:J,dataMax:it,min:bt,max:lt}=Di(w.getExtremes(),et||{}),ht=g.parse(P.min),yt=g.parse(P.max),at=J??ht,$t=it??yt,Rt=Q-Z,Et=w.categories?0:Math.min(Rt,$t-at),Ot=at-Et*(Li(ht)?0:P.minPadding),qt=$t+Et*(Li(yt)?0:P.maxPadding),Ft=w.allowZoomOutside||j===1||l!=="zoom"&&j>1,le=Math.min(ht??Ot,Ot,Ft?bt:Ot),_t=Math.max(yt??qt,qt,Ft?lt:qt);(!w.isOrdinal||w.options.overscroll||j!==1||r)&&(Z<le&&(Z=le,j>=1&&(Q=Z+Rt)),Q>_t&&(Q=_t,j>=1&&(Z=Q-Rt)),(r||w.series.length&&(Z!==bt||Q!==lt)&&Z>=le&&Q<=_t)&&(n?n[w.coll].push({axis:w,min:Z,max:Q}):(w.isPanning=l!=="zoom",w.isPanning&&(y=!0),w.setExtremes(r?void 0:Z,r?void 0:Q,!1,!1,{move:U,trigger:l,scale:j}),!r&&(Z>le||Q<_t)&&l!=="mousewheel"&&(b=!0)),p=!0),i&&(this[M?"mouseDownX":"mouseDownY"]=i[M?"chartX":"chartY"]))}return p&&(n?Tt(this,"selection",n,()=>{delete t.selection,t.trigger="zoom",this.transform(t)}):(!b||y||this.resetZoomButton?!b&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(l==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),p}}Di(Bi.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Bi.prototype.addAxis,[!0]],yAxis:[Bi.prototype.addAxis,[!1]],series:[Bi.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:Zd}=Zt,{composed:Qd}=R,{addEvent:Ni,createElement:bo,css:Al,defined:El,erase:Jd,merge:_h,pushUnique:Zh}=st;function tu(){let h=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!h&&(this.scrollablePlotArea=h=new Kr(this)),h?.applyFixed()}function Qh(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Kr{static compose(t,e,i){Zh(Qd,this.compose)&&(Ni(t,"afterInit",Qh),Ni(e,"afterSetChartSize",s=>this.afterSetSize(s.target,s)),Ni(e,"render",tu),Ni(i,"show",Qh))}static afterSetSize(t,e){let i,s,r,{minWidth:n,minHeight:o}=t.options.chart.scrollablePlotArea||{},{clipBox:l,plotBox:c,inverted:g,renderer:p}=t;if(!p.forExport&&(n?(t.scrollablePixelsX=i=Math.max(0,n-t.chartWidth),i&&(t.scrollablePlotBox=_h(t.plotBox),c.width=t.plotWidth+=i,l[g?"height":"width"]+=i,r=!0)):o&&(t.scrollablePixelsY=s=Math.max(0,o-t.chartHeight),El(s)&&(t.scrollablePlotBox=_h(t.plotBox),c.height=t.plotHeight+=s,l[g?"width":"height"]+=s,r=!1)),El(r)&&!e.skipAxes))for(let b of t.axes)(b.horiz===r||t.hasParallelCoordinates&&b.coll==="yAxis")&&(b.setAxisSize(),b.setAxisTranslation())}constructor(t){let e,i=t.options.chart,s=Ze.getRendererType(),r=i.scrollablePlotArea||{},n=this.moveFixedElements.bind(this),o={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};t.scrollablePixelsX&&(o.overflowX="auto"),t.scrollablePixelsY&&(o.overflowY="auto"),this.chart=t;let l=this.parentDiv=bo("div",{className:"highcharts-scrolling-parent"},{position:"relative"},t.renderTo),c=this.scrollingContainer=bo("div",{className:"highcharts-scrolling"},o,l),g=this.innerContainer=bo("div",{className:"highcharts-inner-container"},void 0,c),p=this.fixedDiv=bo("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(i.style?.zIndex||0)+2,top:0},void 0,!0),b=this.fixedRenderer=new s(p,t.chartWidth,t.chartHeight,i.style);this.mask=b.path().attr({fill:i.backgroundColor||"#fff","fill-opacity":r.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),c.parentNode.insertBefore(p,c),Al(t.renderTo,{overflow:"visible"}),Ni(t,"afterShowResetZoom",n),Ni(t,"afterApplyDrilldown",n),Ni(t,"afterLayOutTitles",n),Ni(c,"scroll",()=>{let{pointer:y,hoverPoint:w}=t;y&&(delete y.chartPosition,w&&(e=w),y.runPointActions(void 0,e,!0))}),g.appendChild(t.container)}applyFixed(){let{chart:t,fixedRenderer:e,isDirty:i,scrollingContainer:s}=this,{axisOffset:r,chartWidth:n,chartHeight:o,container:l,plotHeight:c,plotLeft:g,plotTop:p,plotWidth:b,scrollablePixelsX:y=0,scrollablePixelsY:w=0}=t,{scrollPositionX:M=0,scrollPositionY:S=0}=t.options.chart.scrollablePlotArea||{},k=n+y,P=o+w;e.setSize(n,o),(i??!0)&&(this.isDirty=!1,this.moveFixedElements()),Zd(t.container),Al(l,{width:`${k}px`,height:`${P}px`}),t.renderer.boxWrapper.attr({width:k,height:P,viewBox:[0,0,k,P].join(" ")}),t.chartBackground?.attr({width:k,height:P}),Al(s,{width:`${n}px`,height:`${o}px`}),El(i)||(s.scrollLeft=y*M,s.scrollTop=w*S);let L=p-r[0]-1,z=g-r[3]-1,W=p+c+r[2]+1,H=g+b+r[1]+1,I=g+b-y,j=p+c-w,Y=[["M",0,0]];y?Y=[["M",0,L],["L",g-1,L],["L",g-1,W],["L",0,W],["Z"],["M",I,L],["L",n,L],["L",n,W],["L",I,W],["Z"]]:w&&(Y=[["M",z,0],["L",z,p-1],["L",H,p-1],["L",H,0],["Z"],["M",z,j],["L",z,o],["L",H,o],["L",H,j],["Z"]]),t.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Y})}moveFixedElements(){let t,{container:e,inverted:i,scrollablePixelsX:s,scrollablePixelsY:r}=this.chart,n=this.fixedRenderer,o=Kr.fixedSelectors;if(s&&!i?t=".highcharts-yaxis":s&&i||r&&!i?t=".highcharts-xaxis":r&&i&&(t=".highcharts-yaxis"),t&&!(this.chart.hasParallelCoordinates&&t===".highcharts-yaxis"))for(let l of[`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`])Zh(o,l);else for(let l of[".highcharts-xaxis",".highcharts-yaxis"])for(let c of[`${l}:not(.highcharts-radial-axis)`,`${l}-labels:not(.highcharts-radial-axis-labels)`])Jd(o,c);for(let l of o)[].forEach.call(e.querySelectorAll(l),c=>{(c.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(c),c.style.pointerEvents="auto"})}}Kr.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:eu}=ce,{series:iu}=jt,{destroyObjectProperties:su,fireEvent:Jh,getAlignFactor:Ml,isNumber:Tl,pick:qr}=st,tc=class{constructor(h,t,e,i,s){let r=h.chart.inverted,n=h.reversed;this.axis=h;let o=this.isNegative=!!e!=!!n;this.options=t=t||{},this.x=i,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=s,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(r?o?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":o?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(r?o?"right":"left":"center")}destroy(){su(this,this.axis)}render(h){let t=this.axis.chart,e=this.options,i=e.format,s=i?eu(i,this,t):e.formatter.call(this);if(this.label)this.label.attr({text:s,visibility:"hidden"});else{this.label=t.renderer.label(s,null,void 0,e.shape,void 0,void 0,e.useHTML,!1,"stack-labels");let r={r:e.borderRadius||0,text:s,padding:qr(e.padding,5),visibility:"hidden"};t.styledMode||(r.fill=e.backgroundColor,r.stroke=e.borderColor,r["stroke-width"]=e.borderWidth,this.label.css(e.style||{})),this.label.attr(r),this.label.added||this.label.add(h)}this.label.labelrank=t.plotSizeY,Jh(this,"afterRender")}setOffset(h,t,e,i,s,r){let{alignOptions:n,axis:o,label:l,options:c,textAlign:g}=this,p=o.chart,b=this.getStackBox({xOffset:h,width:t,boxBottom:e,boxTop:i,defaultX:s,xAxis:r}),{verticalAlign:y}=n;if(l&&b){let w=l.getBBox(void 0,0),M=l.padding,S=qr(c.overflow,"justify")==="justify",k;n.x=c.x||0,n.y=c.y||0;let{x:P,y:L}=this.adjustStackPosition({labelBox:w,verticalAlign:y,textAlign:g});b.x-=P,b.y-=L,l.align(n,!1,b),(k=p.isInsidePlot(l.alignAttr.x+n.x+P,l.alignAttr.y+n.y+L))||(S=!1),S&&iu.prototype.justifyDataLabel.call(o,l,n,l.alignAttr,w,b),l.attr({x:l.alignAttr.x,y:l.alignAttr.y,rotation:c.rotation,rotationOriginX:w.width*Ml(c.textAlign||"center"),rotationOriginY:w.height/2}),qr(!S&&c.crop,!0)&&(k=Tl(l.x)&&Tl(l.y)&&p.isInsidePlot(l.x-M+(l.width||0),l.y)&&p.isInsidePlot(l.x+M,l.y)),l[k?"show":"hide"]()}Jh(this,"afterSetOffset",{xOffset:h,width:t})}adjustStackPosition({labelBox:h,verticalAlign:t,textAlign:e}){return{x:h.width/2+h.width/2*(2*Ml(e)-1),y:h.height/2*2*(1-Ml(t))}}getStackBox(h){let t=this.axis,e=t.chart,{boxTop:i,defaultX:s,xOffset:r,width:n,boxBottom:o}=h,l=t.stacking.usePercentage?100:qr(i,this.total,0),c=t.toPixels(l),g=h.xAxis||e.xAxis[0],p=qr(s,g.translate(this.x))+r,b=Math.abs(c-t.toPixels(o||Tl(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),y=e.inverted,w=this.isNegative;return y?{x:(w?c:c-b)-e.plotLeft,y:g.height-p-n+g.top-e.plotTop,width:b,height:n}:{x:p+g.transB-e.plotLeft,y:(w?c-b:c)-e.plotTop,width:n,height:b}}},{getDeferredAnimation:ru}=Zt,{series:{prototype:nu}}=jt,{addEvent:ec,correctFloat:_r,defined:ic,destroyObjectProperties:ou,fireEvent:au,isNumber:Sl,objectEach:rs,pick:Cl}=st;function lu(){let h=this.inverted;this.axes.forEach(t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),this.series.forEach(t=>{let e=t.xAxis&&t.xAxis.options||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,Cl(t.options.stack,""),h?e.top:e.left,h?e.height:e.width].join(","))})}function hu(){let h=this.stacking;if(h){let t=h.stacks;rs(t,(e,i)=>{ou(e),delete t[i]}),h.stackTotalGroup?.destroy()}}function cu(){this.stacking||(this.stacking=new fu(this))}function du(h,t,e,i){return!ic(h)||h.x!==t||i&&h.stackKey!==i?h={x:t,index:0,key:i,stackKey:i}:h.index++,h.key=[e,t,h.index].join(","),h}function uu(){let h,t=this,e=t.yAxis,i=t.stackKey||"",s=e.stacking.stacks,r=t.getColumn("x",!0),n=t.options.stacking,o=t[n+"Stacker"];o&&[i,"-"+i].forEach(l=>{let c=r.length,g,p,b;for(;c--;)g=r[c],h=t.getStackIndicator(h,g,t.index,l),p=s[l]?.[g],(b=p?.points[h.key||""])&&o.call(t,b,p,c)})}function pu(h,t,e){let i=t.total?100/t.total:0;h[0]=_r(h[0]*i),h[1]=_r(h[1]*i),this.stackedYData[e]=h[1]}function gu(h){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?nu.setStackedPoints.call(this,h,"group"):h.stacking.resetStacks())}function mu(h,t){let e,i,s,r,n,o,l,c=t||this.options.stacking;if(!c||!this.reserveSpace()||({group:"xAxis"}[c]||"yAxis")!==h.coll)return;let g=this.getColumn("x",!0),p=this.getColumn(this.pointValKey||"y",!0),b=[],y=p.length,w=this.options,M=w.threshold||0,S=w.startFromThreshold?M:0,k=w.stack,P=t?`${this.type},${c}`:this.stackKey||"",L="-"+P,z=this.negStacks,W=h.stacking,H=W.stacks,I=W.oldStacks;for(W.stacksTouched+=1,l=0;l<y;l++){let j=g[l]||0,Y=p[l],U=Sl(Y)&&Y||0;o=(e=this.getStackIndicator(e,j,this.index)).key||"",H[n=(i=z&&U<(S?0:M))?L:P]||(H[n]={}),H[n][j]||(I[n]?.[j]?(H[n][j]=I[n][j],H[n][j].total=null):H[n][j]=new tc(h,h.options.stackLabels,!!i,j,k)),s=H[n][j],Y!==null?(s.points[o]=s.points[this.index]=[Cl(s.cumulative,S)],ic(s.cumulative)||(s.base=o),s.touched=W.stacksTouched,e.index>0&&this.singleStacks===!1&&(s.points[o][0]=s.points[this.index+","+j+",0"][0])):(delete s.points[o],delete s.points[this.index]);let K=s.total||0;c==="percent"?(r=i?P:L,K=z&&H[r]?.[j]?(r=H[r][j]).total=Math.max(r.total||0,K)+Math.abs(U):_r(K+Math.abs(U))):c==="group"?Sl(Y)&&K++:K=_r(K+U),c==="group"?s.cumulative=(K||1)-1:s.cumulative=_r(Cl(s.cumulative,S)+U),s.total=K,Y!==null&&(s.points[o].push(s.cumulative),b[l]=s.cumulative,s.hasValidPoints=!0)}c==="percent"&&(W.usePercentage=!0),c!=="group"&&(this.stackedYData=b),W.oldStacks={}}class fu{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,e,i=this.axis,s=i.series,r=i.coll==="xAxis",n=i.options.reversedStacks,o=s.length;for(this.resetStacks(),this.usePercentage=!1,e=o;e--;)t=s[n?e:o-e-1],r&&t.setGroupedPoints(i),t.setStackedPoints(i);if(!r)for(e=0;e<o;e++)s[e].modifyStacks();au(i,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,rs(this.stacks,t=>{rs(t,e=>{e.cumulative=e.total})}))}resetStacks(){rs(this.stacks,t=>{rs(t,(e,i)=>{Sl(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){let t=this.axis,e=t.chart,i=e.renderer,s=this.stacks,r=ru(e,t.options.stackLabels?.animation||!1),n=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();n.translate(e.plotLeft,e.plotTop),rs(s,o=>{rs(o,l=>{l.render(n)})}),n.animate({opacity:1},r)}}(gt||(gt={})).compose=function(h,t,e){let i=t.prototype,s=e.prototype;i.getStacks||(ec(h,"init",cu),ec(h,"destroy",hu),i.getStacks=lu,s.getStackIndicator=du,s.modifyStacks=uu,s.percentStacker=pu,s.setGroupedPoints=gu,s.setStackedPoints=mu)};let bu=gt,{defined:xu,merge:sc,isObject:yu}=st;class rc extends ve{drawGraph(){let t=this.options,e=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode;[this,...this.zones].forEach((s,r)=>{let n,o=s.graph,l=o?"animate":"attr",c=s.dashStyle||t.dashStyle;o?(o.endX=this.preventGraphAnimation?null:e.xMap,o.animate({d:e})):e.length&&(s.graph=o=this.chart.renderer.path(e).addClass("highcharts-graph"+(r?` highcharts-zone-graph-${r-1} `:" ")+(r&&s.className||"")).attr({zIndex:1}).add(this.group)),o&&!i&&(n={stroke:!r&&t.lineColor||s.color||this.color||"#cccccc","stroke-width":t.lineWidth||0,fill:this.fillGraph&&this.color||"none"},c?n.dashstyle=c:t.linecap!=="square"&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),o[l](n).shadow(t.shadow&&sc({filterUnits:"userSpaceOnUse"},yu(t.shadow)?t.shadow:{}))),o&&(o.startX=e.xMap,o.isArea=e.isArea)})}getGraphPath(t,e,i){let s=this,r=s.options,n=[],o=[],l,c=r.step,g=(t=t||s.points).reversed;return g&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&g&&(c=4-c),(t=this.getValidPoints(t,!1,!(r.connectNulls&&!e&&!i))).forEach(function(p,b){let y,w=p.plotX,M=p.plotY,S=t[b-1],k=p.isNull||typeof M!="number";(p.leftCliff||S&&S.rightCliff)&&!i&&(l=!0),k&&!xu(e)&&b>0?l=!r.connectNulls:k&&!e?l=!0:(b===0||l?y=[["M",p.plotX,p.plotY]]:s.getPointSpline?y=[s.getPointSpline(t,p,b)]:c?(y=c===1?[["L",S.plotX,M]]:c===2?[["L",(S.plotX+w)/2,S.plotY],["L",(S.plotX+w)/2,M]]:[["L",w,S.plotY]]).push(["L",w,M]):y=[["L",w,M]],o.push(p.x),c&&(o.push(p.x),c===2&&o.push(p.x)),n.push.apply(n,y),l=!1)}),n.xMap=o,s.graphPath=n,n}}rc.defaultOptions=sc(ve.defaultOptions,{legendSymbol:"lineMarker"}),jt.registerSeriesType("line",rc);let{seriesTypes:{line:Ol}}=jt,{extend:vu,merge:wu,objectEach:ku,pick:xo}=st;class Pl extends Ol{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:t,options:e}=this;[this,...this.zones].forEach((i,s)=>{let r={},n=i.fillColor||e.fillColor,o=i.area,l=o?"animate":"attr";o?(o.endX=this.preventGraphAnimation?null:t.xMap,o.animate({d:t})):(r.zIndex=0,(o=i.area=this.chart.renderer.path(t).addClass("highcharts-area"+(s?` highcharts-zone-area-${s-1} `:" ")+(s&&i.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(r.fill=n||i.color||this.color,r["fill-opacity"]=n?1:e.fillOpacity??.75,o.css({pointerEvents:this.stickyTracking?"none":"auto"})),o[l](r),o.startX=t.xMap,o.shiftUnit=e.step?2:1})}getGraphPath(t){let e,i,s,r=Ol.prototype.getGraphPath,n=this.options,o=n.stacking,l=this.yAxis,c=[],g=[],p=this.index,b=l.stacking.stacks[this.stackKey],y=n.threshold,w=Math.round(l.getThreshold(n.threshold)),M=xo(n.connectNulls,o==="percent"),S=function(H,I,j){let Y=t[H],U=o&&b[Y.x].points[p],K=Y[j+"Null"]||0,Z=Y[j+"Cliff"]||0,Q,et,J=!0;Z||K?(Q=(K?U[0]:U[1])+Z,et=U[0]+Z,J=!!K):!o&&t[I]&&t[I].isNull&&(Q=et=y),Q!==void 0&&(g.push({plotX:e,plotY:Q===null?w:l.getThreshold(Q),isNull:J,isCliff:!0}),c.push({plotX:e,plotY:et===null?w:l.getThreshold(et),doCurve:!1}))};t=t||this.points,o&&(t=this.getStackPoints(t));for(let H=0,I=t.length;H<I;++H)o||(t[H].leftCliff=t[H].rightCliff=t[H].leftNull=t[H].rightNull=void 0),i=t[H].isNull,e=xo(t[H].rectPlotX,t[H].plotX),s=o?xo(t[H].yBottom,w):w,i&&!M||(M||S(H,H-1,"left"),i&&!o&&M||(g.push(t[H]),c.push({x:H,plotX:e,plotY:s})),M||S(H,H+1,"right"));let k=r.call(this,g,!0,!0);c.reversed=!0;let P=r.call(this,c,!0,!0),L=P[0];L&&L[0]==="M"&&(P[0]=["L",L[1],L[2]]);let z=k.concat(P);z.length&&z.push(["Z"]);let W=r.call(this,g,!1,M);return this.chart.series.length>1&&o&&g.some(H=>H.isCliff)&&(z.hasStackedCliffs=W.hasStackedCliffs=!0),z.xMap=k.xMap,this.areaPath=z,W}getStackPoints(t){let e=this,i=[],s=[],r=this.xAxis,n=this.yAxis,o=n.stacking.stacks[this.stackKey],l={},c=n.series,g=c.length,p=n.options.reversedStacks?1:-1,b=c.indexOf(e);if(t=t||this.points,this.options.stacking){for(let w=0;w<t.length;w++)t[w].leftNull=t[w].rightNull=void 0,l[t[w].x]=t[w];ku(o,function(w,M){w.total!==null&&s.push(M)}),s.sort(function(w,M){return w-M});let y=c.map(w=>w.visible);s.forEach(function(w,M){let S=0,k,P;if(l[w]&&!l[w].isNull)i.push(l[w]),[-1,1].forEach(function(L){let z=L===1?"rightNull":"leftNull",W=o[s[M+L]],H=0;if(W){let I=b;for(;I>=0&&I<g;){let j=c[I].index;!(k=W.points[j])&&(j===e.index?l[w][z]=!0:y[I]&&(P=o[w].points[j])&&(H-=P[1]-P[0])),I+=p}}l[w][L===1?"rightCliff":"leftCliff"]=H});else{let L=b;for(;L>=0&&L<g;){let z=c[L].index;if(k=o[w].points[z]){S=k[1];break}L+=p}S=xo(S,0),S=n.translate(S,0,1,0,1),i.push({isNull:!0,plotX:r.translate(w,0,0,0,1),x:w,plotY:S,yBottom:S})}})}return i}}Pl.defaultOptions=wu(Ol.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),vu(Pl.prototype,{singleStacks:!1}),jt.registerSeriesType("area",Pl);let{line:nc}=jt.seriesTypes,{merge:Au,pick:yo}=st;class Ll extends nc{getPointSpline(t,e,i){let s,r,n,o,l=e.plotX||0,c=e.plotY||0,g=t[i-1],p=t[i+1];function b(w){return w&&!w.isNull&&w.doCurve!==!1&&!e.isCliff}if(b(g)&&b(p)){let w=g.plotX||0,M=g.plotY||0,S=p.plotX||0,k=p.plotY||0,P=0;s=(1.5*l+w)/2.5,r=(1.5*c+M)/2.5,n=(1.5*l+S)/2.5,o=(1.5*c+k)/2.5,n!==s&&(P=(o-r)*(n-l)/(n-s)+c-o),r+=P,o+=P,r>M&&r>c?(r=Math.max(M,c),o=2*c-r):r<M&&r<c&&(r=Math.min(M,c),o=2*c-r),o>k&&o>c?(o=Math.max(k,c),r=2*c-o):o<k&&o<c&&(o=Math.min(k,c),r=2*c-o),e.rightContX=n,e.rightContY=o,e.controlPoints={low:[s,r],high:[n,o]}}let y=["C",yo(g.rightContX,g.plotX,0),yo(g.rightContY,g.plotY,0),yo(s,l,0),yo(r,c,0),l,c];return g.rightContX=g.rightContY=void 0,y}}Ll.defaultOptions=Au(nc.defaultOptions),jt.registerSeriesType("spline",Ll);let oc=Ll,{area:Eu,area:{prototype:Dl}}=jt.seriesTypes,{extend:Mu,merge:Tu}=st;class Bl extends oc{}Bl.defaultOptions=Tu(oc.defaultOptions,Eu.defaultOptions),Mu(Bl.prototype,{getGraphPath:Dl.getGraphPath,getStackPoints:Dl.getStackPoints,drawGraph:Dl.drawGraph}),jt.registerSeriesType("areaspline",Bl);let{animObject:Su}=Zt,{parse:Cu}=Gt,{noop:Ou}=R,{clamp:vo,crisp:wo,defined:ac,extend:lc,fireEvent:hc,isArray:cc,isNumber:ko,merge:Nl,pick:Qs,objectEach:Pu}=st;class Ao extends ve{animate(t){let e,i,s=this,r=this.yAxis,n=r.pos,o=r.reversed,l=s.options,{clipOffset:c,inverted:g}=this.chart,p={},b=g?"translateX":"translateY";t&&c?(p.scaleY=.001,i=vo(r.toPixels(l.threshold||0),n,n+r.len),g?(i+=o?-Math.floor(c[0]):Math.ceil(c[2]),p.translateX=i-r.len):(i+=o?Math.ceil(c[0]):-Math.floor(c[2]),p.translateY=i),s.clipBox&&s.setClip(),s.group.attr(p)):(e=Number(s.group.attr(b)),s.group.animate({scaleY:1},lc(Su(s.options.animation),{step:function(y,w){s.group&&(p[b]=e+w.pos*(n-e),s.group.attr(p))}})))}init(t,e){super.init.apply(this,arguments);let i=this;(t=i.chart).hasRendered&&t.series.forEach(function(s){s.type===i.type&&(s.isDirty=!0)})}getColumnMetrics(){let t=this,e=t.options,i=t.xAxis,s=t.yAxis,r=i.options.reversedStacks,n=i.reversed&&!r||!i.reversed&&r,o={},l,c=0;e.grouping===!1?c=1:t.chart.series.forEach(function(M){let S,k=M.yAxis,P=M.options;M.type===t.type&&M.reserveSpace()&&s.len===k.len&&s.pos===k.pos&&(P.stacking&&P.stacking!=="group"?(o[l=M.stackKey]===void 0&&(o[l]=c++),S=o[l]):P.grouping!==!1&&(S=c++),M.columnIndex=S)});let g=Math.min(Math.abs(i.transA)*(!i.brokenAxis?.hasBreaks&&i.ordinal?.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),p=g*e.groupPadding,b=(g-2*p)/(c||1),y=Math.min(e.maxPointWidth||i.len,Qs(e.pointWidth,b*(1-2*e.pointPadding))),w=(t.columnIndex||0)+(n?1:0);return t.columnMetrics={width:y,offset:(b-y)/2+(p+w*b-g/2)*(n?-1:1),paddedWidth:b,columnCount:c},t.columnMetrics}crispCol(t,e,i,s){let r=this.borderWidth,n=this.chart.inverted;return s=wo(e+s,r,n)-(e=wo(e,r,n)),this.options.crisp&&(i=wo(t+i,r)-(t=wo(t,r))),{x:t,y:e,width:i,height:s}}adjustForMissingColumns(t,e,i,s){if(!i.isNull&&s.columnCount>1){let r=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),n=0,o=0;Pu(this.xAxis.stacking?.stacks,c=>{let g=typeof i.x=="number"?c[i.x.toString()]?.points:void 0,p=g?.[this.index],b={};if(g&&cc(p)){let y=this.index,w=Object.keys(g).filter(M=>!M.match(",")&&g[M]&&g[M].length>1).map(parseFloat).filter(M=>r.indexOf(M)!==-1).filter(M=>{let S=this.chart.series[M].options,k=S.stacking&&S.stack;if(ac(k)){if(ko(b[k]))return y===M&&(y=b[k]),!1;b[k]=M}return!0}).sort((M,S)=>S-M);n=w.indexOf(y),o=w.length}}),n=this.xAxis.reversed?o-1-n:n;let l=(o-1)*s.paddedWidth+e;t=(i.plotX||0)+l/2-e-n*s.paddedWidth}return t}translate(){let t=this,e=t.chart,i=t.options,s=t.dense=t.closestPointRange*t.xAxis.transA<2,r=t.borderWidth=Qs(i.borderWidth,s?0:1),n=t.xAxis,o=t.yAxis,l=i.threshold,c=Qs(i.minPointLength,5),g=t.getColumnMetrics(),p=g.width,b=t.pointXOffset=g.offset,y=t.dataMin,w=t.dataMax,M=t.translatedThreshold=o.getThreshold(l),S=t.barW=Math.max(p,1+2*r);i.pointPadding&&i.crisp&&(S=Math.ceil(S)),ve.prototype.translate.apply(t),t.points.forEach(function(k){let P=Qs(k.yBottom,M),L=999+Math.abs(P),z=k.plotX||0,W=vo(k.plotY,-L,o.len+L),H,I=Math.min(W,P),j=Math.max(W,P)-I,Y=p,U=z+b,K=S;c&&Math.abs(j)<c&&(j=c,H=!o.reversed&&!k.negative||o.reversed&&k.negative,ko(l)&&ko(w)&&k.y===l&&w<=l&&(o.min||0)<l&&(y!==w||(o.max||0)<=l)&&(H=!H,k.negative=!k.negative),I=Math.abs(I-M)>c?P-c:M-(H?c:0)),ac(k.options.pointWidth)&&(U-=Math.round(((Y=K=Math.ceil(k.options.pointWidth))-p)/2)),i.centerInCategory&&(U=t.adjustForMissingColumns(U,Y,k,g)),k.barX=U,k.pointWidth=Y,k.tooltipPos=e.inverted?[vo(o.len+o.pos-e.plotLeft-W,o.pos-e.plotLeft,o.len+o.pos-e.plotLeft),n.len+n.pos-e.plotTop-U-K/2,j]:[n.left-e.plotLeft+U+K/2,vo(W+o.pos-e.plotTop,o.pos-e.plotTop,o.len+o.pos-e.plotTop),j],k.shapeType=t.pointClass.prototype.shapeType||"roundedRect",k.shapeArgs=t.crispCol(U,k.isNull?M:I,K,k.isNull?0:j)}),hc(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let i=this.options,s=this.pointAttrToOptions||{},r=s.stroke||"borderColor",n=s["stroke-width"]||"borderWidth",o,l,c,g=t&&t.color||this.color,p=t&&t[r]||i[r]||g,b=t&&t.options.dashStyle||i.dashStyle,y=t&&t[n]||i[n]||this[n]||0,w=Qs(t&&t.opacity,i.opacity,1);t&&this.zones.length&&(l=t.getZone(),g=t.options.color||l&&(l.color||t.nonZonedColor)||this.color,l&&(p=l.borderColor||p,b=l.dashStyle||b,y=l.borderWidth||y)),e&&t&&(c=(o=Nl(i.states[e],t.options.states&&t.options.states[e]||{})).brightness,g=o.color||c!==void 0&&Cu(g).brighten(o.brightness).get()||g,p=o[r]||p,y=o[n]||y,b=o.dashStyle||b,w=Qs(o.opacity,w));let M={fill:g,stroke:p,"stroke-width":y,opacity:w};return b&&(M.dashstyle=b),M}drawPoints(t=this.points){let e,i=this,s=this.chart,r=i.options,n=s.renderer,o=r.animationLimit||250;t.forEach(function(l){let c=l.plotY,g=l.graphic,p=!!g,b=g&&s.pointCount<o?"animate":"attr";ko(c)&&l.y!==null?(e=l.shapeArgs,g&&l.hasNewShapeType()&&(g=g.destroy()),i.enabledDataSorting&&(l.startXPos=i.xAxis.reversed?-(e&&e.width||0):i.xAxis.width),!g&&(l.graphic=g=n[l.shapeType](e).add(l.group||i.group),g&&i.enabledDataSorting&&s.hasRendered&&s.pointCount<o&&(g.attr({x:l.startXPos}),p=!0,b="animate")),g&&p&&g[b](Nl(e)),s.styledMode||g[b](i.pointAttribs(l,l.selected&&"select")).shadow(l.allowShadow!==!1&&r.shadow),g&&(g.addClass(l.getClassName(),!0),g.attr({visibility:l.visible?"inherit":"hidden"}))):g&&(l.graphic=g.destroy())})}drawTracker(t=this.points){let e,i=this,s=i.chart,r=s.pointer,n=function(o){r?.normalize(o);let l=r?.getPointFromEvent(o),c=!s.scrollablePlotArea||s.isInsidePlot(o.chartX-s.plotLeft,o.chartY-s.plotTop,{visiblePlotOnly:!0});r&&l&&i.options.enableMouseTracking&&c&&(r.isDirectTouch=!0,l.onMouseOver(o))};t.forEach(function(o){e=cc(o.dataLabels)?o.dataLabels:o.dataLabel?[o.dataLabel]:[],o.graphic&&(o.graphic.element.point=o),e.forEach(function(l){(l.div||l.element).point=o})}),i._hasTracking||(i.trackerGroups.forEach(function(o){i[o]&&(i[o].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(l){r?.onTrackerMouseOut(l)}).on("touchstart",n),!s.styledMode&&i.options.cursor&&i[o].css({cursor:i.options.cursor}))}),i._hasTracking=!0),hc(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(i){i.type===t.type&&(i.isDirty=!0)}),ve.prototype.remove.apply(t,arguments)}}Ao.defaultOptions=Nl(ve.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),lc(Ao.prototype,{directTouch:!0,getSymbol:Ou,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),jt.registerSeriesType("column",Ao);let Eo=Ao,{getDeferredAnimation:Lu}=Zt,{format:Du}=ce,{defined:ns,extend:dc,fireEvent:Il,getAlignFactor:uc,isArray:Ii,isString:Fl,merge:Zr,objectEach:Bu,pick:Qr,pInt:Nu,splat:pc}=st;(function(h){function t(){return l(this).some(g=>g?.enabled)}function e(g,p,b,y,w){let{chart:M,enabledDataSorting:S}=this,k=this.isCartesian&&M.inverted,P=g.plotX,L=g.plotY,z=b.rotation||0,W=ns(P)&&ns(L)&&M.isInsidePlot(P,Math.round(L),{inverted:k,paneCoordinates:!0,series:this}),H=z===0&&Qr(b.overflow,S?"none":"justify")==="justify",I=this.visible&&g.visible!==!1&&ns(P)&&(g.series.forceDL||S&&!H||W||Qr(b.inside,!!this.options.stacking)&&y&&M.isInsidePlot(P,k?y.x+1:y.y+y.height-1,{inverted:k,paneCoordinates:!0,series:this})),j=g.pos();if(I&&j){var Y;let U=p.getBBox(),K=p.getBBox(void 0,0);if(y=dc({x:j[0],y:Math.round(j[1]),width:0,height:0},y||{}),b.alignTo==="plotEdges"&&this.isCartesian&&(y[k?"x":"y"]=0,y[k?"width":"height"]=this.yAxis?.len||0),dc(b,{width:U.width,height:U.height}),Y=y,S&&this.xAxis&&!H&&this.setDataLabelStartPos(g,p,w,W,Y),p.align(Zr(b,{width:K.width,height:K.height}),!1,y,!1),p.alignAttr.x+=uc(b.align)*(K.width-U.width),p.alignAttr.y+=uc(b.verticalAlign)*(K.height-U.height),p[p.placed?"animate":"attr"]({"text-align":p.alignAttr["text-align"]||"center",x:p.alignAttr.x+(U.width-K.width)/2,y:p.alignAttr.y+(U.height-K.height)/2,rotationOriginX:(p.width||0)/2,rotationOriginY:(p.height||0)/2}),H&&y.height>=0)this.justifyDataLabel(p,b,p.alignAttr,U,y,w);else if(Qr(b.crop,!0)){let{x:Z,y:Q}=p.alignAttr;I=M.isInsidePlot(Z,Q,{paneCoordinates:!0,series:this})&&M.isInsidePlot(Z+U.width-1,Q+U.height-1,{paneCoordinates:!0,series:this})}b.shape&&!z&&p[w?"attr":"animate"]({anchorX:j[0],anchorY:j[1]})}w&&S&&(p.placed=!1),I||S&&!H?(p.show(),p.placed=!0):(p.hide(),p.placed=!1)}function i(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function s(g){let p=this.hasRendered||0,b=this.initDataLabelsGroup().attr({opacity:+p});return!p&&b&&(this.visible&&b.show(),this.options.animation?b.animate({opacity:1},g):b.attr({opacity:1})),b}function r(g){let p;g=g||this.points;let b=this,y=b.chart,w=b.options,M=y.renderer,{backgroundColor:S,plotBackgroundColor:k}=y.options.chart,P=M.getContrast(Fl(k)&&k||Fl(S)&&S||"#000000"),L=l(b),{animation:z,defer:W}=L[0],H=W?Lu(y,z,b):{defer:0,duration:0};Il(this,"drawDataLabels"),b.hasDataLabels?.()&&(p=this.initDataLabels(H),g.forEach(I=>{let j=I.dataLabels||[];pc(o(L,I.dlOptions||I.options?.dataLabels)).forEach((U,K)=>{let Z=U.enabled&&(I.visible||I.dataLabelOnHidden)&&(!I.isNull||I.dataLabelOnNull)&&function(Et,Ot){let qt=Ot.filter;if(qt){let Ft=qt.operator,le=Et[qt.property],_t=qt.value;return Ft===">"&&le>_t||Ft==="<"&&le<_t||Ft===">="&&le>=_t||Ft==="<="&&le<=_t||Ft==="=="&&le==_t||Ft==="==="&&le===_t||Ft==="!="&&le!=_t||Ft==="!=="&&le!==_t}return!0}(I,U),{backgroundColor:Q,borderColor:et,distance:J,style:it={}}=U,bt,lt,ht,yt={},at=j[K],$t=!at,Rt;Z&&(lt=ns(bt=Qr(U[I.formatPrefix+"Format"],U.format))?Du(bt,I,y):(U[I.formatPrefix+"Formatter"]||U.formatter).call(I,U),ht=U.rotation,!y.styledMode&&(it.color=Qr(U.color,it.color,Fl(b.color)?b.color:void 0,"#000000"),it.color==="contrast"?(Q!=="none"&&(Rt=Q),I.contrastColor=M.getContrast(Rt!=="auto"&&Rt||I.color||b.color),it.color=Rt||!ns(J)&&U.inside||0>Nu(J||0)||w.stacking?I.contrastColor:P):delete I.contrastColor,w.cursor&&(it.cursor=w.cursor)),yt={r:U.borderRadius||0,rotation:ht,padding:U.padding,zIndex:1},y.styledMode||(yt.fill=Q==="auto"?I.color:Q,yt.stroke=et==="auto"?I.color:et,yt["stroke-width"]=U.borderWidth),Bu(yt,(Et,Ot)=>{Et===void 0&&delete yt[Ot]})),!at||Z&&ns(lt)&&!!at.div==!!U.useHTML&&(at.rotation&&U.rotation||at.rotation===U.rotation)||(at=void 0,$t=!0),Z&&ns(lt)&&(at?yt.text=lt:(at=M.label(lt,0,0,U.shape,void 0,void 0,U.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+I.colorIndex+" "+(U.className||"")+(U.useHTML?" highcharts-tracker":"")),at&&(at.options=U,at.attr(yt),y.styledMode?it.width&&at.css({width:it.width,textOverflow:it.textOverflow,whiteSpace:it.whiteSpace}):at.css(it).shadow(U.shadow),Il(at,"beforeAddingDataLabel",{labelOptions:U,point:I}),at.added||at.add(p),b.alignDataLabel(I,at,U,void 0,$t),at.isActive=!0,j[K]&&j[K]!==at&&j[K].destroy(),j[K]=at))});let Y=j.length;for(;Y--;)j[Y]&&j[Y].isActive?j[Y].isActive=!1:(j[Y]?.destroy(),j.splice(Y,1));I.dataLabel=j[0],I.dataLabels=j})),Il(this,"afterDrawDataLabels")}function n(g,p,b,y,w,M){let S=this.chart,k=p.align,P=p.verticalAlign,L=g.box?0:g.padding||0,z=S.inverted?this.yAxis:this.xAxis,W=z?z.left-S.plotLeft:0,H=S.inverted?this.xAxis:this.yAxis,I=H?H.top-S.plotTop:0,{x:j=0,y:Y=0}=p,U,K;return(U=(b.x||0)+L+W)<0&&(k==="right"&&j>=0?(p.align="left",p.inside=!0):j-=U,K=!0),(U=(b.x||0)+y.width-L+W)>S.plotWidth&&(k==="left"&&j<=0?(p.align="right",p.inside=!0):j+=S.plotWidth-U,K=!0),(U=b.y+L+I)<0&&(P==="bottom"&&Y>=0?(p.verticalAlign="top",p.inside=!0):Y-=U,K=!0),(U=(b.y||0)+y.height-L+I)>S.plotHeight&&(P==="top"&&Y<=0?(p.verticalAlign="bottom",p.inside=!0):Y+=S.plotHeight-U,K=!0),K&&(p.x=j,p.y=Y,g.placed=!M,g.align(p,void 0,w)),K}function o(g,p){let b=[],y;if(Ii(g)&&!Ii(p))b=g.map(function(w){return Zr(w,p)});else if(Ii(p)&&!Ii(g))b=p.map(function(w){return Zr(g,w)});else if(Ii(g)||Ii(p)){if(Ii(g)&&Ii(p))for(y=Math.max(g.length,p.length);y--;)b[y]=Zr(g[y],p[y])}else b=Zr(g,p);return b}function l(g){let p=g.chart.options.plotOptions;return pc(o(o(p?.series?.dataLabels,p?.[g.type]?.dataLabels),g.options.dataLabels))}function c(g,p,b,y,w){let M=this.chart,S=M.inverted,k=this.xAxis,P=k.reversed,L=((S?p.height:p.width)||0)/2,z=g.pointWidth,W=z?z/2:0;p.startXPos=S?w.x:P?-L-W:k.width-L+W,p.startYPos=S?P?this.yAxis.height-L+W:-L-W:w.y,y?p.visibility==="hidden"&&(p.show(),p.attr({opacity:0}).animate({opacity:1})):p.attr({opacity:1}).animate({opacity:0},void 0,p.hide),M.hasRendered&&(b&&p.attr({x:p.startXPos,y:p.startYPos}),p.placed=!0)}h.compose=function(g){let p=g.prototype;p.initDataLabels||(p.initDataLabels=s,p.initDataLabelsGroup=i,p.alignDataLabel=e,p.drawDataLabels=r,p.justifyDataLabel=n,p.setDataLabelStartPos=c,p.hasDataLabels=t)}})(Ht||(Ht={}));let Mo=Ht,{composed:Iu}=R,{series:gc}=jt,{merge:Fu,pick:Jr,pushUnique:Ru}=st;(function(h){function t(e,i,s,r,n){let o=this.chart.inverted,l=e.series,c=(l.xAxis?l.xAxis.len:this.chart.plotSizeX)||0,g=(l.yAxis?l.yAxis.len:this.chart.plotSizeY)||0,p=e.dlBox||e.shapeArgs,b=Jr(e.below,e.plotY>Jr(this.translatedThreshold,g)),y=Jr(s.inside,!!this.options.stacking);if(p){if(r=Fu(p),!(s.overflow==="allow"&&s.crop===!1)){r.y<0&&(r.height+=r.y,r.y=0);let w=r.y+r.height-g;w>0&&w<r.height-1&&(r.height-=w)}o&&(r={x:g-r.y-r.height,y:c-r.x-r.width,width:r.height,height:r.width}),y||(o?(r.x+=b?0:r.width,r.width=0):(r.y+=b?r.height:0,r.height=0))}s.align=Jr(s.align,!o||y?"center":b?"right":"left"),s.verticalAlign=Jr(s.verticalAlign,o||y?"middle":b?"top":"bottom"),gc.prototype.alignDataLabel.call(this,e,i,s,r,n),s.inside&&e.contrastColor&&i.css({color:e.contrastColor})}h.compose=function(e){Mo.compose(gc),Ru(Iu,"ColumnDataLabel")&&(e.prototype.alignDataLabel=t)}})(me||(me={}));let zu=me,{extend:Hu,merge:Wu}=st;class Rl extends Eo{}Rl.defaultOptions=Wu(Eo.defaultOptions,{}),Hu(Rl.prototype,{inverted:!0}),jt.registerSeriesType("bar",Rl);let{column:ju,line:mc}=jt.seriesTypes,{addEvent:Xu,extend:Gu,merge:Vu}=st;class To extends mc{applyJitter(){let t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach(function(s,r){["x","y"].forEach(function(n,o){if(e[n]&&!s.isNull){let l=`plot${n.toUpperCase()}`,c=t[`${n}Axis`],g=e[n]*c.transA;if(c&&!c.logarithmic){let p=Math.max(0,(s[l]||0)-g),b=Math.min(c.len,(s[l]||0)+g);s[l]=p+(b-p)*function(y){let w=1e4*Math.sin(y);return w-Math.floor(w)}(r+o*i),n==="x"&&(s.clientX=s.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}To.defaultOptions=Vu(mc.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Gu(To.prototype,{drawTracker:ju.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Xu(To,"afterTranslate",function(){this.applyJitter()}),jt.registerSeriesType("scatter",To);let{deg2rad:fc}=R,{fireEvent:Yu,isNumber:zl,pick:So,relativeLength:$u}=st;(function(h){h.getCenter=function(){let t=this.options,e=this.chart,i=2*(t.slicedOffset||0),s=e.plotWidth-2*i,r=e.plotHeight-2*i,n=t.center,o=Math.min(s,r),l=t.thickness,c,g=t.size,p=t.innerSize||0,b,y;typeof g=="string"&&(g=parseFloat(g)),typeof p=="string"&&(p=parseFloat(p));let w=[So(n?.[0],"50%"),So(n?.[1],"50%"),So(g&&g<0?void 0:t.size,"100%"),So(p&&p<0?void 0:t.innerSize||0,"0%")];for(!e.angular||this instanceof ve||(w[3]=0),b=0;b<4;++b)y=w[b],c=b<2||b===2&&/%$/.test(y),w[b]=$u(y,[s,r,o,w[2]][b])+(c?i:0);return w[3]>w[2]&&(w[3]=w[2]),zl(l)&&2*l<w[2]&&l>0&&(w[3]=w[2]-2*l),Yu(this,"afterGetCenter",{positions:w}),w},h.getStartAndEndRadians=function(t,e){let i=zl(t)?t:0,s=zl(e)&&e>i&&e-i<360?e:i+360;return{start:fc*(i+-90),end:fc*(s+-90)}}})(Ee||(Ee={}));let bc=Ee,{setAnimation:Uu}=Zt,{addEvent:xc,defined:Ku,extend:qu,isNumber:_u,pick:Zu,relativeLength:Qu}=st;class yc extends wt{getConnectorPath(t){let e=t.dataLabelPosition,i=t.options||{},s=i.connectorShape,r=this.connectorShapes[s]||s;return e&&r.call(this,{...e.computed,alignment:e.alignment},e.connectorPosition,i)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}constructor(t,e,i){super(t,e,i),this.half=0,this.name??(this.name="Slice");let s=r=>{this.slice(r.type==="select")};xc(this,"select",s),xc(this,"unselect",s)}isValid(){return _u(this.y)&&this.y>=0}setVisible(t,e=!0){t!==this.visible&&this.update({visible:t??!this.visible},e,void 0,!1)}slice(t,e,i){let s=this.series;Uu(i,s.chart),e=Zu(e,!0),this.sliced=this.options.sliced=t=Ku(t)?t:!this.sliced,s.options.data[s.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}qu(yc.prototype,{connectorShapes:{fixedOffset:function(h,t,e){let i=t.breakAt,s=t.touchingSliceAt,r=e.softConnector?["C",h.x+(h.alignment==="left"?-5:5),h.y,2*i.x-s.x,2*i.y-s.y,i.x,i.y]:["L",i.x,i.y];return[["M",h.x,h.y],r,["L",s.x,s.y]]},straight:function(h,t){let e=t.touchingSliceAt;return[["M",h.x,h.y],["L",e.x,e.y]]},crookedLine:function(h,t,e){let{angle:i=this.angle||0,breakAt:s,touchingSliceAt:r}=t,{series:n}=this,[o,l,c]=n.center,g=c/2,{plotLeft:p,plotWidth:b}=n.chart,y=h.alignment==="left",{x:w,y:M}=h,S=s.x;if(e.crookDistance){let P=Qu(e.crookDistance,1);S=y?o+g+(b+p-o-g)*(1-P):p+(o-g)*P}else S=o+(l-M)*Math.tan(i-Math.PI/2);let k=[["M",w,M]];return(y?S<=w&&S>=s.x:S>=w&&S<=s.x)&&k.push(["L",S,M]),k.push(["L",s.x,s.y],["L",r.x,r.y]),k}}});let{getStartAndEndRadians:Ju}=bc,{noop:vc}=R,{clamp:tp,extend:ep,fireEvent:wc,merge:Hl,pick:ip}=st;class Wl extends ve{animate(t){let e=this,i=e.points,s=e.startAngleRad;t||i.forEach(function(r){let n=r.graphic,o=r.shapeArgs;n&&o&&(n.attr({r:ip(r.startR,e.center&&e.center[3]/2),start:s,end:s}),n.animate({r:o.r,start:o.start,end:o.end},e.options.animation))})}drawEmpty(){let t,e,i=this.startAngleRad,s=this.endAngleRad,r=this.options;this.total===0&&this.center?(t=this.center[0],e=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,e,this.center[1]/2,0,i,s).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Yi.arc(t,e,this.center[2]/2,0,{start:i,end:s,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":r.borderWidth,fill:r.fillColor||"none",stroke:r.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach(function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i,s){let r=this.center,n=this.radii?this.radii[i.index]||0:r[2]/2,o=s.dataLabelPosition,l=o?.distance||0,c=Math.asin(tp((t-r[1])/(n+l),-1,1));return r[0]+Math.cos(c)*(n+l)*(e?-1:1)+(l>0?(e?-1:1)*(s.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let t,e,i,s,r=this,n=r.chart;this.drawEmpty(),r.group&&!n.styledMode&&r.group.shadow(r.options.shadow),r.points.forEach(function(o){let l={};e=o.graphic,!o.isNull&&e?(s=o.shapeArgs,t=o.getTranslate(),n.styledMode||(i=r.pointAttribs(o,o.selected&&"select")),o.delayedRendering?(e.setRadialReference(r.center).attr(s).attr(t),n.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}),o.delayedRendering=!1):(e.setRadialReference(r.center),n.styledMode||Hl(!0,l,i),Hl(!0,l,s,t),e.animate(l)),e.attr({visibility:o.visible?"inherit":"hidden"}),e.addClass(o.getClassName(),!0)):e&&(o.graphic=e.destroy())})}sortByAngle(t,e){t.sort(function(i,s){return i.angle!==void 0&&(s.angle-i.angle)*e})}translate(t){wc(this,"translate"),this.generatePoints();let e=this.options,i=e.slicedOffset,s=Ju(e.startAngle,e.endAngle),r=this.startAngleRad=s.start,n=(this.endAngleRad=s.end)-r,o=this.points,l=e.ignoreHiddenPoint,c=o.length,g,p,b,y,w,M,S,k=0;for(t||(this.center=t=this.getCenter()),M=0;M<c;M++){S=o[M],g=r+k*n,S.isValid()&&(!l||S.visible)&&(k+=S.percentage/100),p=r+k*n;let P={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*g)/1e3,end:Math.round(1e3*p)/1e3};S.shapeType="arc",S.shapeArgs=P,(b=(p+g)/2)>1.5*Math.PI?b-=2*Math.PI:b<-Math.PI/2&&(b+=2*Math.PI),S.slicedTranslation={translateX:Math.round(Math.cos(b)*i),translateY:Math.round(Math.sin(b)*i)},y=Math.cos(b)*t[2]/2,w=Math.sin(b)*t[2]/2,S.tooltipPos=[t[0]+.7*y,t[1]+.7*w],S.half=b<-Math.PI/2||b>Math.PI/2?1:0,S.angle=b}wc(this,"afterTranslate")}updateTotals(){let t=this.points,e=t.length,i=this.options.ignoreHiddenPoint,s,r,n=0;for(s=0;s<e;s++)(r=t[s]).isValid()&&(!i||r.visible)&&(n+=r.y);for(s=0,this.total=n;s<e;s++)(r=t[s]).percentage=n>0&&(r.visible||!i)?r.y/n*100:0,r.total=n}}Wl.defaultOptions=Hl(ve.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),ep(Wl.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Eo.prototype.drawTracker,getCenter:bc.getCenter,getSymbol:vc,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Eo.prototype.pointAttribs,pointClass:yc,requireSorting:!1,searchPoint:vc,trackerGroups:["group","dataLabelsGroup"]}),jt.registerSeriesType("pie",Wl);let{composed:sp,noop:rp}=R,{distribute:np}=Te,{series:kc}=jt,{arrayMax:op,clamp:Ac,defined:Ec,pick:ap,pushUnique:lp,relativeLength:Mc}=st;(function(h){let t={radialDistributionY:function(n,o){return(o.dataLabelPosition?.top||0)+n.distributeBox.pos},radialDistributionX:function(n,o,l,c,g){let p=g.dataLabelPosition;return n.getX(l<(p?.top||0)+2||l>(p?.bottom||0)-2?c:l,o.half,o,g)},justify:function(n,o,l,c){return c[0]+(n.half?-1:1)*(l+(o.dataLabelPosition?.distance||0))},alignToPlotEdges:function(n,o,l,c){let g=n.getBBox().width;return o?g+c:l-g-c},alignToConnectors:function(n,o,l,c){let g=0,p;return n.forEach(function(b){(p=b.dataLabel.getBBox().width)>g&&(g=p)}),o?g+c:l-g-c}};function e(n,o){let l=Math.PI/2,{start:c=0,end:g=0}=n.shapeArgs||{},p=n.angle||0;o>0&&c<l&&g>l&&p>l/2&&p<1.5*l&&(p=p<=l?Math.max(l/2,(c+l)/2):Math.min(1.5*l,(l+g)/2));let{center:b,options:y}=this,w=b[2]/2,M=Math.cos(p),S=Math.sin(p),k=b[0]+M*w,P=b[1]+S*w,L=Math.min((y.slicedOffset||0)+(y.borderWidth||0),o/5);return{natural:{x:k+M*o,y:P+S*o},computed:{},alignment:o<0?"center":n.half?"right":"left",connectorPosition:{angle:p,breakAt:{x:k+M*L,y:P+S*L},touchingSliceAt:{x:k,y:P}},distance:o}}function i(){let n=this,o=n.points,l=n.chart,c=l.plotWidth,g=l.plotHeight,p=l.plotLeft,b=Math.round(l.chartWidth/3),y=n.center,w=y[2]/2,M=y[1],S=[[],[]],k=[0,0,0,0],P=n.dataLabelPositioners,L,z,W,H=0;n.visible&&n.hasDataLabels?.()&&(o.forEach(I=>{(I.dataLabels||[]).forEach(j=>{j.shortened&&(j.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),j.shortened=!1)})}),kc.prototype.drawDataLabels.apply(n),o.forEach(I=>{(I.dataLabels||[]).forEach((j,Y)=>{let U=y[2]/2,K=j.options,Z=Mc(K?.distance||0,U);Y===0&&S[I.half].push(I),!Ec(K?.style?.width)&&j.getBBox().width>b&&(j.css({width:Math.round(.7*b)+"px"}),j.shortened=!0),j.dataLabelPosition=this.getDataLabelPosition(I,Z),H=Math.max(H,Z)})}),S.forEach((I,j)=>{let Y=I.length,U=[],K,Z,Q=0,et;Y&&(n.sortByAngle(I,j-.5),H>0&&(K=Math.max(0,M-w-H),Z=Math.min(M+w+H,l.plotHeight),I.forEach(J=>{(J.dataLabels||[]).forEach(it=>{let bt=it.dataLabelPosition;bt&&bt.distance>0&&(bt.top=Math.max(0,M-w-bt.distance),bt.bottom=Math.min(M+w+bt.distance,l.plotHeight),Q=it.getBBox().height||21,it.lineHeight=l.renderer.fontMetrics(it.text||it).h+2*it.padding,J.distributeBox={target:(it.dataLabelPosition?.natural.y||0)-bt.top+it.lineHeight/2,size:Q,rank:J.y},U.push(J.distributeBox))})}),np(U,et=Z+Q-K,et/5)),I.forEach(J=>{(J.dataLabels||[]).forEach(it=>{let bt=it.options||{},lt=J.distributeBox,ht=it.dataLabelPosition,yt=ht?.natural.y||0,at=bt.connectorPadding||0,$t=it.lineHeight||21,Rt=($t-it.getBBox().height)/2,Et=0,Ot=yt,qt="inherit";if(ht){if(U&&Ec(lt)&&ht.distance>0&&(lt.pos===void 0?qt="hidden":(W=lt.size,Ot=P.radialDistributionY(J,it))),bt.justify)Et=P.justify(J,it,w,y);else switch(bt.alignTo){case"connectors":Et=P.alignToConnectors(I,j,c,p);break;case"plotEdges":Et=P.alignToPlotEdges(it,j,c,p);break;default:Et=P.radialDistributionX(n,J,Ot-Rt,yt,it)}if(ht.attribs={visibility:qt,align:ht.alignment},ht.posAttribs={x:Et+(bt.x||0)+({left:at,right:-at}[ht.alignment]||0),y:Ot+(bt.y||0)-$t/2},ht.computed.x=Et,ht.computed.y=Ot-Rt,ap(bt.crop,!0)){let Ft;Et-(z=it.getBBox().width)<at&&j===1?(Ft=Math.round(z-Et+at),k[3]=Math.max(Ft,k[3])):Et+z>c-at&&j===0&&(Ft=Math.round(Et+z-c+at),k[1]=Math.max(Ft,k[1])),Ot-W/2<0?k[0]=Math.max(Math.round(-Ot+W/2),k[0]):Ot+W/2>g&&(k[2]=Math.max(Math.round(Ot+W/2-g),k[2])),ht.sideOverflow=Ft}}})}))}),(op(k)===0||this.verifyDataLabelOverflow(k))&&(this.placeDataLabels(),this.points.forEach(I=>{(I.dataLabels||[]).forEach(j=>{let{connectorColor:Y,connectorWidth:U=1}=j.options||{},K=j.dataLabelPosition;if(U){let Z;L=j.connector,K&&K.distance>0?(Z=!L,L||(j.connector=L=l.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+I.colorIndex+(I.className?" "+I.className:"")).add(n.dataLabelsGroup)),l.styledMode||L.attr({"stroke-width":U,stroke:Y||I.color||"#666666"}),L[Z?"attr":"animate"]({d:I.getConnectorPath(j)}),L.attr({visibility:K.attribs?.visibility})):L&&(j.connector=L.destroy())}})})))}function s(){this.points.forEach(n=>{(n.dataLabels||[]).forEach(o=>{let l=o.dataLabelPosition;l?(l.sideOverflow&&(o.css({width:Math.max(o.getBBox().width-l.sideOverflow,0)+"px",textOverflow:(o.options?.style||{}).textOverflow||"ellipsis"}),o.shortened=!0),o.attr(l.attribs),o[o.moved?"animate":"attr"](l.posAttribs),o.moved=!0):o&&o.attr({y:-9999})}),delete n.distributeBox},this)}function r(n){let o=this.center,l=this.options,c=l.center,g=l.minSize||80,p=g,b=l.size!==null;return!b&&(c[0]!==null?p=Math.max(o[2]-Math.max(n[1],n[3]),g):(p=Math.max(o[2]-n[1]-n[3],g),o[0]+=(n[3]-n[1])/2),c[1]!==null?p=Ac(p,g,o[2]-Math.max(n[0],n[2])):(p=Ac(p,g,o[2]-n[0]-n[2]),o[1]+=(n[0]-n[2])/2),p<o[2]?(o[2]=p,o[3]=Math.min(l.thickness?Math.max(0,p-2*l.thickness):Math.max(0,Mc(l.innerSize||0,p)),p),this.translate(o),this.drawDataLabels&&this.drawDataLabels()):b=!0),b}h.compose=function(n){if(Mo.compose(kc),lp(sp,"PieDataLabel")){let o=n.prototype;o.dataLabelPositioners=t,o.alignDataLabel=rp,o.drawDataLabels=i,o.getDataLabelPosition=e,o.placeDataLabels=s,o.verifyDataLabelOverflow=r}}})(qe||(qe={}));let hp=qe;(function(h){h.getCenterOfPoints=function(t){let e=t.reduce((i,s)=>(i.x+=s.x,i.y+=s.y,i),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}},h.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},h.getAngleBetweenPoints=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},h.pointInPolygon=function({x:t,y:e},i){let s=i.length,r,n,o=!1;for(r=0,n=s-1;r<s;n=r++){let[l,c]=i[r],[g,p]=i[n];c>e!=p>e&&t<(g-l)*(e-c)/(p-c)+l&&(o=!o)}return o}})(Ne||(Ne={}));let{pointInPolygon:cp}=Ne,{addEvent:dp,fireEvent:Tc,objectEach:Sc,pick:up}=st;function pp(h){let t=h.length,e=(g,p)=>!(p.x>=g.x+g.width||p.x+p.width<=g.x||p.y>=g.y+g.height||p.y+p.height<=g.y),i=(g,p)=>{for(let b of g)if(cp({x:b[0],y:b[1]},p))return!0;return!1},s,r,n,o,l,c=!1;for(let g=0;g<t;g++)(s=h[g])&&(s.oldOpacity=s.opacity,s.newOpacity=1,s.absoluteBox=function(p){if(p&&(!p.alignAttr||p.placed)){let b=p.box?0:p.padding||0,y=p.alignAttr||{x:p.attr("x"),y:p.attr("y")},w=p.getBBox();return p.width=w.width,p.height=w.height,{x:y.x+(p.parentGroup?.translateX||0)+b,y:y.y+(p.parentGroup?.translateY||0)+b,width:(p.width||0)-2*b,height:(p.height||0)-2*b,polygon:w?.polygon}}}(s));h.sort((g,p)=>(p.labelrank||0)-(g.labelrank||0));for(let g=0;g<t;++g){o=(r=h[g])&&r.absoluteBox;let p=o?.polygon;for(let b=g+1;b<t;++b){l=(n=h[b])&&n.absoluteBox;let y=!1;if(o&&l&&r!==n&&r.newOpacity!==0&&n.newOpacity!==0&&r.visibility!=="hidden"&&n.visibility!=="hidden"){let w=l.polygon;if(p&&w&&p!==w?i(p,w)&&(y=!0):e(o,l)&&(y=!0),y){let M=r.labelrank<n.labelrank?r:n,S=M.text;M.newOpacity=0,S?.element.querySelector("textPath")&&S.hide()}}}}for(let g of h)Cc(g,this)&&(c=!0);c&&Tc(this,"afterHideAllOverlappingLabels")}function Cc(h,t){let e,i,s=!1;return h&&(i=h.newOpacity,h.oldOpacity!==i&&(h.hasClass("highcharts-data-label")?(h[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),e=function(){t.styledMode||h.css({pointerEvents:i?"auto":"none"})},s=!0,h[h.isOld?"animate":"attr"]({opacity:i},void 0,e),Tc(t,"afterHideOverlappingLabel")):h.attr({opacity:i})),h.isOld=!0),s}function gp(){let h=this,t=[];for(let e of h.labelCollectors||[])t=t.concat(e());for(let e of h.yAxis||[])e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&Sc(e.stacking.stacks,i=>{Sc(i,s=>{s.label&&t.push(s.label)})});for(let e of h.series||[])if(e.visible&&e.hasDataLabels?.()){let i=s=>{for(let r of s)r.visible&&(r.dataLabels||[]).forEach(n=>{let o=n.options||{};n.labelrank=up(o.labelrank,r.labelrank,r.shapeArgs?.height),o.allowOverlap??Number(o.distance)>0?(n.oldOpacity=n.opacity,n.newOpacity=1,Cc(n,h)):t.push(n)})};i(e.nodes||[]),i(e.points)}this.hideOverlappingLabels(t)}let Oc={compose:function(h){let t=h.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=pp,dp(h,"render",gp))}},{defaultOptions:mp}=he,{noop:Pc}=R,{addEvent:Lc,extend:fp,isObject:Dc,merge:bp,relativeLength:jl}=st,xp={radius:0,scope:"stack",where:void 0},Bc=Pc,Nc=Pc;function yp(h,t,e,i,s={}){let r=Bc(h,t,e,i,s),{innerR:n=0,r:o=e,start:l=0,end:c=0}=s;if(s.open||!s.borderRadius)return r;let g=c-l,p=Math.sin(g/2),b=Math.max(Math.min(jl(s.borderRadius||0,o-n),(o-n)/2,o*p/(1+p)),0),y=Math.min(b,g/Math.PI*2*n),w=r.length-1;for(;w--;)(function(M,S,k){let P,L,z,W=M[S],H=M[S+1];if(H[0]==="Z"&&(H=M[0]),(W[0]==="M"||W[0]==="L")&&H[0]==="A"?(P=W,L=H,z=!0):W[0]==="A"&&(H[0]==="M"||H[0]==="L")&&(P=H,L=W),P&&L&&L.params){let I=L[1],j=L[5],Y=L.params,{start:U,end:K,cx:Z,cy:Q}=Y,et=j?I-k:I+k,J=et?Math.asin(k/et):0,it=j?J:-J,bt=Math.cos(J)*et;z?(Y.start=U+it,P[1]=Z+bt*Math.cos(U),P[2]=Q+bt*Math.sin(U),M.splice(S+1,0,["A",k,k,0,0,1,Z+I*Math.cos(Y.start),Q+I*Math.sin(Y.start)])):(Y.end=K-it,L[6]=Z+I*Math.cos(Y.end),L[7]=Q+I*Math.sin(Y.end),M.splice(S+1,0,["A",k,k,0,0,1,Z+bt*Math.cos(K),Q+bt*Math.sin(K)])),L[4]=Math.abs(Y.end-Y.start)<Math.PI?0:1}})(r,w,w>1?y:b);return r}function vp(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:h,yAxis:t}=this,e=h.stacking==="percent",i=mp.plotOptions?.[this.type]?.borderRadius,s=Xl(h.borderRadius,Dc(i)?i:{}),r=t.options.reversed;for(let n of this.points){let{shapeArgs:o}=n;if(n.shapeType==="roundedRect"&&o){let{width:l=0,height:c=0,y:g=0}=o,p=g,b=c;if(s.scope==="stack"&&n.stackTotal){let S=t.translate(e?100:n.stackTotal,!1,!0,!1,!0),k=t.translate(h.threshold||0,!1,!0,!1,!0),P=this.crispCol(0,Math.min(S,k),0,Math.abs(S-k));p=P.y,b=P.height}let y=(n.negative?-1:1)*(r?-1:1)==-1,w=s.where;!w&&this.is("waterfall")&&Math.abs((n.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(w="all"),w||(w="end");let M=Math.min(jl(s.radius,l),l/2,w==="all"?c/2:1/0)||0;w==="end"&&(y&&(p-=M),b+=M),fp(o,{brBoxHeight:b,brBoxY:p,r:M})}}}}function Xl(h,t){return Dc(h)||(h={radius:h||0}),bp(xp,t,h)}function wp(){let h=Xl(this.options.borderRadius);for(let t of this.points){let e=t.shapeArgs;e&&(e.borderRadius=jl(h.radius,(e.r||0)-(e.innerR||0)))}}function kp(h,t,e,i,s={}){let r=Nc(h,t,e,i,s),{r:n=0,brBoxHeight:o=i,brBoxY:l=t}=s,c=t-l,g=l+o-(t+i),p=c-n>-.1?0:n,b=g-n>-.1?0:n,y=Math.max(p&&c,0),w=Math.max(b&&g,0),M=[h+p,t],S=[h+e-p,t],k=[h+e,t+p],P=[h+e,t+i-b],L=[h+e-b,t+i],z=[h+b,t+i],W=[h,t+i-b],H=[h,t+p],I=(j,Y)=>Math.sqrt(Math.pow(j,2)-Math.pow(Y,2));if(y){let j=I(p,p-y);M[0]-=j,S[0]+=j,k[1]=H[1]=t+p-y}if(i<p-y){let j=I(p,p-y-i);k[0]=P[0]=h+e-p+j,L[0]=Math.min(k[0],L[0]),z[0]=Math.max(P[0],z[0]),W[0]=H[0]=h+p-j,k[1]=H[1]=t+i}if(w){let j=I(b,b-w);L[0]+=j,z[0]-=j,P[1]=W[1]=t+i-b+w}if(i<b-w){let j=I(b,b-w-i);k[0]=P[0]=h+e-b+j,S[0]=Math.min(k[0],S[0]),M[0]=Math.max(P[0],M[0]),W[0]=H[0]=h+b-j,P[1]=W[1]=t}return r.length=0,r.push(["M",...M],["L",...S],["A",p,p,0,0,1,...k],["L",...P],["A",b,b,0,0,1,...L],["L",...z],["A",b,b,0,0,1,...W],["L",...H],["A",p,p,0,0,1,...M],["Z"]),r}let{diffObjects:Ap,extend:Ep,find:Mp,merge:Tp,pick:Co,uniqueKey:Sp}=st;(function(h){function t(i,s){let r=i.condition;(r.callback||function(){return this.chartWidth<=Co(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Co(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Co(r.minWidth,0)&&this.chartHeight>=Co(r.minHeight,0)}).call(this)&&s.push(i._id)}function e(i,s){let r=this.options.responsive,n=this.currentResponsive,o=[],l;!s&&r&&r.rules&&r.rules.forEach(p=>{p._id===void 0&&(p._id=Sp()),this.matchResponsiveRule(p,o)},this);let c=Tp(...o.map(p=>Mp((r||{}).rules||[],b=>b._id===p)).map(p=>p&&p.chartOptions));c.isResponsiveOptions=!0,o=o.toString()||void 0;let g=n&&n.ruleIds;o===g||(n&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(n.undoOptions,i,!0),this.updatingResponsive=!1),o?((l=Ap(c,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:o,mergedOptions:c,undoOptions:l},this.updatingResponsive||this.update(c,i,!0)):this.currentResponsive=void 0)}h.compose=function(i){let s=i.prototype;return s.matchResponsiveRule||Ep(s,{matchResponsiveRule:t,setResponsive:e}),i}})(xt||(xt={}));let Cp=xt;R.AST=Lt,R.Axis=Ci,R.Chart=Bi,R.Color=Gt,R.DataLabel=Mo,R.DataTableCore=co,R.Fx=oe,R.HTMLElement=qi,R.Legend=Xh,R.LegendSymbol=Ch,R.OverlappingDataLabels=R.OverlappingDataLabels||Oc,R.PlotLineOrBand=Vs,R.Point=wt,R.Pointer=Mh,R.RendererRegistry=Ze,R.Series=ve,R.SeriesRegistry=jt,R.StackItem=tc,R.SVGElement=ke,R.SVGRenderer=Ps,R.Templating=ce,R.Tick=Ge,R.Time=cr,R.Tooltip=u,R.animate=Zt.animate,R.animObject=Zt.animObject,R.chart=Bi.chart,R.color=Gt.parse,R.dateFormat=ce.dateFormat,R.defaultOptions=he.defaultOptions,R.distribute=Te.distribute,R.format=ce.format,R.getDeferredAnimation=Zt.getDeferredAnimation,R.getOptions=he.getOptions,R.numberFormat=ce.numberFormat,R.seriesType=jt.seriesType,R.setAnimation=Zt.setAnimation,R.setOptions=he.setOptions,R.stop=Zt.stop,R.time=he.defaultTime,R.timers=oe.timers,{compose:function(h,t,e){let i=h.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let s=e.prototype.symbols;Lc(h,"afterColumnTranslate",vp,{order:9}),Lc(i,"afterTranslate",wp),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),Bc=s.arc,Nc=s.roundedRect,s.arc=yp,s.roundedRect=kp}},optionsToObject:Xl}.compose(R.Series,R.SVGElement,R.SVGRenderer),zu.compose(R.Series.types.column),Mo.compose(R.Series),Oe.compose(R.Axis),qi.compose(R.SVGRenderer),Xh.compose(R.Chart),Qa.compose(R.Axis),Oc.compose(R.Chart),hp.compose(R.Series.types.pie),Vs.compose(R.Chart,R.Axis),Mh.compose(R.Chart),Cp.compose(R.Chart),Kr.compose(R.Axis,R.Chart,R.Series),bu.compose(R.Axis,R.Chart,R.Series),u.compose(R.Pointer),st.extend(R,st);let Op=R;return pt.default})())});var Hc=Po((sn,Vl)=>{(function(C,d){typeof sn=="object"&&typeof Vl=="object"?Vl.exports=d(C._Highcharts,C._Highcharts.Templating,C._Highcharts.AST,C._Highcharts.Legend,C._Highcharts.Axis,C._Highcharts.Color,C._Highcharts.SeriesRegistry,C._Highcharts.RendererRegistry,C._Highcharts.SVGRenderer,C._Highcharts.Point,C._Highcharts.Series):typeof define=="function"&&define.amd?define("highcharts/modules/accessibility",["highcharts/highcharts"],function(x){return d(x,x.Templating,x.AST,x.Legend,x.Axis,x.Color,x.SeriesRegistry,x.RendererRegistry,x.SVGRenderer,x.Point,x.Series)}):typeof sn=="object"?sn["highcharts/modules/accessibility"]=d(C._Highcharts,C._Highcharts.Templating,C._Highcharts.AST,C._Highcharts.Legend,C._Highcharts.Axis,C._Highcharts.Color,C._Highcharts.SeriesRegistry,C._Highcharts.RendererRegistry,C._Highcharts.SVGRenderer,C._Highcharts.Point,C._Highcharts.Series):C.Highcharts=d(C.Highcharts,C.Highcharts.Templating,C.Highcharts.AST,C.Highcharts.Legend,C.Highcharts.Axis,C.Highcharts.Color,C.Highcharts.SeriesRegistry,C.Highcharts.RendererRegistry,C.Highcharts.SVGRenderer,C.Highcharts.Point,C.Highcharts.Series)})(typeof window>"u"?sn:window,(C,d,x,T,N,q,tt,ut,ct,kt,zt)=>(()=>{"use strict";let At;var gt,Ht,me,Ee,qe={660:m=>{m.exports=x},532:m=>{m.exports=N},620:m=>{m.exports=q},632:m=>{m.exports=T},260:m=>{m.exports=kt},608:m=>{m.exports=ut},540:m=>{m.exports=ct},820:m=>{m.exports=zt},512:m=>{m.exports=tt},984:m=>{m.exports=d},944:m=>{m.exports=C}},Ne={};function xt(m){var a=Ne[m];if(a!==void 0)return a.exports;var u=Ne[m]={exports:{}};return qe[m](u,u.exports,xt),u.exports}xt.n=m=>{var a=m&&m.__esModule?()=>m.default:()=>m;return xt.d(a,{a}),a},xt.d=(m,a)=>{for(var u in a)xt.o(a,u)&&!xt.o(m,u)&&Object.defineProperty(m,u,{enumerable:!0,get:a[u]})},xt.o=(m,a)=>Object.prototype.hasOwnProperty.call(m,a);var Me={};xt.d(Me,{default:()=>Yr});var pt=xt(944),R=xt.n(pt);let{doc:Pt,win:Ut}=R(),{css:_e}=R(),hi=Ut.EventTarget&&new Ut.EventTarget||"none";function er(m){if(typeof Ut.MouseEvent=="function")return new Ut.MouseEvent(m.type,m);if(Pt.createEvent){let a=Pt.createEvent("MouseEvent");if(a.initMouseEvent)return a.initMouseEvent(m.type,m.bubbles,m.cancelable,m.view||Ut,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget),a}return ci(m.type)}function ci(m,a,u){let f=a||{x:0,y:0};if(typeof Ut.MouseEvent=="function")return new Ut.MouseEvent(m,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:u||hi,view:Ut,detail:m==="click"?1:0,screenX:f.x,screenY:f.y,clientX:f.x,clientY:f.y});if(Pt.createEvent){let v=Pt.createEvent("MouseEvent");if(v.initMouseEvent)return v.initMouseEvent(m,!0,!0,Ut,m==="click"?1:0,f.x,f.y,f.x,f.y,!1,!1,!1,!1,0,null),v}return{type:m}}let Xt={addClass:function(m,a){m.classList?m.classList.add(a):0>m.className.indexOf(a)&&(m.className+=" "+a)},cloneMouseEvent:er,cloneTouchEvent:function(m){let a=f=>{let v=[];for(let E=0;E<f.length;++E){let A=f.item(E);A&&v.push(A)}return v};if(typeof Ut.TouchEvent=="function"){let f=new Ut.TouchEvent(m.type,{touches:a(m.touches),targetTouches:a(m.targetTouches),changedTouches:a(m.changedTouches),ctrlKey:m.ctrlKey,shiftKey:m.shiftKey,altKey:m.altKey,metaKey:m.metaKey,bubbles:m.bubbles,cancelable:m.cancelable,composed:m.composed,detail:m.detail,view:m.view});return m.defaultPrevented&&f.preventDefault(),f}let u=er(m);return u.touches=m.touches,u.changedTouches=m.changedTouches,u.targetTouches=m.targetTouches,u},escapeStringForHTML:function(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(m){return Pt.getElementById(m)},getFakeMouseEvent:ci,getHeadingTagNameForElement:function(m){let a=E=>"h"+Math.min(6,parseInt(E.slice(1),10)+1),u=E=>/^H[1-6]$/i.test(E),f=E=>{let A=E;for(;A=A.previousSibling;){let O=A.tagName||"";if(u(O))return O}return""},v=E=>{let A=f(E);if(A)return a(A);let O=E.parentElement;if(!O)return"h6";let D=O.tagName;return u(D)?a(D):v(O)};return v(m)},removeChildNodes:function(m){for(;m.lastChild;)m.removeChild(m.lastChild)},removeClass:function(m,a){m.classList?m.classList.remove(a):m.className=m.className.replace(RegExp(a,"g"),"")},removeElement:function(m){m&&m.parentNode&&m.parentNode.removeChild(m)},reverseChildNodes:function(m){let a=m.childNodes.length;for(;a--;)m.appendChild(m.childNodes[a])},simulatedEventTarget:hi,stripHTMLTagsFromString:function(m,a=!1){return typeof m=="string"?a?m.replace(/<\/?[^>]+(>|$)/g,""):m.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):m},visuallyHideElement:function(m){_e(m,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}};var di=xt(984),ui=xt.n(di);let{format:hn}=ui(),{getNestedProperty:Ri,pick:Ie}=R();(function(m){function a(f,v,E){let A=(G,X)=>{let V=G.slice(X||0),$=V.indexOf("{"),_=V.indexOf("}");if($>-1&&_>$)return{statement:V.substring($+1,_),begin:X+$+1,end:X+_}},O=[],D,B,F=0;do D=A(f,F),(B=f.substring(F,D&&D.begin-1)).length&&O.push({value:B,type:"constant"}),D&&O.push({value:D.statement,type:"statement"}),F=D?D.end+1:F+1;while(D);return O.forEach(G=>{G.type==="statement"&&(G.value=function(X,V){let $,_,ft=X.indexOf("#each("),dt=X.indexOf("#plural("),Mt=X.indexOf("["),vt=X.indexOf("]");if(ft>-1){let ot=X.slice(ft).indexOf(")")+ft,wt=X.substring(0,ft),St=X.substring(ot+1),Vt=X.substring(ft+6,ot).split(","),Yt=Number(Vt[1]),$e;if(_="",$=Ri(Vt[0],V)){$e=(Yt=isNaN(Yt)?$.length:Yt)<0?$.length+Yt:Math.min(Yt,$.length);for(let re=0;re<$e;++re)_+=wt+$[re]+St}return _.length?_:""}if(dt>-1){var nt;let ot=X.slice(dt).indexOf(")")+dt,wt=X.substring(dt+8,ot).split(",");switch(Number(Ri(wt[0],V))){case 0:_=Ie(wt[4],wt[1]);break;case 1:_=Ie(wt[2],wt[1]);break;case 2:_=Ie(wt[3],wt[1]);break;default:_=wt[1]}return _?(nt=_).trim&&nt.trim()||nt.replace(/^\s+|\s+$/g,""):""}if(Mt>-1){let ot,wt=X.substring(0,Mt),St=Number(X.substring(Mt+1,vt));return $=Ri(wt,V),!isNaN(St)&&$&&(St<0?(ot=$[$.length+St])===void 0&&(ot=$[0]):(ot=$[St])===void 0&&(ot=$[$.length-1])),ot!==void 0?ot:""}return"{"+X+"}"}(G.value,v))}),hn(O.reduce((G,X)=>G+X.value,""),v,E)}function u(f,v){let E=f.split("."),A=this.options.lang,O=0;for(;O<E.length;++O)A=A&&A[E[O]];return typeof A=="string"?a(A,v,this):""}m.compose=function(f){let v=f.prototype;v.langFormat||(v.langFormat=u)},m.i18nFormat=a})(gt||(gt={}));let zi=gt,{doc:ir}=R(),{stripHTMLTagsFromString:pi}=Xt,{defined:Fe,find:os,fireEvent:sr}=R();function rr(m){if(m.points&&m.points.length){let a=os(m.points,u=>!!u.graphic);return a&&a.graphic&&a.graphic.element}}function cn(m){let a=rr(m);return a&&a.parentNode||m.graph&&m.graph.element||m.group&&m.group.element}let Wt={fireEventOnWrappedOrUnwrappedElement:function m(a,u){let f=u.type,v=a.hcEvents;ir.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(u):a.fireEvent(f,u):v&&v[f]?sr(a,f,u):a.element&&m(a.element,u)},getChartTitle:function(m){return pi(m.options.title.text||m.langFormat("accessibility.defaultChartTitle",{chart:m}),m.renderer.forExport)},getAxisDescription:function(m){return m&&(m.options.accessibility?.description||m.axisTitle?.textStr||m.options.id||m.categories&&"categories"||m.dateTime&&"Time"||"values")},getAxisRangeDescription:function(m){let a=m.options||{};return a.accessibility&&a.accessibility.rangeDescription!==void 0?a.accessibility.rangeDescription:m.categories?function(u){let f=u.chart;return u.dataMax&&u.dataMin?f.langFormat("accessibility.axis.rangeCategories",{chart:f,axis:u,numCategories:u.dataMax-u.dataMin+1}):""}(m):m.dateTime&&(m.min===0||m.dataMin===0)?function(u){let f=u.chart,v={},E=u.dataMin||u.min||0,A=u.dataMax||u.max||0,O="Seconds";v.Seconds=(A-E)/1e3,v.Minutes=v.Seconds/60,v.Hours=v.Minutes/60,v.Days=v.Hours/24,["Minutes","Hours","Days"].forEach(function(B){v[B]>2&&(O=B)});let D=v[O].toFixed(O!=="Seconds"&&O!=="Minutes"?1:0);return f.langFormat("accessibility.axis.timeRange"+O,{chart:f,axis:u,range:D.replace(".0","")})}(m):function(u){let f=u.chart,v=f.options,E=v&&v.accessibility&&v.accessibility.screenReaderSection.axisRangeDateFormat||"",A={min:u.dataMin||u.min||0,max:u.dataMax||u.max||0},O=function(D){return u.dateTime?f.time.dateFormat(E,A[D]):A[D].toString()};return f.langFormat("accessibility.axis.rangeFromTo",{chart:f,axis:u,rangeFrom:O("min"),rangeTo:O("max")})}(m)},getPointFromXY:function(m,a,u){let f=m.length,v;for(;f--;)if(v=os(m[f].points||[],function(E){return E.x===a&&E.y===u}))return v},getSeriesFirstPointElement:rr,getSeriesFromName:function(m,a){return a?(m.series||[]).filter(function(u){return u.name===a}):m.series},getSeriesA11yElement:cn,unhideChartElementFromAT:function m(a,u){u.setAttribute("aria-hidden",!1),u!==a.renderTo&&u.parentNode&&u.parentNode!==ir.body&&(Array.prototype.forEach.call(u.parentNode.childNodes,function(f){f.hasAttribute("aria-hidden")||f.setAttribute("aria-hidden",!0)}),m(a,u.parentNode))},hideSeriesFromAT:function(m){let a=cn(m);a&&a.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(m){let a=m.series.xAxis,u=m.series.yAxis,f=a&&a.scrollbar?a:u,v=f&&f.scrollbar;if(v&&Fe(v.to)&&Fe(v.from)){let E=v.to-v.from,A=function(O,D){if(!Fe(O.dataMin)||!Fe(O.dataMax))return 0;let B=O.toPixels(O.dataMin),F=O.toPixels(O.dataMax),G=O.coll==="xAxis"?"x":"y";return(O.toPixels(D[G]||0)-B)/(F-B)}(f,m);v.updatePosition(A-E/2,A+E/2),sr(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:null})}}},{doc:nr}=R(),{removeElement:or}=Xt,ar=class{constructor(){this.elements=[]}createElement(){let m=nr.createElement.apply(nr,arguments);return this.elements.push(m),m}removeElement(m){or(m),this.elements.splice(this.elements.indexOf(m),1)}destroyCreatedElements(){this.elements.forEach(function(m){or(m)}),this.elements=[]}},{addEvent:st}=R(),Hi=class{constructor(){this.eventRemovers=[]}addEvent(){let m=st.apply(R(),arguments);return this.eventRemovers.push({element:arguments[0],remover:m}),m}removeEvent(m){let a=this.eventRemovers.map(u=>u.remover).indexOf(m);this.eventRemovers[a].remover(),this.eventRemovers.splice(a,1)}removeAddedEvents(){this.eventRemovers.map(m=>m.remover).forEach(m=>m()),this.eventRemovers=[]}},{fireEventOnWrappedOrUnwrappedElement:as}=Wt,{getFakeMouseEvent:ls}=Xt,we=class{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(m,a){this.chart=m,this.eventProvider=new Hi,this.domElementProvider=new ar,this.proxyProvider=a,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(m,a,u,f){return this.eventProvider.addEvent(m,a,u,f)}createElement(m,a){return this.domElementProvider.createElement(m,a)}fakeClickEvent(m){as(m,ls("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}},{find:hs}=R(),fe=class{constructor(m,a){this.chart=m,this.keyCodeMap=a.keyCodeMap||[],this.validate=a.validate,this.init=a.init,this.terminate=a.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(m){let a=m.which||m.keyCode,u=this.response.noHandler,f=hs(this.keyCodeMap,function(v){return v[0].indexOf(a)>-1});return f?u=f[1].call(this,a,m):a===9&&(u=this.response[m.shiftKey?"prev":"next"]),u}},{unhideChartElementFromAT:lr,getChartTitle:Re}=Wt,{doc:Vo}=R(),{stripHTMLTagsFromString:dn}=Xt,ze=class extends we{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let m=this.chart,a="highcharts-title-"+m.index,u=dn(m.langFormat("accessibility.svgContainerTitle",{chartTitle:Re(m)}));if(u.length){let f=this.svgTitleElement=this.svgTitleElement||Vo.createElementNS("http://www.w3.org/2000/svg","title");f.textContent=u,f.id=a,m.renderTo.insertBefore(f,m.renderTo.firstChild)}}setSVGContainerLabel(){let m=this.chart,a=m.langFormat("accessibility.svgContainerLabel",{chartTitle:Re(m)});m.renderer.box&&a.length&&m.renderer.box.setAttribute("aria-label",a)}setGraphicContainerAttrs(){let m=this.chart,a=m.langFormat("accessibility.graphicContainerLabel",{chartTitle:Re(m)});a.length&&m.container.setAttribute("aria-label",a)}setRenderToAttrs(){let m=this.chart,a=m.options.accessibility.landmarkVerbosity!=="disabled",u=m.langFormat("accessibility.chartContainerLabel",{title:Re(m),chart:m});u&&(m.renderTo.setAttribute("role",a?"region":"group"),m.renderTo.setAttribute("aria-label",u))}makeCreditsAccessible(){let m=this.chart,a=m.credits;a&&(a.textStr&&a.element.setAttribute("aria-label",m.langFormat("accessibility.credits",{creditsStr:dn(a.textStr,m.renderer.forExport)})),lr(m,a.element))}getKeyboardNavigation(){let m=this.chart;return new fe(m,{keyCodeMap:[],validate:function(){return!0},init:function(){let a=m.accessibility;a&&a.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}},{addEvent:Yo,pick:Bt}=R();(function(m){let a=["x","y","transform","width","height","r","d","stroke-width"];function u(){let A=this.focusElement,O=this.options.accessibility.keyboardNavigation.focusBorder;A&&(A.removeFocusBorder(),O.enabled&&A.addFocusBorder(O.margin,{stroke:O.style.color,strokeWidth:O.style.lineWidth,r:O.style.borderRadius}))}function f(A,O){let D=this.options.accessibility.keyboardNavigation.focusBorder,B=O||A.element;B&&B.focus&&(B.hcEvents&&B.hcEvents.focusin||Yo(B,"focusin",function(){}),B.focus(),D.hideBrowserFocusOutline&&(B.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=A,this.renderFocusBorder()}function v(A,O){this.focusBorder&&this.removeFocusBorder();let D=this.getBBox(),B=Bt(A,3),F=this.parentGroup,G=this.scaleX||F&&F.scaleX,X=this.scaleY||F&&F.scaleY,V=(G?!X:X)?Math.abs(G||X||1):(Math.abs(G||1)+Math.abs(X||1))/2,$=this.renderer.fontMetrics(this).h;D.x+=this.translateX?this.translateX:0,D.y+=this.translateY?this.translateY:0;let _=D.x-B,ft=D.y-B,dt=D.width+2*B,Mt=D.height+2*B,vt=!!this.text;if(this.element.nodeName==="text"||vt){let nt,ot,wt=!!this.rotation,St=vt?{x:wt?1:0,y:0}:(nt=0,ot=0,this.attr("text-anchor")==="middle"?nt=ot=.5:this.rotation?nt=.25:ot=.75,{x:nt,y:ot}),Vt=+this.attr("x"),Yt=+this.attr("y");if(isNaN(Vt)||(_=Vt-D.width*St.x-B),isNaN(Yt)||(ft=Yt-(this.attr("text-anchor")==="start"?$:D.height)*St.y-B),vt&&wt){let $e=dt;dt=Mt,Mt=$e,isNaN(Vt)||(_=Vt-D.height*St.x-B),isNaN(Yt)||(ft=Yt-D.width*St.y-B)}}this.focusBorder=this.renderer.rect(_,ft,dt,Mt,parseInt((O&&O.r||0).toString(),10)/V).addClass("highcharts-focus-border").attr({zIndex:99}).add(F),this.renderer.styledMode||this.focusBorder.attr({stroke:O&&O.stroke,"stroke-width":(O&&O.strokeWidth||0)/V}),function(nt,...ot){nt.focusBorderUpdateHooks||(nt.focusBorderUpdateHooks={},a.forEach(wt=>{let St=wt+"Setter",Vt=nt[St]||nt._defaultSetter;nt.focusBorderUpdateHooks[St]=Vt,nt[St]=function(){let Yt=Vt.apply(nt,arguments);return nt.addFocusBorder.apply(nt,ot),Yt}}))}(this,A,O),function(nt){if(nt.focusBorderDestroyHook)return;let ot=nt.destroy;nt.destroy=function(){return nt.focusBorder&&nt.focusBorder.destroy&&nt.focusBorder.destroy(),ot.apply(nt,arguments)},nt.focusBorderDestroyHook=ot}(this)}function E(){var A;A=this,A.focusBorderUpdateHooks&&(Object.keys(A.focusBorderUpdateHooks).forEach(O=>{let D=A.focusBorderUpdateHooks[O];D===A._defaultSetter?delete A[O]:A[O]=D}),delete A.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}m.compose=function(A,O){let D=A.prototype,B=O.prototype;D.renderFocusBorder||(D.renderFocusBorder=u,D.setFocusToElement=f),B.addFocusBorder||(B.addFocusBorder=v,B.removeFocusBorder=E)}})(Ht||(Ht={}));let $o=Ht;var Uo=xt(660),hr=xt.n(Uo);let{doc:un}=R(),{addClass:cr,visuallyHideElement:Ko}=Xt,{attr:pn}=R(),cs=class{constructor(m,a){this.chart=m,this.domElementProvider=new ar,this.announceRegion=this.addAnnounceRegion(a)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(m){hr().setElementHTML(this.announceRegion,m),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=hr().emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(m){let a=this.chart.announcerContainer||this.createAnnouncerContainer(),u=this.domElementProvider.createElement("div");return pn(u,{"aria-hidden":!1,"aria-live":m,"aria-atomic":!0}),this.chart.styledMode?cr(u,"highcharts-visually-hidden"):Ko(u),a.appendChild(u),u}createAnnouncerContainer(){let m=this.chart,a=un.createElement("div");return pn(a,{"aria-hidden":!1,class:"highcharts-announcer-container"}),a.style.position="relative",m.renderTo.insertBefore(a,m.renderTo.firstChild),m.announcerContainer=a,a}},{escapeStringForHTML:gi,stripHTMLTagsFromString:dr}=Xt;function he(m){return(m.annotations||[]).reduce((a,u)=>(u.options&&u.options.visible!==!1&&(a=a.concat(u.labels)),a),[])}function Wi(m){return m.options&&m.options.accessibility&&m.options.accessibility.description||m.graphic&&m.graphic.text&&m.graphic.text.textStr||""}function gn(m){let a=m.options&&m.options.accessibility&&m.options.accessibility.description;if(a)return a;let u=m.chart,f=Wi(m),v=m.points,E=F=>F.graphic&&F.graphic.element&&F.graphic.element.getAttribute("aria-label")||"",A=v.filter(F=>!!F.graphic).map(F=>{let G=F.accessibility&&F.accessibility.valueDescription||E(F),X=F&&F.series.name||"";return(X?X+", ":"")+"data point "+G}).filter(F=>!!F),O=A.length,D=O>1?"MultiplePoints":O?"SinglePoint":"NoPoints",B={annotationText:f,annotation:m,numPoints:O,annotationPoint:A[0],additionalAnnotationPoints:A.slice(1)};return u.langFormat("accessibility.screenReaderSection.annotations.description"+D,B)}function ie(m){return he(m).map(a=>{let u=gi(dr(gn(a),m.renderer.forExport));return u?`<li>${u}</li>`:""})}let ur={getAnnotationsInfoHTML:function(m){let a=m.annotations;return a&&a.length?`<ul style="list-style-type: none">${ie(m).join(" ")}</ul>`:""},getAnnotationLabelDescription:gn,getAnnotationListItems:ie,getPointAnnotationTexts:function(m){let a=he(m.series.chart).filter(u=>u.points.indexOf(m)>-1);return a.length?a.map(u=>`${Wi(u)}`):[]}},{getAnnotationsInfoHTML:Gt}=ur,{getAxisDescription:mn,getAxisRangeDescription:qo,getChartTitle:mi,unhideChartElementFromAT:_o}=Wt,{format:oe}=ui(),{doc:Zo}=R(),{addClass:fn,getElement:ds,getHeadingTagNameForElement:Qo,stripHTMLTagsFromString:us,visuallyHideElement:bn}=Xt,{attr:xn,pick:Jo,replaceNested:pr}=R();function gr(m){return pr(m,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}let Zt=class extends we{constructor(){super(...arguments),this.screenReaderSections={}}init(){let m=this.chart,a=this;this.initRegionsDefinitions(),this.addEvent(m,"aftergetTableAST",function(u){a.onDataTableCreated(u)}),this.addEvent(m,"afterViewData",function(u){u.wasHidden&&(a.dataTableDiv=u.element,setTimeout(function(){a.focusDataTable()},300))}),this.addEvent(m,"afterHideData",function(){a.viewDataTableButton&&a.viewDataTableButton.setAttribute("aria-expanded","false")}),m.exporting&&this.addEvent(m,"afterPrint",function(){a.updateAllScreenReaderSections()}),this.announcer=new cs(m,"assertive")}initRegionsDefinitions(){let m=this,a=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(u){let f=a.screenReaderSection.beforeChartFormatter;return f?f(u):m.defaultBeforeChartFormatter(u)},insertIntoDOM:function(u,f){f.renderTo.insertBefore(u,f.renderTo.firstChild)},afterInserted:function(){m.sonifyButtonId!==void 0&&m.initSonifyButton(m.sonifyButtonId),m.dataTableButtonId!==void 0&&m.initDataTableButton(m.dataTableButtonId)}},after:{element:null,buildContent:function(u){let f=a.screenReaderSection.afterChartFormatter;return f?f(u):m.defaultAfterChartFormatter()},insertIntoDOM:function(u,f){f.renderTo.insertBefore(u,f.container.nextSibling)},afterInserted:function(){m.chart.accessibility&&a.keyboardNavigation.enabled&&m.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){let m=this;Object.keys(this.screenReaderSections).forEach(function(a){m.updateScreenReaderSection(a)})}getLinkedDescriptionElement(){let m=this.chart.options.accessibility.linkedDescription;if(!m)return;if(typeof m!="string")return m;let a=oe(m,this.chart),u=Zo.querySelectorAll(a);if(u.length===1)return u[0]}setLinkedDescriptionAttrs(){let m=this.linkedDescriptionElement;m&&(m.setAttribute("aria-hidden","true"),fn(m,"highcharts-linked-description"))}updateScreenReaderSection(m){let a=this.chart,u=this.screenReaderSections[m],f=u.buildContent(a),v=u.element=u.element||this.createElement("div"),E=v.firstChild||this.createElement("div");f?(this.setScreenReaderSectionAttribs(v,m),hr().setElementHTML(E,f),v.appendChild(E),u.insertIntoDOM(v,a),a.styledMode?fn(E,"highcharts-visually-hidden"):bn(E),_o(a,E),u.afterInserted&&u.afterInserted()):(v.parentNode&&v.parentNode.removeChild(v),u.element=null)}setScreenReaderSectionAttribs(m,a){let u=this.chart,f=u.langFormat("accessibility.screenReaderSection."+a+"RegionLabel",{chart:u,chartTitle:mi(u)});xn(m,{id:`highcharts-screen-reader-region-${a}-${u.index}`,"aria-label":f||void 0}),m.style.position="relative",f&&m.setAttribute("role",u.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){let m=this.chart,a=m.options.accessibility.screenReaderSection.beforeChartFormat;if(!a)return"";let u=this.getAxesDescription(),f=m.sonify&&m.options.sonification&&m.options.sonification.enabled,v="highcharts-a11y-sonify-data-btn-"+m.index,E="hc-linkto-highcharts-data-table-"+m.index,A=Gt(m),O=m.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:m}),D={headingTagName:Qo(m.renderTo),chartTitle:mi(m),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:u.xAxis,yAxisDescription:u.yAxis,playAsSoundButton:f?this.getSonifyButtonText(v):"",viewTableButton:m.getCSV?this.getDataTableButtonText(E):"",annotationsTitle:A?O:"",annotationsList:A},B=zi.i18nFormat(a,D,m);return this.dataTableButtonId=E,this.sonifyButtonId=v,gr(B)}defaultAfterChartFormatter(){let m=this.chart,a=m.options.accessibility.screenReaderSection.afterChartFormat;if(!a)return"";let u={endOfChartMarker:this.getEndOfChartMarkerText()};return gr(zi.i18nFormat(a,u,m))}getLinkedDescription(){let m=this.linkedDescriptionElement;return us(m&&m.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let m=this.chart.options,a=m.caption,u=a&&a.text,f=this.getLinkedDescription();return m.accessibility.description||f||u||""}getTypeDescriptionText(){let m=this.chart;return m.types?m.options.accessibility.typeDescription||function(a,u){let f=u[0],v=a.series&&a.series[0]||{},E=a.mapView&&a.mapView.geoMap&&a.mapView.geoMap.title,A={numSeries:a.series.length,numPoints:v.points&&v.points.length,chart:a,mapTitle:E};return f?f==="map"||f==="tiledwebmap"?A.mapTitle?a.langFormat("accessibility.chartTypes.mapTypeDescription",A):a.langFormat("accessibility.chartTypes.unknownMap",A):a.types.length>1?a.langFormat("accessibility.chartTypes.combinationChart",A):function(O,D,B){let F=D[0],G=O.langFormat("accessibility.seriesTypeDescriptions."+F,B),X=O.series&&O.series.length<2?"Single":"Multiple";return(O.langFormat("accessibility.chartTypes."+F+X,B)||O.langFormat("accessibility.chartTypes.default"+X,B))+(G?" "+G:"")}(a,u,A):a.langFormat("accessibility.chartTypes.emptyChart",A)}(m,m.types):""}getDataTableButtonText(m){let a=this.chart;return'<button id="'+m+'">'+a.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:a,chartTitle:mi(a)})+"</button>"}getSonifyButtonText(m){let a=this.chart;return a.options.sonification&&a.options.sonification.enabled===!1?"":'<button id="'+m+'">'+a.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:a,chartTitle:mi(a)})+"</button>"}getSubtitleText(){let m=this.chart.options.subtitle;return us(m&&m.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let m=ds(`highcharts-end-of-chart-marker-${this.chart.index}`);if(m)return m.outerHTML;let a=this.chart,u=a.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:a});return'<div id="highcharts-end-of-chart-marker-'+a.index+'">'+u+"</div>"}onDataTableCreated(m){let a=this.chart;if(a.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let u=m.tree.attributes||{};u.tabindex=-1,u.summary=a.langFormat("accessibility.table.tableSummary",{chart:a}),m.tree.attributes=u}}focusDataTable(){let m=this.dataTableDiv,a=m&&m.getElementsByTagName("table")[0];a&&a.focus&&a.focus()}initSonifyButton(m){let a=this.sonifyButton=ds(m),u=this.chart,f=v=>{a&&(a.setAttribute("aria-hidden","true"),a.setAttribute("aria-label","")),v.preventDefault(),v.stopPropagation();let E=u.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:u});this.announcer.announce(E),setTimeout(()=>{a&&(a.removeAttribute("aria-hidden"),a.removeAttribute("aria-label")),u.sonify&&u.sonify()},1e3)};a&&u&&(a.setAttribute("tabindex",-1),a.onclick=function(v){(u.options.accessibility&&u.options.accessibility.screenReaderSection.onPlayAsSoundClick||f).call(this,v,u)})}initDataTableButton(m){let a=this.viewDataTableButton=ds(m),u=this.chart,f=m.replace("hc-linkto-","");a&&(xn(a,{tabindex:-1,"aria-expanded":!!ds(f)}),a.onclick=u.options.accessibility.screenReaderSection.onViewDataTableClick||function(){u.viewData()})}getAxesDescription(){let m=this.chart,a=function(O,D){let B=m[O];return B.length>1||B[0]&&Jo(B[0].options.accessibility&&B[0].options.accessibility.enabled,D)},u=!!m.types&&0>m.types.indexOf("map")&&0>m.types.indexOf("treemap")&&0>m.types.indexOf("tilemap"),f=!!m.hasCartesianSeries,v=a("xAxis",!m.angular&&f&&u),E=a("yAxis",f&&u),A={};return v&&(A.xAxis=this.getAxisDescriptionText("xAxis")),E&&(A.yAxis=this.getAxisDescriptionText("yAxis")),A}getAxisDescriptionText(m){let a=this.chart,u=a[m];return a.langFormat("accessibility.axis."+m+"Description"+(u.length>1?"Plural":"Singular"),{chart:a,names:u.map(function(f){return mn(f)}),ranges:u.map(function(f){return qo(f)}),numAxes:u.length})}destroy(){this.announcer&&this.announcer.destroy()}},{attr:yn}=R(),{getChartTitle:ta,unhideChartElementFromAT:ea}=Wt,{getFakeMouseEvent:ps}=Xt;function gs(m){return m.exportSVGElements&&m.exportSVGElements[0]}class ms extends we{init(){let a=this.chart,u=this;this.addEvent(a,"exportMenuShown",function(){u.onMenuShown()}),this.addEvent(a,"exportMenuHidden",function(){u.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){let a=this.chart.exportContextMenu;a&&a.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){let a=this.chart,u=a.exportContextMenu;u&&(this.addAccessibleContextMenuAttribs(),ea(a,u)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(a){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",a)}onChartRender(){let a=this.chart,u=a.focusElement,f=a.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&u&&u===a.exportingGroup&&(u.focusBorder?a.setFocusToElement(u,this.exportButtonProxy.innerElement):f&&f.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let a=this.chart,u=this.proxyProvider,f=gs(a);(function(v){let E=v.options.exporting,A=gs(v);return!!(E&&E.enabled!==!1&&E.accessibility&&E.accessibility.enabled&&A&&A.element)})(a)&&f&&(this.exportButtonProxy=u.addProxyElement("chartMenu",{click:f},"button",{"aria-label":a.langFormat("accessibility.exporting.menuButtonLabel",{chart:a,chartTitle:ta(a)}),"aria-expanded":!1,title:a.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){let a=this.chart,u=a.exportDivElements;if(u&&u.length){u.forEach(v=>{v&&(v.tagName!=="LI"||v.children&&v.children.length?v.setAttribute("aria-hidden","true"):v.setAttribute("tabindex",-1))});let f=u[0]&&u[0].parentNode;f&&yn(f,{"aria-hidden":void 0,"aria-label":a.langFormat("accessibility.exporting.chartMenuLabel",{chart:a}),role:"list"})}}getKeyboardNavigation(){let a=this.keyCodes,u=this.chart,f=this;return new fe(u,{keyCodeMap:[[[a.left,a.up],function(){return f.onKbdPrevious(this)}],[[a.right,a.down],function(){return f.onKbdNext(this)}],[[a.enter,a.space],function(){return f.onKbdClick(this)}]],validate:function(){return!!u.exporting&&u.options.exporting.enabled!==!1&&u.options.exporting.accessibility.enabled!==!1},init:function(){let v=f.exportButtonProxy,E=f.chart.exportingGroup;v&&E&&u.setFocusToElement(E,v.innerElement)},terminate:function(){u.hideExportMenu()}})}onKbdPrevious(a){let u=this.chart,f=u.options.accessibility,v=a.response,E=u.highlightedExportItemIx||0;for(;E--;)if(u.highlightExportItem(E))return v.success;return f.keyboardNavigation.wrapAround?(u.highlightLastExportItem(),v.success):v.prev}onKbdNext(a){let u=this.chart,f=u.options.accessibility,v=a.response;for(let E=(u.highlightedExportItemIx||0)+1;E<u.exportDivElements.length;++E)if(u.highlightExportItem(E))return v.success;return f.keyboardNavigation.wrapAround?(u.highlightExportItem(0),v.success):v.next}onKbdClick(a){let u=this.chart,f=u.exportDivElements[u.highlightedExportItemIx],v=gs(u).element;return u.openMenu?this.fakeClickEvent(f):(this.fakeClickEvent(v),u.highlightExportItem(0)),a.response.success}}(function(m){function a(){let E=gs(this);if(E){let A=E.element;A.onclick&&A.onclick(ps("click"))}}function u(){let E=this.exportDivElements;E&&this.exportContextMenu&&this.openMenu&&(E.forEach(A=>{A&&A.className==="highcharts-menu-item"&&A.onmouseout&&A.onmouseout(ps("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function f(E){let A=this.exportDivElements&&this.exportDivElements[E],O=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(A&&A.tagName==="LI"&&!(A.children&&A.children.length)){let D=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return A.focus&&D&&A.focus(),O&&O.onmouseout&&O.onmouseout(ps("mouseout")),A.onmouseover&&A.onmouseover(ps("mouseover")),this.highlightedExportItemIx=E,!0}return!1}function v(){if(this.exportDivElements){let E=this.exportDivElements.length;for(;E--;)if(this.highlightExportItem(E))return!0}return!1}m.compose=function(E){let A=E.prototype;A.hideExportMenu||(A.hideExportMenu=u,A.highlightExportItem=f,A.highlightLastExportItem=v,A.showExportMenu=a)}})(ms||(ms={}));let mr=ms,{doc:fs,win:fr}=R(),{addEvent:ia,defined:br,fireEvent:bs}=R(),{getElement:sa,simulatedEventTarget:Lt}=Xt;class xs{constructor(a,u){this.currentModuleIx=NaN,this.modules=[],this.init(a,u)}init(a,u){let f=this.eventProvider=new Hi;this.chart=a,this.components=u,this.modules=[],this.currentModuleIx=0,this.update(),f.addEvent(this.tabindexContainer,"keydown",v=>this.onKeydown(v)),f.addEvent(this.tabindexContainer,"focus",v=>this.onFocus(v)),["mouseup","touchend"].forEach(v=>f.addEvent(fs,v,E=>this.onMouseUp(E))),["mousedown","touchstart"].forEach(v=>f.addEvent(a.renderTo,v,()=>{this.isClickingChart=!0}))}update(a){let u=this.chart.options.accessibility,f=u&&u.keyboardNavigation,v=this.components;this.updateContainerTabindex(),f&&f.enabled&&a&&a.length?(this.modules=a.reduce(function(E,A){let O=v[A].getKeyboardNavigation();return E.concat(O)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let a=sa(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),a?(this.makeElementAnExitAnchor(a),this.exitAnchor=a):this.createExitAnchor()}move(a){let u=this.modules&&this.modules[this.currentModuleIx];u&&u.terminate&&u.terminate(a),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=a;let f=this.modules&&this.modules[this.currentModuleIx];if(f){if(f.validate&&!f.validate())return this.move(a);if(f.init)return f.init(a),!0}return this.currentModuleIx=0,this.exiting=!0,a>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(a){let u=this.chart,f=a.relatedTarget&&u.container.contains(a.relatedTarget),v=u.options.accessibility,E=v&&v.keyboardNavigation;if(E&&E.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!f){let A=this.getFirstValidModuleIx();A!==null&&(this.currentModuleIx=A,this.modules[A].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(a){if(delete this.isClickingChart,!this.keyboardReset&&a.relatedTarget!==Lt){let u=this.chart;if(!a.target||!u.container.contains(a.target)){let f=this.modules&&this.modules[this.currentModuleIx||0];f&&f.terminate&&f.terminate(),this.currentModuleIx=0}u.focusElement&&(u.focusElement.removeFocusBorder(),delete u.focusElement),this.keyboardReset=!0}}onKeydown(a){let u,f=a||fr.event,v=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],E=f.target;if((!E||E.nodeName!=="INPUT"||E.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,v)){let A=v.run(f);A===v.response.success?u=!0:A===v.response.prev?u=this.move(-1):A===v.response.next&&(u=this.move(1)),u&&(f.preventDefault(),f.stopPropagation())}}updateContainerTabindex(){let a,u=this.chart.options.accessibility,f=u&&u.keyboardNavigation,v=!(f&&f.enabled===!1),E=this.chart,A=E.container;E.renderTo.hasAttribute("tabindex")?(A.removeAttribute("tabindex"),a=E.renderTo):a=A,this.tabindexContainer=a;let O=a.getAttribute("tabindex");v&&!O?a.setAttribute("tabindex","0"):v||E.container.removeAttribute("tabindex")}createExitAnchor(){let a=this.chart,u=this.exitAnchor=fs.createElement("div");a.renderTo.appendChild(u),this.makeElementAnExitAnchor(u)}makeElementAnExitAnchor(a){let u=this.tabindexContainer.getAttribute("tabindex")||0;a.setAttribute("class","highcharts-exit-anchor"),a.setAttribute("tabindex",u),a.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(a)}removeExitAnchor(){if(this.exitAnchor){let a=this.eventProvider.eventRemovers.find(u=>u.element===this.exitAnchor);a&&br(a.remover)&&this.eventProvider.removeEvent(a.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(a){let u=this.chart,f=this;this.eventProvider.addEvent(a,"focus",function(v){let E=v||fr.event,A=!(E.relatedTarget&&u.container.contains(E.relatedTarget)||f.exiting);if(u.focusElement&&delete u.focusElement,A){if(f.tabbingInBackwards=!0,f.tabindexContainer.focus(),delete f.tabbingInBackwards,E.preventDefault(),f.modules&&f.modules.length){f.currentModuleIx=f.modules.length-1;let O=f.modules[f.currentModuleIx];O&&O.validate&&!O.validate()?f.move(-1):O&&O.init(-1)}}else f.exiting=!1})}getFirstValidModuleIx(){let a=this.modules.length;for(let u=0;u<a;++u){let f=this.modules[u];if(!f.validate||f.validate())return u}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}(function(m){function a(){let f=this;bs(this,"dismissPopupContent",{},function(){f.tooltip&&f.tooltip.hide(0),f.hideExportMenu()})}function u(f){(f.which||f.keyCode)===27&&R().charts&&R().charts.forEach(v=>{v&&v.dismissPopupContent&&v.dismissPopupContent()})}m.compose=function(f){mr.compose(f);let v=f.prototype;return v.dismissPopupContent||(v.dismissPopupContent=a,ia(fs,"keydown",u)),f}})(xs||(xs={}));let xr=xs;var ra=xt(632),yr=xt.n(ra);let{animObject:na}=R(),{doc:oa}=R(),{addEvent:vn,fireEvent:aa,isNumber:la,pick:ha,syncTimeout:ca}=R(),{getChartTitle:ys}=Wt,{stripHTMLTagsFromString:vr,addClass:wn,removeClass:vs}=Xt;function ws(m){let a=m.legend&&m.legend.allItems,u=m.options.legend.accessibility||{},f=m.colorAxis&&m.colorAxis.some(v=>!v.dataClasses||!v.dataClasses.length);return!!(a&&a.length&&!f&&u.enabled!==!1)}function ce(m,a){let u=a.legendItem||{};for(let f of(a.setState(m?"hover":"",!0),["group","label","symbol"])){let v=u[f],E=v&&v.element||v;E&&aa(E,m?"mouseover":"mouseout")}}class Ze extends we{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let a=this;this.recreateProxies(),this.addEvent(yr(),"afterScroll",function(){this.chart===a.chart&&(a.proxyProvider.updateGroupProxyElementPositions("legend"),a.updateLegendItemProxyVisibility(),a.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(a.highlightedLegendItemIx))}),this.addEvent(yr(),"afterPositionItem",function(u){this.chart===a.chart&&this.chart.renderer&&a.updateProxyPositionForItem(u.item)}),this.addEvent(yr(),"afterRender",function(){this.chart===a.chart&&this.chart.renderer&&a.recreateProxies()&&ca(()=>a.proxyProvider.updateGroupProxyElementPositions("legend"),na(ha(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let a,u=this.chart,f=u.legend,v=f.allItems||[],E=f.currentPage||1,A=f.clipHeight||0;v.forEach(O=>{if(O.a11yProxyElement){let D=f.pages&&f.pages.length,B=O.a11yProxyElement.element,F=!1;if(a=O.legendItem||{},D){let G=a.pageIx||0;F=(a.y||0)+(a.label?Math.round(a.label.getBBox().height):0)-f.pages[G]>A||G!==E-1}F?u.styledMode?wn(B,"highcharts-a11y-invisible"):B.style.visibility="hidden":(vs(B,"highcharts-a11y-invisible"),B.style.visibility="")}})}onChartRender(){ws(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(a){let u=this.chart,f=u.legend,v=(f.currentPage||1)+a,E=f.pages||[];if(v>0&&v<=E.length){let A=0;for(let O of f.allItems)((O.legendItem||{}).pageIx||0)+1===v&&u.highlightLegendItem(A)&&(this.highlightedLegendItemIx=A),++A}}updateProxyPositionForItem(a){a.a11yProxyElement&&a.a11yProxyElement.refreshPosition()}recreateProxies(){let a=oa.activeElement,u=this.proxyGroup,f=a&&u&&u.contains(a);return this.removeProxies(),!!ws(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),f&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let a=this.chart,u=vr((a.legend&&a.legend.options.title&&a.legend.options.title.text||"").replace(/<br ?\/?>/g," "),a.renderer.forExport),f=a.langFormat("accessibility.legend.legendLabel"+(u?"":"NoTitle"),{chart:a,legendTitle:u,chartTitle:ys(a)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":f})}addLegendProxyGroup(){let a=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:a})}proxyLegendItems(){let a,u=this;((this.chart.legend||{}).allItems||[]).forEach(f=>{(a=f.legendItem||{}).label&&a.label.element&&u.proxyLegendItem(f)})}proxyLegendItem(a){let u=a.legendItem||{};if(!u.label||!u.group)return;let f=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:vr(a.name,this.chart.renderer.forExport),item:a}),v={tabindex:-1,"aria-pressed":a.visible,"aria-label":f},E=u.group.div?u.label:u.group;a.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:u.label,visual:E.element},"button",v)}getKeyboardNavigation(){let a=this.keyCodes,u=this,f=this.chart;return new fe(f,{keyCodeMap:[[[a.left,a.right,a.up,a.down],function(v){return u.onKbdArrowKey(this,v)}],[[a.enter,a.space],function(){return u.onKbdClick(this)}],[[a.pageDown,a.pageUp],function(v){let E=v===a.pageDown?1:-1;return u.highlightAdjacentLegendPage(E),this.response.success}]],validate:function(){return u.shouldHaveLegendNavigation()},init:function(){f.highlightLegendItem(0),u.highlightedLegendItemIx=0},terminate:function(){u.highlightedLegendItemIx=-1,f.legend.allItems.forEach(v=>ce(!1,v))}})}onKbdArrowKey(a,u){let{keyCodes:{left:f,up:v},highlightedLegendItemIx:E,chart:A}=this,O=A.legend.allItems.length,D=A.options.accessibility.keyboardNavigation.wrapAround,B=u===f||u===v?-1:1;return A.highlightLegendItem(E+B)?this.highlightedLegendItemIx+=B:D&&O>1&&(this.highlightedLegendItemIx=B>0?0:O-1,A.highlightLegendItem(this.highlightedLegendItemIx)),a.response.success}onKbdClick(a){let u=this.chart.legend.allItems[this.highlightedLegendItemIx];return u&&u.a11yProxyElement&&u.a11yProxyElement.click(),a.response.success}shouldHaveLegendNavigation(){if(!ws(this.chart))return!1;let a=this.chart,u=(a.options.legend||{}).accessibility||{};return!!(a.legend.display&&u.keyboardNavigation&&u.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}(function(m){function a(f){let v=this.legend.allItems,E=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,A=v[f],O=A?.legendItem||{};if(A){la(E)&&v[E]&&ce(!1,v[E]),function(F,G){let X=(F.allItems[G].legendItem||{}).pageIx,V=F.currentPage;X!==void 0&&X+1!==V&&F.scroll(1+X-V)}(this.legend,f);let D=O.label,B=A.a11yProxyElement&&A.a11yProxyElement.innerElement;return D&&D.element&&B&&this.setFocusToElement(D,B),ce(!0,A),!0}return!1}function u(f){let v=this.chart.options.accessibility,E=f.item;v.enabled&&E&&E.a11yProxyElement&&E.a11yProxyElement.innerElement.setAttribute("aria-pressed",f.visible?"true":"false")}m.compose=function(f,v){let E=f.prototype;E.highlightLegendItem||(E.highlightLegendItem=a,vn(v,"afterColorizeItem",u))}})(Ze||(Ze={}));let kn=Ze;var da=xt(532),An=xt.n(da);let{isTouchDevice:ks}=R(),{addEvent:Te,merge:En,pick:wr}=R(),Mn=[];function Tn(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function fi(){let m,a,u,f=this.legend,v=this.navigator;if(v){m=f&&f.options,a=v.xAxis,u=v.yAxis;let{scrollbarHeight:E,scrollButtonSize:A}=v;this.inverted?(v.left=v.opposite?this.chartWidth-E-v.height:this.spacing[3]+E,v.top=this.plotTop+A):(v.left=wr(a.left,this.plotLeft+A),v.top=v.navigatorOptions.top||this.chartHeight-v.height-E-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(m&&m.verticalAlign==="bottom"&&m.layout!=="proximate"&&m.enabled&&!m.floating?f.legendHeight+wr(m.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),a&&u&&(this.inverted?a.options.left=u.options.left=v.left:a.options.top=u.options.top=v.top,a.setAxisSize(),u.setAxisSize())}}function ua(m){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new At(this),wr(m.redraw,!0)&&this.redraw(m.animation))}function As(){let m=this.options;(m.navigator.enabled||m.scrollbar.enabled)&&(this.scroller=this.navigator=new At(this))}function pa(){let m=this.options,a=m.navigator,u=m.rangeSelector;if((a&&a.enabled||u&&u.enabled)&&(!ks&&this.zooming.type==="x"||ks&&this.zooming.pinchType==="x"))return!1}function ga(m){let a=m.navigator;if(a&&m.xAxis[0]){let u=m.xAxis[0].getExtremes();a.render(u.min,u.max)}}function ma(m){let a=m.options.navigator||{},u=m.options.scrollbar||{};!this.navigator&&!this.scroller&&(a.enabled||u.enabled)&&(En(!0,this.options.navigator,a),En(!0,this.options.scrollbar,u),delete m.options.navigator,delete m.options.scrollbar)}let kr={compose:function(m,a){if(R().pushUnique(Mn,m)){let u=m.prototype;At=a,u.callbacks.push(ga),Te(m,"afterAddSeries",Tn),Te(m,"afterSetChartSize",fi),Te(m,"afterUpdate",ua),Te(m,"beforeRender",As),Te(m,"beforeShowResetZoom",pa),Te(m,"update",ma)}}},{isTouchDevice:fa}=R(),{addEvent:ji,correctFloat:Ar,defined:pe,isNumber:Sn,pick:bi}=R();function Er(){this.navigatorAxis||(this.navigatorAxis=new Es(this))}function Mr(m){let a,u=this.chart,f=u.options,v=f.navigator,E=this.navigatorAxis,A=u.zooming.pinchType,O=f.rangeSelector,D=u.zooming.type;if(this.isXAxis&&(v?.enabled||O?.enabled)){if(D==="y"&&m.trigger==="zoom")a=!1;else if((m.trigger==="zoom"&&D==="xy"||fa&&A==="xy")&&this.options.range){let B=E.previousZoom;pe(m.min)?E.previousZoom=[this.min,this.max]:B&&(m.min=B[0],m.max=B[1],E.previousZoom=void 0)}}a!==void 0&&m.preventDefault()}class Es{static compose(a){a.keepProps.includes("navigatorAxis")||(a.keepProps.push("navigatorAxis"),ji(a,"init",Er),ji(a,"setExtremes",Mr))}constructor(a){this.axis=a}destroy(){this.axis=void 0}toFixedRange(a,u,f,v){let E=this.axis,A=(E.pointRange||0)/2,O=bi(f,E.translate(a,!0,!E.horiz)),D=bi(v,E.translate(u,!0,!E.horiz));return pe(f)||(O=Ar(O+A)),pe(v)||(D=Ar(D-A)),Sn(O)&&Sn(D)||(O=D=void 0),{min:O,max:D}}}var Cn=xt(620),ba=xt.n(Cn),xa=xt(512),Tr=xt.n(xa);let{parse:Sr}=ba(),{seriesTypes:xi}=Tr(),be={height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:Sr("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:xi.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},{defined:Cr,isNumber:kh,pick:Ah}=R(),ya={rect:function(m,a,u,f,v){return v&&v.r?function(E,A,O,D,B){let F=B?.r||0;return[["M",E+F,A],["L",E+O-F,A],["A",F,F,0,0,1,E+O,A+F],["L",E+O,A+D-F],["A",F,F,0,0,1,E+O-F,A+D],["L",E+F,A+D],["A",F,F,0,0,1,E,A+D-F],["L",E,A+F],["A",F,F,0,0,1,E+F,A],["Z"]]}(m,a,u,f,v):[["M",m,a],["L",m+u,a],["L",m+u,a+f],["L",m,a+f],["Z"]]}},{relativeLength:On}=R(),Kt={"navigator-handle":function(m,a,u,f,v={}){let E=v.width?v.width/2:u,A=On(v.borderRadius||0,Math.min(2*E,f));return[["M",-1.5,(f=v.height||f)/2-3.5],["L",-1.5,f/2+4.5],["M",.5,f/2-3.5],["L",.5,f/2+4.5],...ya.rect(-E-1,.5,2*E+1,f,{r:A})]}};var ke=xt(608),Pn=xt.n(ke);let{defined:Ln}=R(),{setOptions:Dn}=R(),{composed:Xi}=R(),{getRendererType:va}=Pn(),{setFixedRange:Ms}={setFixedRange:function(m){let a=this.xAxis[0];Ln(a.dataMax)&&Ln(a.dataMin)&&m?this.fixedRange=Math.min(m,a.dataMax-a.dataMin):this.fixedRange=m}},{addEvent:Bn,extend:Qe,pushUnique:Nn}=R();function wa(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let Gi={compose:function(m,a,u){Es.compose(a),Nn(Xi,"Navigator")&&(m.prototype.setFixedRange=Ms,Qe(va().prototype.symbols,Kt),Bn(u,"afterUpdate",wa),Dn({navigator:be}))}},{composed:In}=R(),{addEvent:Vi,defined:He,pick:Yi,pushUnique:Or}=R();(function(m){let a;function u(A){let O=Yi(A.options&&A.options.min,A.min),D=Yi(A.options&&A.options.max,A.max);return{axisMin:O,axisMax:D,scrollMin:He(A.dataMin)?Math.min(O,A.min,A.dataMin,Yi(A.threshold,1/0)):O,scrollMax:He(A.dataMax)?Math.max(D,A.max,A.dataMax,Yi(A.threshold,-1/0)):D}}function f(){let A=this.scrollbar,O=A&&!A.options.opposite,D=this.horiz?2:O?3:1;A&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[D]+=A.size+(A.options.margin||0))}function v(){let A=this;A.options&&A.options.scrollbar&&A.options.scrollbar.enabled&&(A.options.scrollbar.vertical=!A.horiz,A.options.startOnTick=A.options.endOnTick=!1,A.scrollbar=new a(A.chart.renderer,A.options.scrollbar,A.chart),Vi(A.scrollbar,"changed",function(O){let D,B,{axisMin:F,axisMax:G,scrollMin:X,scrollMax:V}=u(A),$=V-X;if(He(F)&&He(G))if(A.horiz&&!A.reversed||!A.horiz&&A.reversed?(D=X+$*this.to,B=X+$*this.from):(D=X+$*(1-this.from),B=X+$*(1-this.to)),this.shouldUpdateExtremes(O.DOMType)){let _=O.DOMType!=="mousemove"&&O.DOMType!=="touchmove"&&void 0;A.setExtremes(B,D,!0,_,O)}else this.setRange(this.from,this.to)}))}function E(){let A,O,D,{scrollMin:B,scrollMax:F}=u(this),G=this.scrollbar,X=this.axisTitleMargin+(this.titleOffset||0),V=this.chart.scrollbarsOffsets,$=this.options.margin||0;if(G&&V){if(this.horiz)this.opposite||(V[1]+=X),G.position(this.left,this.top+this.height+2+V[1]-(this.opposite?$:0),this.width,this.height),this.opposite||(V[1]+=$),A=1;else{let _;this.opposite&&(V[0]+=X),_=G.options.opposite?this.left+this.width+2+V[0]-(this.opposite?0:$):this.opposite?0:$,G.position(_,this.top,this.width,this.height),this.opposite&&(V[0]+=$),A=0}if(V[A]+=G.size+(G.options.margin||0),isNaN(B)||isNaN(F)||!He(this.min)||!He(this.max)||this.dataMin===this.dataMax)G.setRange(0,1);else if(this.min===this.max){let _=this.pointRange/(this.dataMax+1);O=_*this.min,D=_*(this.max+1),G.setRange(O,D)}else O=(this.min-B)/(F-B),D=(this.max-B)/(F-B),this.horiz&&!this.reversed||!this.horiz&&this.reversed?G.setRange(O,D):G.setRange(1-D,1-O)}}m.compose=function(A,O){Or(In,"Axis.Scrollbar")&&(a=O,Vi(A,"afterGetOffset",f),Vi(A,"afterInit",v),Vi(A,"afterRender",E))}})(me||(me={}));let ka=me,Pr={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:$i}=R(),{addEvent:Aa,correctFloat:Je,crisp:Ts,defined:Fn,destroyObjectProperties:Ea,fireEvent:ti,merge:Lr,pick:Ui,removeEvent:Ma}=R();class We{static compose(a){ka.compose(a,We)}static swapXY(a,u){return u&&a.forEach(f=>{let v,E=f.length;for(let A=0;A<E;A+=2)typeof(v=f[A+1])=="number"&&(f[A+1]=f[A+2],f[A+2]=v)}),a}constructor(a,u,f){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(a,u,f)}addEvents(){let a=this.options.inverted?[1,0]:[0,1],u=this.scrollbarButtons,f=this.scrollbarGroup.element,v=this.track.element,E=this.mouseDownHandler.bind(this),A=this.mouseMoveHandler.bind(this),O=this.mouseUpHandler.bind(this),D=[[u[a[0]].element,"click",this.buttonToMinClick.bind(this)],[u[a[1]].element,"click",this.buttonToMaxClick.bind(this)],[v,"click",this.trackClick.bind(this)],[f,"mousedown",E],[f.ownerDocument,"mousemove",A],[f.ownerDocument,"mouseup",O],[f,"touchstart",E],[f.ownerDocument,"touchmove",A],[f.ownerDocument,"touchend",O]];D.forEach(function(B){Aa.apply(null,B)}),this._events=D}buttonToMaxClick(a){let u=(this.to-this.from)*Ui(this.options.step,.2);this.updatePosition(this.from+u,this.to+u),ti(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})}buttonToMinClick(a){let u=Je(this.to-this.from)*Ui(this.options.step,.2);this.updatePosition(Je(this.from-u),Je(this.to-u)),ti(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})}cursorToScrollbarPosition(a){let u=this.options,f=u.minWidth>this.calculatedWidth?u.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-f),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-f)}}destroy(){let a=this,u=a.chart.scroller;a.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(f){a[f]&&a[f].destroy&&(a[f]=a[f].destroy())}),u&&a===u.scrollbar&&(u.scrollbar=null,Ea(u.scrollbarButtons))}drawScrollbarButton(a){let u=this.renderer,f=this.scrollbarButtons,v=this.options,E=this.size,A=u.g().add(this.group);if(f.push(A),v.buttonsEnabled){let O=u.rect().addClass("highcharts-scrollbar-button").add(A);this.chart.styledMode||O.attr({stroke:v.buttonBorderColor,"stroke-width":v.buttonBorderWidth,fill:v.buttonBackgroundColor}),O.attr(O.crisp({x:-.5,y:-.5,width:E,height:E,r:v.buttonBorderRadius},O.strokeWidth()));let D=u.path(We.swapXY([["M",E/2+(a?-1:1),E/2-3],["L",E/2+(a?-1:1),E/2+3],["L",E/2+(a?2:-2),E/2]],v.vertical)).addClass("highcharts-scrollbar-arrow").add(f[a]);this.chart.styledMode||D.attr({fill:v.buttonArrowColor})}}init(a,u,f){this.scrollbarButtons=[],this.renderer=a,this.userOptions=u,this.options=Lr(Pr,$i.scrollbar,u),this.options.margin=Ui(this.options.margin,10),this.chart=f,this.size=Ui(this.options.size,this.options.height),u.enabled&&(this.render(),this.addEvents())}mouseDownHandler(a){let u=this.chart.pointer?.normalize(a)||a,f=this.cursorToScrollbarPosition(u);this.chartX=f.chartX,this.chartY=f.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(a){let u,f=this.chart.pointer?.normalize(a)||a,v=this.options.vertical?"chartY":"chartX",E=this.initPositions||[];this.grabbedCenter&&(!a.touches||a.touches[0][v]!==0)&&(u=this.cursorToScrollbarPosition(f)[v]-this[v],this.hasDragged=!0,this.updatePosition(E[0]+u,E[1]+u),this.hasDragged&&ti(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:a.type,DOMEvent:a}))}mouseUpHandler(a){this.hasDragged&&ti(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:a.type,DOMEvent:a}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(a,u,f,v){let{buttonsEnabled:E,margin:A=0,vertical:O}=this.options,D=this.rendered?"animate":"attr",B=v,F=0;this.group.show(),this.x=a,this.y=u+this.trackBorderWidth,this.width=f,this.height=v,this.xOffset=B,this.yOffset=F,O?(this.width=this.yOffset=f=F=this.size,this.xOffset=B=0,this.yOffset=F=E?this.size:0,this.barWidth=v-(E?2*f:0),this.x=a+=A):(this.height=v=this.size,this.xOffset=B=E?this.size:0,this.barWidth=f-(E?2*v:0),this.y=this.y+A),this.group[D]({translateX:a,translateY:this.y}),this.track[D]({width:f,height:v}),this.scrollbarButtons[1][D]({translateX:O?0:f-B,translateY:O?v-F:0})}removeEvents(){this._events.forEach(function(a){Ma.apply(null,a)}),this._events.length=0}render(){let a=this.renderer,u=this.options,f=this.size,v=this.chart.styledMode,E=a.g("scrollbar").attr({zIndex:u.zIndex}).hide().add();this.group=E,this.track=a.rect().addClass("highcharts-scrollbar-track").attr({r:u.trackBorderRadius||0,height:f,width:f}).add(E),v||this.track.attr({fill:u.trackBackgroundColor,stroke:u.trackBorderColor,"stroke-width":u.trackBorderWidth});let A=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Ts(0,A),y:-Ts(0,A)}),this.scrollbarGroup=a.g().add(E),this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:f-A,width:f-A,r:u.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=a.path(We.swapXY([["M",-3,f/4],["L",-3,2*f/3],["M",0,f/4],["L",0,2*f/3],["M",3,f/4],["L",3,2*f/3]],u.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),v||(this.scrollbar.attr({fill:u.barBackgroundColor,stroke:u.barBorderColor,"stroke-width":u.barBorderWidth}),this.scrollbarRifles.attr({stroke:u.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-Ts(0,this.scrollbarStrokeWidth),-Ts(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(a,u){let f,v,E=this.options,A=E.vertical,O=E.minWidth,D=this.barWidth,B=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Fn(D))return;let F=D*Math.min(u,1);f=Math.ceil(D*(a=Math.max(a,0))),this.calculatedWidth=v=Je(F-f),v<O&&(f=(D-O+v)*a,v=O);let G=Math.floor(f+this.xOffset+this.yOffset),X=v/2-.5;this.from=a,this.to=u,A?(this.scrollbarGroup[B]({translateY:G}),this.scrollbar[B]({height:v}),this.scrollbarRifles[B]({translateY:X}),this.scrollbarTop=G,this.scrollbarLeft=0):(this.scrollbarGroup[B]({translateX:G}),this.scrollbar[B]({width:v}),this.scrollbarRifles[B]({translateX:X}),this.scrollbarLeft=G,this.scrollbarTop=0),v<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),E.showFull===!1&&(a<=0&&u>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(a){return Ui(this.options.liveRedraw,R().svg&&!R().isTouchDevice&&!this.chart.boosted)||a==="mouseup"||a==="touchend"||!Fn(a)}trackClick(a){let u=this.chart.pointer?.normalize(a)||a,f=this.to-this.from,v=this.y+this.scrollbarTop,E=this.x+this.scrollbarLeft;this.options.vertical&&u.chartY>v||!this.options.vertical&&u.chartX>E?this.updatePosition(this.from+f,this.to+f):this.updatePosition(this.from-f,this.to-f),ti(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})}update(a){this.destroy(),this.init(this.chart.renderer,Lr(!0,this.options,a),this.chart)}updatePosition(a,u){u>1&&(a=Je(1-Je(u-a)),u=1),a<0&&(u=Je(u-a),a=0),this.from=a,this.to=u}}We.defaultOptions=Pr,$i.scrollbar=Lr(!0,We.defaultOptions,$i.scrollbar);var yi=xt(540),Rn=xt.n(yi);let{defaultOptions:Ss}=R(),{isTouchDevice:Ta}=R(),{prototype:{symbols:zn}}=Rn(),{addEvent:Qt,clamp:vi,correctFloat:wi,defined:Se,destroyObjectProperties:Cs,erase:ki,extend:Hn,find:Os,fireEvent:Ce,isArray:Wn,isNumber:se,merge:Ai,pick:Jt,removeEvent:je,splat:jn}=R();function Ei(m,...a){let u=[].filter.call(a,se);if(u.length)return Math[m].apply(0,u)}class Mi{static compose(a,u,f){kr.compose(a,Mi),Gi.compose(a,u,f)}constructor(a){this.isDirty=!1,this.scrollbarHeight=0,this.init(a)}drawHandle(a,u,f,v){let E=this.navigatorOptions.handles.height;this.handles[u][v](f?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(a,10)+.5-E)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+this.height/2-E/2-1)})}drawOutline(a,u,f,v){let E=this.navigatorOptions.maskInside,A=this.outline.strokeWidth(),O=A/2,D=A%2/2,B=this.scrollButtonSize,F=this.size,G=this.top,X=this.height,V=G-O,$=G+X,_=this.left,ft,dt;f?(ft=G+u+D,u=G+a+D,dt=[["M",_+X,G-B-D],["L",_+X,ft],["L",_,ft],["M",_,u],["L",_+X,u],["L",_+X,G+F+B]],E&&dt.push(["M",_+X,ft-O],["L",_+X,u+O])):(_-=B,a+=_+B-D,u+=_+B-D,dt=[["M",_,V],["L",a,V],["L",a,$],["M",u,$],["L",u,V],["L",_+F+2*B,V]],E&&dt.push(["M",a-O,V],["L",u+O,V])),this.outline[v]({d:dt})}drawMasks(a,u,f,v){let E,A,O,D,B=this.left,F=this.top,G=this.height;f?(O=[B,B,B],D=[F,F+a,F+u],A=[G,G,G],E=[a,u-a,this.size-u]):(O=[B,B+a,B+u],D=[F,F,F],A=[a,u-a,this.size-u],E=[G,G,G]),this.shades.forEach((X,V)=>{X[v]({x:O[V],y:D[V],width:A[V],height:E[V]})})}renderElements(){let a=this,u=a.navigatorOptions,f=u.maskInside,v=a.chart,E=v.inverted,A=v.renderer,O={cursor:E?"ns-resize":"ew-resize"},D=a.navigatorGroup??(a.navigatorGroup=A.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!f,f,!f].forEach((B,F)=>{let G=a.shades[F]??(a.shades[F]=A.rect().addClass("highcharts-navigator-mask"+(F===1?"-inside":"-outside")).add(D));v.styledMode||(G.attr({fill:B?u.maskFill:"rgba(0,0,0,0)"}),F===1&&G.css(O))}),a.outline||(a.outline=A.path().addClass("highcharts-navigator-outline").add(D)),v.styledMode||a.outline.attr({"stroke-width":u.outlineWidth,stroke:u.outlineColor}),u.handles?.enabled){let B=u.handles,{height:F,width:G}=B;[0,1].forEach(X=>{let V=B.symbols[X];if(a.handles[X]&&a.handles[X].symbolUrl===V){if(!a.handles[X].isImg&&a.handles[X].symbolName!==V){let $=zn[V].call(zn,-G/2-1,0,G,F);a.handles[X].attr({d:$}),a.handles[X].symbolName=V}}else a.handles[X]?.destroy(),a.handles[X]=A.symbol(V,-G/2-1,0,G,F,B),a.handles[X].attr({zIndex:7-X}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][X]).add(D),a.addMouseEvents();v.inverted&&a.handles[X].attr({rotation:90,rotationOriginX:Math.floor(-G/2),rotationOriginY:(F+G)/2}),v.styledMode||a.handles[X].attr({fill:B.backgroundColor,stroke:B.borderColor,"stroke-width":B.lineWidth,width:B.width,height:B.height,x:-G/2-1,y:0}).css(O)})}}update(a,u=!1){let f=this.chart,v=f.options.chart.inverted!==f.scrollbar?.options.vertical;if(Ai(!0,f.options.navigator,a),this.navigatorOptions=f.options.navigator||{},this.setOpposite(),Se(a.enabled)||v)return this.destroy(),this.navigatorEnabled=a.enabled||this.navigatorEnabled,this.init(f);if(this.navigatorEnabled&&(this.isDirty=!0,a.adaptToUpdatedData===!1&&this.baseSeries.forEach(E=>{je(E,"updatedData",this.updatedDataHandler)},this),a.adaptToUpdatedData&&this.baseSeries.forEach(E=>{E.eventsToUnbind.push(Qt(E,"updatedData",this.updatedDataHandler))},this),(a.series||a.baseSeries)&&this.setBaseSeries(void 0,!1),a.height||a.xAxis||a.yAxis)){this.height=a.height??this.height;let E=this.getXAxisOffsets();this.xAxis.update({...a.xAxis,offsets:E,[f.inverted?"width":"height"]:this.height,[f.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...a.yAxis,[f.inverted?"width":"height"]:this.height},!1)}u&&f.redraw()}render(a,u,f,v){let E=this.chart,A=this.xAxis,O=A.pointRange||0,D=A.navigatorAxis.fake?E.xAxis[0]:A,B=this.navigatorEnabled,F=this.rendered,G=E.inverted,X=E.xAxis[0].minRange,V=E.xAxis[0].options.maxRange,$=this.scrollButtonSize,_,ft,dt,Mt=this.scrollbarHeight,vt,nt;if(this.hasDragged&&!Se(f))return;if(this.isDirty&&this.renderElements(),a=wi(a-O/2),u=wi(u+O/2),!se(a)||!se(u)){if(!F)return;f=0,v=Jt(A.width,D.width)}this.left=Jt(A.left,E.plotLeft+$+(G?E.plotWidth:0));let ot=this.size=vt=Jt(A.len,(G?E.plotHeight:E.plotWidth)-2*$);_=G?Mt:vt+2*$,f=Jt(f,A.toPixels(a,!0)),v=Jt(v,A.toPixels(u,!0)),se(f)&&Math.abs(f)!==1/0||(f=0,v=_);let wt=A.toValue(f,!0),St=A.toValue(v,!0),Vt=Math.abs(wi(St-wt));Vt<X?this.grabbedLeft?f=A.toPixels(St-X-O,!0):this.grabbedRight&&(v=A.toPixels(wt+X+O,!0)):Se(V)&&wi(Vt-O)>V&&(this.grabbedLeft?f=A.toPixels(St-V-O,!0):this.grabbedRight&&(v=A.toPixels(wt+V+O,!0))),this.zoomedMax=vi(Math.max(f,v),0,ot),this.zoomedMin=vi(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(f,v),0,ot),this.range=this.zoomedMax-this.zoomedMin,ot=Math.round(this.zoomedMax);let Yt=Math.round(this.zoomedMin);B&&(this.navigatorGroup.attr({visibility:"inherit"}),nt=F&&!this.hasDragged?"animate":"attr",this.drawMasks(Yt,ot,G,nt),this.drawOutline(Yt,ot,G,nt),this.navigatorOptions.handles.enabled&&(this.drawHandle(Yt,0,G,nt),this.drawHandle(ot,1,G,nt))),this.scrollbar&&(G?(dt=this.top-$,ft=this.left-Mt+(B||!D.opposite?0:(D.titleOffset||0)+D.axisTitleMargin),Mt=vt+2*$):(dt=this.top+(B?this.height:-Mt),ft=this.left-$),this.scrollbar.position(ft,dt,_,Mt),this.scrollbar.setRange(this.zoomedMin/(vt||1),this.zoomedMax/(vt||1))),this.rendered=!0,this.isDirty=!1,Ce(this,"afterRender")}addMouseEvents(){let a=this,u=a.chart,f=u.container,v=[],E,A;a.mouseMoveHandler=E=function(O){a.onMouseMove(O)},a.mouseUpHandler=A=function(O){a.onMouseUp(O)},(v=a.getPartsEvents("mousedown")).push(Qt(u.renderTo,"mousemove",E),Qt(f.ownerDocument,"mouseup",A),Qt(u.renderTo,"touchmove",E),Qt(f.ownerDocument,"touchend",A)),v.concat(a.getPartsEvents("touchstart")),a.eventsToUnbind=v,a.series&&a.series[0]&&v.push(Qt(a.series[0].xAxis,"foundExtremes",function(){u.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(a){let u=this,f=[];return["shades","handles"].forEach(function(v){u[v].forEach(function(E,A){f.push(Qt(E.element,a,function(O){u[v+"Mousedown"](O,A)}))})}),f}shadesMousedown(a,u){a=this.chart.pointer?.normalize(a)||a;let f=this.chart,v=this.xAxis,E=this.zoomedMin,A=this.size,O=this.range,D=this.left,B=a.chartX,F,G,X,V;f.inverted&&(B=a.chartY,D=this.top),u===1?(this.grabbedCenter=B,this.fixedWidth=O,this.dragOffset=B-E):(V=B-D-O/2,u===0?V=Math.max(0,V):u===2&&V+O>=A&&(V=A-O,this.reversedExtremes?(V-=O,G=this.getUnionExtremes().dataMin):F=this.getUnionExtremes().dataMax),V!==E&&(this.fixedWidth=O,Se((X=v.navigatorAxis.toFixedRange(V,V+O,G,F)).min)&&Ce(this,"setRange",{min:Math.min(X.min,X.max),max:Math.max(X.min,X.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(a,u){a=this.chart.pointer?.normalize(a)||a;let f=this.chart,v=f.xAxis[0],E=this.reversedExtremes;u===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=E?v.min:v.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=E?v.max:v.min),f.setFixedRange(void 0)}onMouseMove(a){let u=this,f=u.chart,v=u.navigatorSize,E=u.range,A=u.dragOffset,O=f.inverted,D=u.left,B;(!a.touches||a.touches[0].pageX!==0)&&(B=(a=f.pointer?.normalize(a)||a).chartX,O&&(D=u.top,B=a.chartY),u.grabbedLeft?(u.hasDragged=!0,u.render(0,0,B-D,u.otherHandlePos)):u.grabbedRight?(u.hasDragged=!0,u.render(0,0,u.otherHandlePos,B-D)):u.grabbedCenter&&(u.hasDragged=!0,B<A?B=A:B>v+A-E&&(B=v+A-E),u.render(0,0,B-A,B-A+E)),u.hasDragged&&u.scrollbar&&Jt(u.scrollbar.options.liveRedraw,!Ta&&!this.chart.boosted)&&(a.DOMType=a.type,setTimeout(function(){u.onMouseUp(a)},0)))}onMouseUp(a){let u,f,v,E,A,O,D=this.chart,B=this.xAxis,F=this.scrollbar,G=a.DOMEvent||a,X=D.inverted,V=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!F||!F.hasDragged)||a.trigger==="scrollbar")&&(v=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?E=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(A=this.fixedExtreme),this.zoomedMax===this.size&&(A=this.reversedExtremes?v.dataMin:v.dataMax),this.zoomedMin===0&&(E=this.reversedExtremes?v.dataMax:v.dataMin),Se((O=B.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,E,A)).min)&&Ce(this,"setRange",{min:Math.min(O.min,O.max),max:Math.max(O.min,O.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:G}})),a.DOMType!=="mousemove"&&a.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&se(this.zoomedMin)&&se(this.zoomedMax)&&(f=Math.round(this.zoomedMin),u=Math.round(this.zoomedMax),this.shades&&this.drawMasks(f,u,X,V),this.outline&&this.drawOutline(f,u,X,V),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(f,0,X,V),this.drawHandle(u,1,X,V)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(a){a()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&a.forEach(function(u){je(u,"updatedData",this.updatedDataHandler)},this),a[0].xAxis&&je(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(a){let u=a.options,f=u.navigator||{},v=f.enabled,E=u.scrollbar||{},A=E.enabled,O=v&&f.height||0,D=A&&E.height||0,B=E.buttonsEnabled&&D||0;this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=O,this.scrollbarHeight=D,this.scrollButtonSize=B,this.scrollbarEnabled=A,this.navigatorEnabled=v,this.navigatorOptions=f,this.scrollbarOptions=E,this.setOpposite();let F=this,G=F.baseSeries,X=a.xAxis.length,V=a.yAxis.length,$=G&&G[0]&&G[0].xAxis||a.xAxis[0]||{options:{}};if(a.isDirtyBox=!0,F.navigatorEnabled){let _=this.getXAxisOffsets();F.xAxis=new(An())(a,Ai({breaks:$.options.breaks,ordinal:$.options.ordinal,overscroll:$.options.overscroll},f.xAxis,{type:"datetime",yAxis:f.yAxis?.id,index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:$.options.ordinal?0:$.options.minPadding,maxPadding:$.options.ordinal?0:$.options.maxPadding,zoomEnabled:!1},a.inverted?{offsets:_,width:O}:{offsets:_,height:O}),"xAxis"),F.yAxis=new(An())(a,Ai(f.yAxis,{alignTicks:!1,offset:0,index:V,isInternal:!0,reversed:Jt(f.yAxis&&f.yAxis.reversed,a.yAxis[0]&&a.yAxis[0].reversed,!1),zoomEnabled:!1},a.inverted?{width:O}:{height:O}),"yAxis"),G||f.series.data?F.updateNavigatorSeries(!1):a.series.length===0&&(F.unbindRedraw=Qt(a,"beforeRedraw",function(){a.series.length>0&&!F.series&&(F.setBaseSeries(),F.unbindRedraw())})),F.reversedExtremes=a.inverted&&!F.xAxis.reversed||!a.inverted&&F.xAxis.reversed,F.renderElements(),F.addMouseEvents()}else F.xAxis={chart:a,navigatorAxis:{fake:!0},translate:function(_,ft){let dt=a.xAxis[0],Mt=dt.getExtremes(),vt=dt.len-2*B,nt=Ei("min",dt.options.min,Mt.dataMin),ot=Ei("max",dt.options.max,Mt.dataMax)-nt;return ft?_*ot/vt+nt:vt*(_-nt)/ot},toPixels:function(_){return this.translate(_)},toValue:function(_){return this.translate(_,!0)}},F.xAxis.navigatorAxis.axis=F.xAxis,F.xAxis.navigatorAxis.toFixedRange=Es.prototype.toFixedRange.bind(F.xAxis.navigatorAxis);if(a.options.scrollbar.enabled){let _=Ai(a.options.scrollbar,{vertical:a.inverted});!se(_.margin)&&F.navigatorEnabled&&(_.margin=a.inverted?-3:3),a.scrollbar=F.scrollbar=new We(a.renderer,_,a),Qt(F.scrollbar,"changed",function(ft){let dt=F.size,Mt=dt*this.to,vt=dt*this.from;F.hasDragged=F.scrollbar.hasDragged,F.render(0,0,vt,Mt),this.shouldUpdateExtremes(ft.DOMType)&&setTimeout(function(){F.onMouseUp(ft)})})}F.addBaseSeriesEvents(),F.addChartEvents()}setOpposite(){let a=this.navigatorOptions,u=this.navigatorEnabled,f=this.chart;this.opposite=Jt(a.opposite,!!(!u&&f.inverted))}getUnionExtremes(a){let u,f=this.chart.xAxis[0],v=this.chart.time,E=this.xAxis,A=E.options,O=f.options;return a&&f.dataMin===null||(u={dataMin:Jt(v.parse(A?.min),Ei("min",v.parse(O.min),f.dataMin,E.dataMin,E.min)),dataMax:Jt(v.parse(A?.max),Ei("max",v.parse(O.max),f.dataMax,E.dataMax,E.max))}),u}setBaseSeries(a,u){let f=this.chart,v=this.baseSeries=[];a=a||f.options&&f.options.navigator.baseSeries||(f.series.length?Os(f.series,E=>!E.options.isInternal).index:0),(f.series||[]).forEach((E,A)=>{!E.options.isInternal&&(E.options.showInNavigator||(A===a||E.options.id===a)&&E.options.showInNavigator!==!1)&&v.push(E)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,u)}updateNavigatorSeries(a,u){let f=this,v=f.chart,E=f.baseSeries,A={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},O=f.series=(f.series||[]).filter(X=>{let V=X.baseSeries;return!(0>E.indexOf(V))||(V&&(je(V,"updatedData",f.updatedDataHandler),delete V.navigatorSeries),X.chart&&X.destroy(),!1)}),D,B,F=f.navigatorOptions.series,G;E&&E.length&&E.forEach(X=>{let V=X.navigatorSeries,$=Hn({color:X.color,visible:X.visible},Wn(F)?Ss.navigator.series:F);if(V&&f.navigatorOptions.adaptToUpdatedData===!1)return;A.name="Navigator "+E.length,G=(D=X.options||{}).navigatorOptions||{},$.dataLabels=jn($.dataLabels),(B=Ai(D,A,$,G)).pointRange=Jt($.pointRange,G.pointRange,Ss.plotOptions[B.type||"line"].pointRange);let _=G.data||$.data;f.hasNavigatorData=f.hasNavigatorData||!!_,B.data=_||D.data?.slice(0),V&&V.options?V.update(B,u):(X.navigatorSeries=v.initSeries(B),v.setSortedData(),X.navigatorSeries.baseSeries=X,O.push(X.navigatorSeries))}),(F.data&&!(E&&E.length)||Wn(F))&&(f.hasNavigatorData=!1,(F=jn(F)).forEach((X,V)=>{A.name="Navigator "+(O.length+1),(B=Ai(Ss.navigator.series,{color:v.series[V]&&!v.series[V].options.isInternal&&v.series[V].color||v.options.colors[V]||v.options.colors[0]},A,X)).data=X.data,B.data&&(f.hasNavigatorData=!0,O.push(v.initSeries(B)))})),a&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let a=this,u=a.baseSeries||[];u[0]&&u[0].xAxis&&u[0].eventsToUnbind.push(Qt(u[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),u.forEach(f=>{f.eventsToUnbind.push(Qt(f,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),f.eventsToUnbind.push(Qt(f,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&f.xAxis&&f.eventsToUnbind.push(Qt(f,"updatedData",this.updatedDataHandler)),f.eventsToUnbind.push(Qt(f,"remove",function(){u&&ki(u,f),this.navigatorSeries&&a.series&&(ki(a.series,this.navigatorSeries),Se(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(a){return this.baseSeries.reduce(function(u,f){return Math.min(u,f.getColumn("x")[0]??u)},a)}modifyNavigatorAxisExtremes(){let a=this.xAxis;if(a.getExtremes!==void 0){let u=this.getUnionExtremes(!0);u&&(u.dataMin!==a.min||u.dataMax!==a.max)&&(a.min=u.dataMin,a.max=u.dataMax)}}modifyBaseAxisExtremes(){let a,u,f=this.chart.navigator,v=this.getExtremes(),E=v.min,A=v.max,O=v.dataMin,D=v.dataMax,B=A-E,F=f.stickToMin,G=f.stickToMax,X=Jt(this.ordinal?.convertOverscroll(this.options.overscroll),0),V=f.series&&f.series[0],$=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(F&&(a=(u=O)+B),G&&(a=D+X,F||(u=Math.max(O,a-B,f.getBaseSeriesMin(V&&V.xData?V.xData[0]:-Number.MAX_VALUE)))),$&&(F||G)&&se(u)&&(this.min=this.userMin=u,this.max=this.userMax=a)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){let a=this.chart.navigator,u=this.navigatorSeries,f=a.reversedExtremes?Math.round(a.zoomedMin)===0:Math.round(a.zoomedMax)>=Math.round(a.size);a.stickToMax=Jt(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f),a.stickToMin=a.shouldStickToMin(this,a),u&&!a.hasNavigatorData&&(u.options.pointStart=this.getColumn("x")[0],u.setData(this.options.data,!1,null,!1))}shouldStickToMin(a,u){let f=u.getBaseSeriesMin(a.getColumn("x")[0]),v=a.xAxis,E=v.max,A=v.min,O=v.options.range;return!!(se(E)&&se(A))&&(O&&E-f>0?E-f<O:A<=f)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(Qt(this.chart,"redraw",function(){let a=this.navigator,u=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||this.xAxis[0]);u&&a.render(u.min,u.max)}),Qt(this.chart,"getMargins",function(){let a=this.navigator,u=a.opposite?"plotTop":"marginBottom";this.inverted&&(u=a.opposite?"marginRight":"plotLeft"),this[u]=(this[u]||0)+(a.navigatorEnabled||!this.inverted?a.height+a.scrollbarHeight:0)+a.navigatorOptions.margin}),Qt(Mi,"setRange",function(a){this.chart.xAxis[0].setExtremes(a.min,a.max,a.redraw,a.animation,a.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(ki(this.chart.xAxis,this.xAxis),ki(this.chart.axes,this.xAxis)),this.yAxis&&(ki(this.chart.yAxis,this.yAxis),ki(this.chart.axes,this.yAxis)),(this.series||[]).forEach(a=>{a.destroy&&a.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(a=>{this[a]&&this[a].destroy&&this[a].destroy(),this[a]=null}),[this.handles].forEach(a=>{Cs(a)}),this.navigatorEnabled=!1}}let{animObject:Sa}=R(),{format:Dr}=ui(),{clamp:Ca,pick:Ps,syncTimeout:Oa}=R(),{getFakeMouseEvent:Pa}=Xt,{getAxisRangeDescription:Ti,fireEventOnWrappedOrUnwrappedElement:La}=Wt,Xn=class extends we{init(){let m=this.chart,a=this;this.announcer=new cs(m,"polite"),this.addEvent(Mi,"afterRender",function(){this.chart===a.chart&&this.chart.renderer&&Oa(()=>{a.proxyProvider.updateGroupProxyElementPositions("navigator"),a.updateHandleValues()},Sa(Ps(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){let m=this.chart,a=m.options,u=a.navigator;if(u.enabled&&u.accessibility?.enabled){let f=a.accessibility.landmarkVerbosity,v=a.lang.accessibility?.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:f==="all"?"region":"group","aria-label":Dr(v,{chart:m},m)});let E=a.lang.accessibility?.navigator.handleLabel;[0,1].forEach(A=>{let O=this.getHandleByIx(A);if(O){let D=this.proxyProvider.addProxyElement("navigator",{click:O},"input",{type:"range","aria-label":Dr(E,{handleIx:A,chart:m},m)});this[A?"maxHandleProxy":"minHandleProxy"]=D.innerElement,D.innerElement.style.pointerEvents="none",D.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(m){let a=this,u=this.chart,f=m?this.maxHandleProxy:this.minHandleProxy,v=this.keyCodes;return new fe(u,{keyCodeMap:[[[v.left,v.right,v.up,v.down],function(E){if(f){let A=E===v.left||E===v.up?-1:1;f.value=""+Ca(parseFloat(f.value)+A,0,100),a.updateNavigator(()=>{let O=a.getHandleByIx(m);O&&u.setFocusToElement(O,f)})}return this.response.success}]],init:()=>{u.setFocusToElement(this.getHandleByIx(m),f)},validate:()=>!!(this.getHandleByIx(m)&&f&&u.options.navigator.accessibility?.enabled)})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let m=this.chart.navigator;if(m&&this.minHandleProxy&&this.maxHandleProxy){let a=m.size;this.minHandleProxy.value=""+Math.round(m.zoomedMin/a*100),this.maxHandleProxy.value=""+Math.round(m.zoomedMax/a*100)}}getHandleByIx(m){let a=this.chart.navigator;return a&&a.handles&&a.handles[m]}updateNavigator(m){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((a=>{let u=this.chart,{navigator:f,pointer:v}=u;if(f&&v&&this.minHandleProxy&&this.maxHandleProxy){let E=v.getChartPosition(),A=parseFloat(this.minHandleProxy.value)/100*f.size,O=parseFloat(this.maxHandleProxy.value)/100*f.size;[[0,"mousedown",f.zoomedMin],[0,"mousemove",A],[0,"mouseup",A],[1,"mousedown",f.zoomedMax],[1,"mousemove",O],[1,"mouseup",O]].forEach(([F,G,X])=>{let V=this.getHandleByIx(F)?.element;V&&La(V,Pa(G,{x:E.left+f.left+X,y:E.top+f.top},V))}),a&&a();let D=u.options.lang.accessibility?.navigator.changeAnnouncement,B=Ti(u.xAxis[0]);this.announcer.announce(Dr(D,{axisRangeDescription:B,chart:u},u))}}).bind(this,m),20)}},{getPointAnnotationTexts:Da}=ur,{getAxisDescription:Ba,getSeriesFirstPointElement:Na,getSeriesA11yElement:Ia,unhideChartElementFromAT:Fa}=Wt,{format:Ki,numberFormat:Ra}=ui(),{reverseChildNodes:qi,stripHTMLTagsFromString:Xe}=Xt,{find:za,isNumber:Ha,isString:Gn,pick:ei,defined:Ls}=R();function _i(m){let a=m.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(a!==!1&&m.points&&m.points.length>=+a)}function Ds(m,a){let u=m.series,f=u.chart,v=f.options.accessibility.point||{},E=u.options.accessibility&&u.options.accessibility.point||{},A=u.tooltipOptions||{},O=f.options.lang;return Ha(a)?Ra(a,E.valueDecimals||v.valueDecimals||A.valueDecimals||-1,O.decimalPoint,O.accessibility.thousandsSep||O.thousandsSep):a}function Vn(m,a){let u=m[a];return m.chart.langFormat("accessibility.series."+a+"Description",{name:Ba(u),series:m})}function Zi(m){let a=m.series,u=a.chart.series.length>1||a.options.name,f=function(O){let D=O.series,B=D.chart,F=D.options.accessibility,G=F&&F.point&&F.point.valueDescriptionFormat||B.options.accessibility.point.valueDescriptionFormat,X=ei(D.xAxis&&D.xAxis.options.accessibility&&D.xAxis.options.accessibility.enabled,!B.angular&&D.type!=="flowmap"),V=X?function($){let _=function(vt){let nt=vt.series,ot=nt.chart,wt=nt.options.accessibility&&nt.options.accessibility.point||{},St=ot.options.accessibility.point||{},Vt=nt.xAxis&&nt.xAxis.dateTime;if(Vt){let Yt=Vt.getXDateFormat(vt.x||0,ot.options.tooltip.dateTimeLabelFormats),$e=wt.dateFormatter&&wt.dateFormatter(vt)||St.dateFormatter&&St.dateFormatter(vt)||wt.dateFormat||St.dateFormat||Yt;return ot.time.dateFormat($e,vt.x||0,void 0)}}($),ft=($.series.xAxis||{}).categories&&Ls($.category)&&(""+$.category).replace("<br/>"," "),dt=Ls($.id)&&0>(""+$.id).indexOf("highcharts-"),Mt="x, "+$.x;return $.name||_||ft||(dt?$.id:Mt)}(O):"";return Ki(G,{point:O,index:Ls(O.index)?O.index+1:"",xDescription:V,value:function($){let _=$.series,ft=_.chart.options.accessibility.point||{},dt=_.chart.options.accessibility&&_.chart.options.accessibility.point||{},Mt=_.tooltipOptions||{},vt=dt.valuePrefix||ft.valuePrefix||Mt.valuePrefix||"",nt=dt.valueSuffix||ft.valueSuffix||Mt.valueSuffix||"",ot=$.value!==void 0?"value":"y",wt=Ds($,$[ot]);return $.isNull?_.chart.langFormat("accessibility.series.nullPointValue",{point:$}):_.pointArrayMap?function(St,Vt,Yt){let $e=Vt||"",re=Yt||"",ll=function(Pe){let ni=Ds(St,ei(St[Pe],St.options[Pe]));return ni!==void 0?Pe+": "+$e+ni+re:ni};return St.series.pointArrayMap.reduce(function(Pe,ni){let $r=ll(ni);return $r?Pe+(Pe.length?", ":"")+$r:Pe},"")}($,vt,nt):vt+wt+nt}(O),separator:X?", ":""},B)}(m),v=m.options&&m.options.accessibility&&m.options.accessibility.description,E=u?" "+a.name+".":"",A=function(O){let D=O.series.chart,B=Da(O);return B.length?D.langFormat("accessibility.series.pointAnnotationsDescription",{point:O,annotations:B}):""}(m);return m.accessibility=m.accessibility||{},m.accessibility.valueDescription=f,f+(v?" "+v:"")+E+(A?" "+A:"")}function Bs(m){let a=m.chart,u=a.types||[],f=function(X){let V=(X.options.accessibility||{}).description;return V&&X.chart.langFormat("accessibility.series.description",{description:V,series:X})||""}(m),v=function(X){return a[X]&&a[X].length>1&&m[X]},E=m.index+1,A=Vn(m,"xAxis"),O=Vn(m,"yAxis"),D={seriesNumber:E,series:m,chart:a},B=u.length>1?"Combination":"",F=a.langFormat("accessibility.series.summary."+m.type+B,D)||a.langFormat("accessibility.series.summary.default"+B,D),G=(v("yAxis")?" "+O+".":"")+(v("xAxis")?" "+A+".":"");return Ki(ei(m.options.accessibility&&m.options.accessibility.descriptionFormat,a.options.accessibility.series.descriptionFormat,""),{seriesDescription:F,authorDescription:f?" "+f:"",axisDescription:G,series:m,chart:a,seriesNumber:E},void 0)}let Br={defaultPointDescriptionFormatter:Zi,defaultSeriesDescriptionFormatter:Bs,describeSeries:function(m){let a=m.chart,u=Na(m),f=Ia(m),v=a.is3d&&a.is3d();f&&(f.lastChild!==u||v||qi(f),function(E){let A=function(B){let F=B.options.accessibility||{};return!_i(B)&&!F.exposeAsGroupOnly}(E),O=function(B){let F=B.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(B.points&&(B.points.length<+F.pointNavigationEnabledThreshold||F.pointNavigationEnabledThreshold===!1))}(E),D=E.chart.options.accessibility.point.describeNull;(A||O)&&E.points.forEach(B=>{let F=B.graphic&&B.graphic.element||function(X){let V=X.series,$=V&&V.chart,_=V&&V.is("sunburst"),ft=X.isNull,dt=$&&$.options.accessibility.point.describeNull;return ft&&!_&&dt}(B)&&function(X){let V=X.series,$=function(vt){let nt=vt.index;return vt.series&&vt.series.data&&Ls(nt)&&za(vt.series.data,function(ot){return!!(ot&&ot.index!==void 0&&ot.index>nt&&ot.graphic&&ot.graphic.element)})||null}(X),_=$&&$.graphic,ft=_?_.parentGroup:V.graph||V.group,dt=$?{x:ei(X.plotX,$.plotX,0),y:ei(X.plotY,$.plotY,0)}:{x:ei(X.plotX,0),y:ei(X.plotY,0)},Mt=function(vt,nt){let ot=vt.series.chart.renderer.rect(nt.x,nt.y,1,1);return ot.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ot}(X,dt);if(ft&&ft.element)return X.graphic=Mt,X.hasMockGraphic=!0,Mt.add(ft),ft.element.insertBefore(Mt.element,_?_.element:null),Mt.element}(B),G=B.options&&B.options.accessibility&&B.options.accessibility.enabled===!1;if(F){if(B.isNull&&!D){F.setAttribute("aria-hidden",!0);return}F.setAttribute("tabindex","-1"),E.chart.styledMode||(F.style.outline="none"),A&&!G?function(X,V){let $=X.series,_=$.options.accessibility?.point||{},ft=$.chart.options.accessibility.point||{},dt=Xe(Gn(_.descriptionFormat)&&Ki(_.descriptionFormat,X,$.chart)||_.descriptionFormatter?.(X)||Gn(ft.descriptionFormat)&&Ki(ft.descriptionFormat,X,$.chart)||ft.descriptionFormatter?.(X)||Zi(X),$.chart.renderer.forExport);V.setAttribute("role","img"),V.setAttribute("aria-label",dt)}(B,F):F.setAttribute("aria-hidden",!0)}})}(m),Fa(a,f),function(E){let A=E.chart,O=A.options.chart,D=O.options3d&&O.options3d.enabled,B=A.series.length>1,F=A.options.accessibility.series.describeSingleSeries,G=(E.options.accessibility||{}).exposeAsGroupOnly;return!(D&&B)&&(B||F||G||_i(E))}(m)?function(E,A){let O=E.options.accessibility||{},D=E.chart.options.accessibility,B=D.landmarkVerbosity;O.exposeAsGroupOnly?A.setAttribute("role","img"):B==="all"?A.setAttribute("role","region"):A.setAttribute("role","group"),A.setAttribute("tabindex","-1"),E.chart.styledMode||(A.style.outline="none"),A.setAttribute("aria-label",Xe(D.series.descriptionFormatter&&D.series.descriptionFormatter(E)||Bs(E),E.chart.renderer.forExport))}(m,f):f.removeAttribute("aria-label"))}},{composed:Yn}=R(),{addEvent:Si,defined:$n,pushUnique:Ns}=R(),{getChartTitle:Wa}=Wt,{defaultPointDescriptionFormatter:ja,defaultSeriesDescriptionFormatter:xe}=Br;function Ge(m){return!!m.options.accessibility.announceNewData.enabled}class Nr{constructor(a){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=a}init(){let a=this.chart,u=a.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new Hi,this.announcer=new cs(a,u),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let a=this,u=this.chart,f=this.eventProvider;f.addEvent(u,"afterApplyDrilldown",function(){a.lastAnnouncementTime=0}),f.addEvent(u,"afterAddSeries",function(v){a.onSeriesAdded(v.series)}),f.addEvent(u,"redraw",function(){a.announceDirtyData()})}onSeriesAdded(a){Ge(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[a.name+a.index]=a,this.dirty.newSeries=$n(this.dirty.newSeries)?void 0:a)}announceDirtyData(){let a=this.chart,u=this;if(a.options.accessibility.announceNewData&&this.dirty.hasDirty){let f=this.dirty.newPoint;f&&(f=function(v){let E=v.series.data.filter(A=>v.x===A.x&&v.y===A.y);return E.length===1?E[0]:v}(f)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(v=>u.dirty.allSeries[v]),this.dirty.newSeries,f),this.dirty={allSeries:{}}}}queueAnnouncement(a,u,f){let v=this.chart.options.accessibility.announceNewData;if(v.enabled){let E=+new Date,A=E-this.lastAnnouncementTime,O=Math.max(0,v.minAnnounceInterval-A),D=function(F,G){let X=(F||[]).concat(G||[]).reduce((V,$)=>(V[$.name+$.index]=$,V),{});return Object.keys(X).map(V=>X[V])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,a),B=this.buildAnnouncementMessage(D,u,f);B&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:B,series:D},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},O))}}buildAnnouncementMessage(a,u,f){let v=this.chart,E=v.options.accessibility.announceNewData;if(E.announcementFormatter){let B=E.announcementFormatter(a,u,f);if(B!==!1)return B.length?B:null}let A=R().charts&&R().charts.length>1?"Multiple":"Single",O=u?"newSeriesAnnounce"+A:f?"newPointAnnounce"+A:"newDataAnnounce",D=Wa(v);return v.langFormat("accessibility.announceNewData."+O,{chartTitle:D,seriesDesc:u?xe(u):null,pointDesc:f?ja(f):null,point:f,series:u})}}(function(m){function a(f){let v=this.chart,E=v.accessibility?.components.series.newDataAnnouncer;E&&E.chart===v&&Ge(v)&&(E.dirty.newPoint=$n(E.dirty.newPoint)?void 0:f.point)}function u(){let f=this.chart,v=f.accessibility?.components.series.newDataAnnouncer;v&&v.chart===f&&Ge(f)&&(v.dirty.hasDirty=!0,v.dirty.allSeries[this.name+this.index]=this)}m.compose=function(f){Ns(Yn,"A11y.NDA")&&(Si(f,"addPoint",a),Si(f,"updatedData",u))}})(Nr||(Nr={}));let Is=Nr,{doc:Un}=R(),{attr:Ir,css:Kn,merge:Xa}=R(),{fireEventOnWrappedOrUnwrappedElement:Fr}=Wt,{cloneMouseEvent:Ga,cloneTouchEvent:Rr,getFakeMouseEvent:de,removeElement:Ct}=Xt,Va=class{constructor(m,a,u="button",f,v){this.chart=m,this.target=a,this.eventProvider=new Hi;let E=this.innerElement=Un.createElement(u),A=this.element=f?Un.createElement(f):E;m.styledMode||this.hideElementVisually(E),f&&(f!=="li"||m.styledMode||(A.style.listStyle="none"),A.appendChild(E),this.element=A),this.updateTarget(a,v)}click(){let m=this.getTargetPosition();m.x+=m.width/2,m.y+=m.height/2;let a=de("click",m);Fr(this.target.click,a)}updateTarget(m,a){this.target=m,this.updateCSSClassName();let u=a||{};Object.keys(u).forEach(v=>{u[v]===null&&delete u[v]});let f=this.getTargetAttr(m.click,"aria-label");Ir(this.innerElement,Xa(f?{"aria-label":f}:{},u)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,m.click),this.refreshPosition()}refreshPosition(){let m=this.getTargetPosition();Kn(this.innerElement,{width:(m.width||1)+"px",height:(m.height||1)+"px",left:(Math.round(m.x)||0)+"px",top:(Math.round(m.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),Ct(this.element)}updateCSSClassName(){let m=E=>E.indexOf("highcharts-no-tooltip")>-1,a=this.chart.legend,u=a.group&&a.group.div,f=m(u&&u.className||""),v=m(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=f||v?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(m,a){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(u=>{let f=u.indexOf("touch")===0;this.eventProvider.addEvent(m,u,v=>{let E=f?Rr(v):Ga(v);a&&Fr(a,E),v.stopPropagation(),f||v.preventDefault()},{passive:!1})})}hideElementVisually(m){Kn(m,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let m=this.target.click,a=m.element?m.element:m,u=this.target.visual||a,f=this.chart.renderTo,v=this.chart.pointer;if(f&&u?.getBoundingClientRect&&v){let E=u.getBoundingClientRect(),A=v.getChartPosition();return{x:(E.left-A.left)/A.scaleX,y:(E.top-A.top)/A.scaleY,width:E.right/A.scaleX-E.left/A.scaleX,height:E.bottom/A.scaleY-E.top/A.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(m,a){return m.element?m.element.getAttribute(a):m.getAttribute(a)}},{doc:qn}=R(),{attr:Fs,css:Rs}=R(),{unhideChartElementFromAT:Dt}=Wt,{removeChildNodes:zr}=Xt,Ya=class{constructor(m){this.chart=m,this.domElementProvider=new ar,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(m,a,u="button",f){let v=this.groups[m];if(!v)throw Error("ProxyProvider.addProxyElement: Invalid group key "+m);let E=v.type==="ul"||v.type==="ol"?"li":void 0,A=new Va(this.chart,a,u,E,f);return v.proxyContainerElement.appendChild(A.element),v.proxyElements.push(A),A}addGroup(m,a="div",u){let f,v=this.groups[m];if(v)return v.groupElement;let E=this.domElementProvider.createElement(a);return u&&u.role&&a!=="div"?(f=this.domElementProvider.createElement("div")).appendChild(E):f=E,f.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+m.replace(/\W/g,"-"),this.groups[m]={proxyContainerElement:E,groupElement:f,type:a,proxyElements:[]},Fs(f,u||{}),a==="ul"&&E.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(f),this.updateGroupOrder(this.groupOrder),f}updateGroupAttrs(m,a){let u=this.groups[m];if(!u)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+m);Fs(u.groupElement,a)}updateGroupOrder(m){if(this.groupOrder=m.slice(),this.isDOMOrderGroupOrder())return;let a=m.indexOf("series"),u=a>-1?m.slice(0,a):m,f=a>-1?m.slice(a+1):[],v=qn.activeElement;["before","after"].forEach(E=>{let A=this[E==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];zr(A),(E==="before"?u:f).forEach(O=>{let D=this.groups[O];D&&A.appendChild(D.groupElement)})}),(this.beforeChartProxyPosContainer.contains(v)||this.afterChartProxyPosContainer.contains(v))&&v&&v.focus&&v.focus()}clearGroup(m){let a=this.groups[m];if(!a)throw Error("ProxyProvider.clearGroup: Invalid group key "+m);zr(a.proxyContainerElement)}removeGroup(m){let a=this.groups[m];a&&(this.domElementProvider.removeElement(a.groupElement),a.groupElement!==a.proxyContainerElement&&this.domElementProvider.removeElement(a.proxyContainerElement),delete this.groups[m])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(m){let a=this.groups[m];a&&a.proxyElements.forEach(u=>u.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(m){let a=this.domElementProvider.createElement("div");return a.setAttribute("aria-hidden","false"),a.className="highcharts-a11y-proxy-container"+(m?"-"+m:""),Rs(a,{top:"0",left:"0"}),this.chart.styledMode||(a.style.whiteSpace="nowrap",a.style.position="absolute"),a}getCurrentGroupOrderInDOM(){let m=v=>{let E=Object.keys(this.groups),A=E.length;for(;A--;){let O=E[A],D=this.groups[O];if(D&&v===D.groupElement)return O}},a=v=>{let E=[],A=v.children;for(let O=0;O<A.length;++O){let D=m(A[O]);D&&E.push(D)}return E},u=a(this.beforeChartProxyPosContainer),f=a(this.afterChartProxyPosContainer);return u.push("series"),u.concat(f)}isDOMOrderGroupOrder(){let m=this.getCurrentGroupOrderInDOM(),a=this.groupOrder.filter(f=>f==="series"||!!this.groups[f]),u=m.length;if(u!==a.length)return!1;for(;u--;)if(m[u]!==a[u])return!1;return!0}updatePosContainerPositions(){let m=this.chart;if(m.renderer.forExport)return;let a=m.renderer.box;m.container.insertBefore(this.afterChartProxyPosContainer,a.nextSibling),m.container.insertBefore(this.beforeChartProxyPosContainer,a),Dt(this.chart,this.afterChartProxyPosContainer),Dt(this.chart,this.beforeChartProxyPosContainer)}},{unhideChartElementFromAT:zs,getAxisRangeDescription:rt}=Wt,{addEvent:Qi,attr:Ji}=R();class Hr extends we{init(){let a=this.chart;this.announcer=new cs(a,"polite")}onChartUpdate(){let a=this.chart,u=this,f=a.rangeSelector;f&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),f.buttons&&f.buttons.length&&f.buttons.forEach(v=>{u.setRangeButtonAttrs(v)}),f.maxInput&&f.minInput&&["minInput","maxInput"].forEach(function(v,E){let A=f[v];A&&(zs(a,A),u.setRangeInputAttrs(A,"accessibility.rangeSelector."+(E?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let a=this.chart,u=a.rangeSelector,f=u&&u.dropdown,v=u&&u.buttons||[],E=A=>A.setAttribute("aria-hidden",!0);u&&u.hasVisibleDropdown&&f?(zs(a,f),v.forEach(A=>E(A.element))):(f&&E(f),v.forEach(A=>zs(a,A.element)))}setDropdownAttrs(){let a=this.chart,u=a.rangeSelector&&a.rangeSelector.dropdown;if(u){let f=a.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:a.options.lang.rangeSelectorZoom});u.setAttribute("aria-label",f),u.setAttribute("tabindex",-1)}}setRangeButtonAttrs(a){Ji(a.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(a,u){let f=this.chart;Ji(a,{tabindex:-1,"aria-label":f.langFormat(u,{chart:f})})}onButtonNavKbdArrowKey(a,u){let f=a.response,v=this.keyCodes,E=this.chart,A=E.options.accessibility.keyboardNavigation.wrapAround,O=u===v.left||u===v.up?-1:1;return E.highlightRangeSelectorButton(E.highlightedRangeSelectorItemIx+O)?f.success:A?(a.init(O),f.success):f[O>0?"next":"prev"]}onButtonNavKbdClick(a){let u=a.response,f=this.chart;return f.oldRangeSelectorItemState!==3&&this.fakeClickEvent(f.rangeSelector.buttons[f.highlightedRangeSelectorItemIx].element),u.success}onAfterBtnClick(){let a=this.chart,u=rt(a.xAxis[0]),f=a.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:a,axisRangeDescription:u});f&&this.announcer.announce(f)}onInputKbdMove(a){let u=this.chart,f=u.rangeSelector,v=u.highlightedInputRangeIx=(u.highlightedInputRangeIx||0)+a;if(v>1||v<0){if(u.accessibility)return u.accessibility.keyboardNavigation.exiting=!0,u.accessibility.keyboardNavigation.tabindexContainer.focus(),u.accessibility.keyboardNavigation.move(a)}else if(f){let E=f[v?"maxDateBox":"minDateBox"],A=f[v?"maxInput":"minInput"];E&&A&&u.setFocusToElement(E,A)}return!0}onInputNavInit(a){let u=this,f=this.chart,v=a>0?0:1,E=f.rangeSelector,A=E&&E[v?"maxDateBox":"minDateBox"],O=E&&E.minInput,D=E&&E.maxInput;if(f.highlightedInputRangeIx=v,A&&O&&D){f.setFocusToElement(A,v?D:O),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let B=X=>{(X.which||X.keyCode)===this.keyCodes.tab&&u.onInputKbdMove(X.shiftKey?-1:1)&&(X.preventDefault(),X.stopPropagation())},F=Qi(O,"keydown",B),G=Qi(D,"keydown",B);this.removeInputKeydownHandler=()=>{F(),G()}}}onInputNavTerminate(){let a=this.chart.rangeSelector||{};a.maxInput&&a.hideInput("max"),a.minInput&&a.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let a=this.chart,u=a.rangeSelector,f=u&&u.dropdown;u&&f&&(a.setFocusToElement(u.buttonGroup,f),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=Qi(f,"keydown",v=>{let E=(v.which||v.keyCode)===this.keyCodes.tab,A=a.accessibility;E&&(v.preventDefault(),v.stopPropagation(),A&&A.keyboardNavigation.move(v.shiftKey?-1:1))}))}getRangeSelectorButtonNavigation(){let a=this.chart,u=this.keyCodes,f=this;return new fe(a,{keyCodeMap:[[[u.left,u.right,u.up,u.down],function(v){return f.onButtonNavKbdArrowKey(this,v)}],[[u.enter,u.space],function(){return f.onButtonNavKbdClick(this)}]],validate:function(){return!!(a.rangeSelector&&a.rangeSelector.buttons&&a.rangeSelector.buttons.length)},init:function(v){let E=a.rangeSelector;if(E&&E.hasVisibleDropdown)f.initDropdownNav();else if(E){let A=E.buttons.length-1;a.highlightRangeSelectorButton(v>0?0:A)}},terminate:function(){f.removeDropdownKeydownHandler&&(f.removeDropdownKeydownHandler(),delete f.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let a=this.chart,u=this;return new fe(a,{keyCodeMap:[],validate:function(){return!!(a.rangeSelector&&a.rangeSelector.inputGroup&&a.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&a.options.rangeSelector.inputEnabled!==!1&&a.rangeSelector.minInput&&a.rangeSelector.maxInput)},init:function(f){u.onInputNavInit(f)},terminate:function(){u.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}(function(m){function a(f){let v=this.rangeSelector&&this.rangeSelector.buttons||[],E=this.highlightedRangeSelectorItemIx,A=this.rangeSelector&&this.rangeSelector.selected;return E!==void 0&&v[E]&&E!==A&&v[E].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=f,!!v[f]&&(this.setFocusToElement(v[f].box,v[f].element),f!==A&&(this.oldRangeSelectorItemState=v[f].state,v[f].setState(1)),!0)}function u(){let f=this.chart.accessibility;if(f&&f.components.rangeSelector)return f.components.rangeSelector.onAfterBtnClick()}m.compose=function(f,v){let E=f.prototype;E.highlightRangeSelectorButton||(E.highlightRangeSelectorButton=a,Qi(v,"afterBtnClick",u))}})(Hr||(Hr={}));let ts=Hr,{composed:mt}=R(),{addEvent:ii,merge:Hs,pushUnique:$a}=R();(function(m){function a(D){Hs(!0,D,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function u(D){return D.marker.states&&D.marker.states.normal&&D.marker.states.normal.opacity}function f(D){return!!(D._hasPointMarkers&&D.points&&D.points.length)}function v(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),f(this)&&this.points.forEach(D=>{D.graphic&&(D.graphic[D.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),D.graphic[D.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function E(D){this.resetA11yMarkerOptions=Hs(D.options.marker||{},this.userOptions.marker||{})}function A(){let D=this.options;(function(B){let F=B.chart.options.accessibility.enabled,G=(B.options.accessibility&&B.options.accessibility.enabled)!==!1;return F&&G&&function(X){let V=X.chart.options.accessibility;return X.points.length<V.series.pointDescriptionEnabledThreshold||V.series.pointDescriptionEnabledThreshold===!1}(B)})(this)?(D.marker&&D.marker.enabled===!1&&(this.a11yMarkersForced=!0,a(this.options)),f(this)&&function(B){let F=B.points.length;for(;F--;){let G=B.points[F],X=G.options,V=G.hasForcedA11yMarker;if(delete G.hasForcedA11yMarker,X.marker){let $=V&&u(X)===0;X.marker.enabled&&!$?(Hs(!0,X.marker,{states:{normal:{opacity:u(X)||1}}}),G.hasForcedA11yMarker=!1):X.marker.enabled===!1&&(a(X),G.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(B){let F=B.resetA11yMarkerOptions;if(F){let G=F.states&&F.states.normal&&F.states.normal.opacity;B.userOptions&&B.userOptions.marker&&(B.userOptions.marker.enabled=!0),B.update({marker:{enabled:F.enabled,states:{normal:{opacity:G}}}})}}(this),delete this.resetA11yMarkerOptions)}function O(){this.boosted&&this.a11yMarkersForced&&(Hs(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}m.compose=function(D){$a(mt,"A11y.FM")&&(ii(D,"afterSetOptions",E),ii(D,"render",A),ii(D,"afterRender",v),ii(D,"renderCanvas",O))}})(Ee||(Ee={}));let Ua=Ee;var _n=xt(260),Ci=xt.n(_n),Ka=xt(820),qa=xt.n(Ka);let{seriesTypes:Zn}=Tr(),{doc:Ws}=R(),{defined:Oe,fireEvent:Qn}=R(),{getPointFromXY:_a,getSeriesFromName:Za,scrollAxisToPoint:Qa}=Wt;function Jn(m){let a=m.index,u=m.series.points,f=u.length;if(u[a]===m)return a;for(;f--;)if(u[f]===m)return f}function es(m){let a=m.chart.options.accessibility.keyboardNavigation.seriesNavigation,u=m.options.accessibility||{},f=u.keyboardNavigation;return f&&f.enabled===!1||u.enabled===!1||m.options.enableMouseTracking===!1||!m.visible||a.pointNavigationEnabledThreshold&&+a.pointNavigationEnabledThreshold<=m.points.length}function Oi(m){let a=m.series.chart.options.accessibility,u=m.options.accessibility&&m.options.accessibility.enabled===!1;return m.isNull&&a.keyboardNavigation.seriesNavigation.skipNullPoints||m.visible===!1||m.isInside===!1||u||es(m.series)}function js(m){let a=m.series||[],u=a.length;for(let f=0;f<u;++f)if(!es(a[f])){let v=function(E){let A=E.points||[],O=A.length;for(let D=0;D<O;++D)if(!Oi(A[D]))return A[D];return null}(a[f]);if(v)return v}return null}function to(m){let a=m.series.length,u=!1;for(;a--&&(m.highlightedPoint=m.series[a].points[m.series[a].points.length-1],!(u=m.series[a].highlightNextValidPoint())););return u}function Xs(m){delete m.highlightedPoint;let a=js(m);return!!a&&a.highlight()}class Gs{constructor(a,u){this.keyCodes=u,this.chart=a}init(){let a=this,u=this.chart,f=this.eventProvider=new Hi;f.addEvent(qa(),"destroy",function(){return a.onSeriesDestroy(this)}),f.addEvent(u,"afterApplyDrilldown",function(){(function(v){let E=js(v);E&&E.highlight(!1)})(this)}),f.addEvent(u,"drilldown",function(v){let E=v.point,A=E.series;a.lastDrilledDownPoint={x:E.x,y:E.y,seriesName:A?A.name:""}}),f.addEvent(u,"drillupall",function(){setTimeout(function(){a.onDrillupAll()},10)}),f.addEvent(Ci(),"afterSetState",function(){let v=this.graphic&&this.graphic.element,E=Ws.activeElement,A=E&&E.getAttribute("class"),O=A&&A.indexOf("highcharts-a11y-proxy-element")>-1;u.highlightedPoint===this&&E!==v&&!O&&v&&v.focus&&v.focus()})}onDrillupAll(){let a,u=this.lastDrilledDownPoint,f=this.chart,v=u&&Za(f,u.seriesName);u&&v&&Oe(u.x)&&Oe(u.y)&&(a=_a(v,u.x,u.y)),a=a||js(f),f.container&&f.container.focus(),a&&a.highlight&&a.highlight(!1)}getKeyboardNavigationHandler(){let a=this,u=this.keyCodes,f=this.chart,v=f.inverted;return new fe(f,{keyCodeMap:[[v?[u.up,u.down]:[u.left,u.right],function(E){return a.onKbdSideways(this,E)}],[v?[u.left,u.right]:[u.up,u.down],function(E){return a.onKbdVertical(this,E)}],[[u.enter,u.space],function(E,A){let O=f.highlightedPoint;if(O){let{plotLeft:D,plotTop:B}=this.chart,{plotX:F=0,plotY:G=0}=O;A={...A,chartX:D+F,chartY:B+G,point:O,target:O.graphic?.element||A.target},Qn(O.series,"click",A),O.firePointEvent("click",A)}return this.response.success}],[[u.home],function(){return Xs(f),this.response.success}],[[u.end],function(){return to(f),this.response.success}],[[u.pageDown,u.pageUp],function(E){return f.highlightAdjacentSeries(E===u.pageDown),this.response.success}]],init:function(){return a.onHandlerInit(this)},validate:function(){return!!js(f)},terminate:function(){return a.onHandlerTerminate()}})}onKbdSideways(a,u){let f=this.keyCodes,v=u===f.right||u===f.down;return this.attemptHighlightAdjacentPoint(a,v)}onHandlerInit(a){let u=this.chart;return u.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&u.highlightedPoint?u.highlightedPoint.highlight():Xs(u),a.response.success}onKbdVertical(a,u){let f=this.chart,v=this.keyCodes,E=u===v.down||u===v.right,A=f.options.accessibility.keyboardNavigation.seriesNavigation;if(A.mode&&A.mode==="serialize")return this.attemptHighlightAdjacentPoint(a,E);let O=f.highlightedPoint&&f.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return f[O](E),a.response.success}onHandlerTerminate(){let a=this.chart,u=a.options.accessibility.keyboardNavigation;a.tooltip&&a.tooltip.hide(0);let f=a.highlightedPoint&&a.highlightedPoint.series;f&&f.onMouseOut&&f.onMouseOut(),a.highlightedPoint&&a.highlightedPoint.onMouseOut&&a.highlightedPoint.onMouseOut(),u.seriesNavigation.rememberPointFocus||delete a.highlightedPoint}attemptHighlightAdjacentPoint(a,u){let f=this.chart,v=f.options.accessibility.keyboardNavigation.wrapAround;return f.highlightAdjacentPoint(u)||v&&(u?Xs(f):to(f))?a.response.success:a.response[u?"next":"prev"]}onSeriesDestroy(a){let u=this.chart;u.highlightedPoint&&u.highlightedPoint.series===a&&(delete u.highlightedPoint,u.focusElement&&u.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}(function(m){function a(A){let O,D,B=this.series,F=this.highlightedPoint,G=F&&Jn(F)||0,X=F&&F.series.points||[],V=this.series&&this.series[this.series.length-1],$=V&&V.points&&V.points[V.points.length-1];if(!B[0]||!B[0].points)return!1;if(F){if(O=B[F.series.index+(A?1:-1)],(D=X[G+(A?1:-1)])||!O||(D=O.points[A?0:O.points.length-1]),!D)return!1}else D=A?B[0].points[0]:$;return Oi(D)?(es(O=D.series)?this.highlightedPoint=A?O.points[O.points.length-1]:O.points[0]:this.highlightedPoint=D,this.highlightAdjacentPoint(A)):D.highlight()}function u(A){let O=this.highlightedPoint,D=1/0,B;return!!(Oe(O.plotX)&&Oe(O.plotY))&&(this.series.forEach(F=>{es(F)||F.points.forEach(G=>{if(!Oe(G.plotY)||!Oe(G.plotX)||G===O)return;let X=G.plotY-O.plotY,V=Math.abs(G.plotX-O.plotX),$=Math.abs(X)*Math.abs(X)+V*V*4;F.yAxis&&F.yAxis.reversed&&(X*=-1),!(X<=0&&A||X>=0&&!A||$<5||Oi(G))&&$<D&&(D=$,B=G)})}),!!B&&B.highlight())}function f(A){let O,D,B,F=this.highlightedPoint,G=this.series&&this.series[this.series.length-1],X=G&&G.points&&G.points[G.points.length-1];return this.highlightedPoint?!!((O=this.series[F.series.index+(A?-1:1)])&&(D=function(V,$,_,ft){let dt=1/0,Mt,vt,nt,ot=$.points.length,wt=St=>!(Oe(St.plotX)&&Oe(St.plotY));if(!wt(V)){for(;ot--;)!wt(Mt=$.points[ot])&&(nt=(V.plotX-Mt.plotX)*(V.plotX-Mt.plotX)*4+(V.plotY-Mt.plotY)*(V.plotY-Mt.plotY)*1)<dt&&(dt=nt,vt=ot);return Oe(vt)?$.points[vt]:void 0}}(F,O,0)))&&(es(O)?(D.highlight(),(B=this.highlightAdjacentSeries(A))?B:(F.highlight(),!1)):(D.highlight(),D.series.highlightNextValidPoint())):(O=A?this.series&&this.series[0]:G,!!(D=A?O&&O.points&&O.points[0]:X)&&D.highlight())}function v(A=!0){let O=this.series.chart,D=O.tooltip?.label?.element;!this.isNull&&A?this.onMouseOver():O.tooltip&&O.tooltip.hide(0),Qa(this),this.graphic&&(O.setFocusToElement(this.graphic),!A&&O.focusElement&&O.focusElement.removeFocusBorder()),O.highlightedPoint=this;let B=D?.getBoundingClientRect().top;if(D&&B&&B<0){let F=window.scrollY;window.scrollTo({behavior:"smooth",top:F+B})}return this}function E(){let A=this.chart.highlightedPoint,O=(A&&A.series)===this?Jn(A):0,D=this.points,B=D.length;if(D&&B){for(let F=O;F<B;++F)if(!Oi(D[F]))return D[F].highlight();for(let F=O;F>=0;--F)if(!Oi(D[F]))return D[F].highlight()}return!1}m.compose=function(A,O,D){let B=A.prototype,F=O.prototype,G=D.prototype;B.highlightAdjacentPoint||(B.highlightAdjacentPoint=a,B.highlightAdjacentPointVertical=u,B.highlightAdjacentSeries=f,F.highlight=v,G.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(X=>{Zn[X]&&(Zn[X].prototype.keyboardMoveVertical=!1)}),G.highlightNextValidPoint=E)}})(Gs||(Gs={}));let ye=Gs,{hideSeriesFromAT:Ja}=Wt,{describeSeries:tl}=Br,eo=class extends we{static compose(m,a,u){Is.compose(u),Ua.compose(u),ye.compose(m,a,u)}init(){this.newDataAnnouncer=new Is(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new ye(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let m=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===m.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(m){m.labelBySeries&&m.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(m){(m.options.accessibility&&m.options.accessibility.enabled)!==!1&&m.visible&&m.getPointsCollection().length!==0?tl(m):Ja(m)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}},{unhideChartElementFromAT:io}=Wt,{getFakeMouseEvent:Wr}=Xt,{attr:el,pick:Vs}=R(),il=class extends we{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let m=this,a=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(u=>{m.addEvent(a,u,function(){m.updateProxyOverlays()})})}onChartUpdate(){let m=this.chart,a=this;m.mapNavigation&&m.mapNavigation.navButtons.forEach((u,f)=>{io(m,u.element),a.setMapNavButtonAttrs(u.element,"accessibility.zoom.mapZoom"+(f?"Out":"In"))})}setMapNavButtonAttrs(m,a){let u=this.chart;el(m,{tabindex:-1,role:"button","aria-label":u.langFormat(a,{chart:u})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let m=this.chart;if(this.proxyProvider.clearGroup("zoom"),m.resetZoomButton&&this.createZoomProxyButton(m.resetZoomButton,"resetZoomProxyButton",m.langFormat("accessibility.zoom.resetZoomButton",{chart:m})),m.drillUpButton&&m.breadcrumbs&&m.breadcrumbs.list){let a=m.breadcrumbs.list[m.breadcrumbs.list.length-1];this.createZoomProxyButton(m.drillUpButton,"drillUpProxyButton",m.langFormat("accessibility.drillUpButton",{chart:m,buttonText:m.breadcrumbs.getButtonText(a)}))}}createZoomProxyButton(m,a,u){this[a]=this.proxyProvider.addProxyElement("zoom",{click:m},"button",{"aria-label":u,tabindex:-1})}getMapZoomNavigation(){let m=this.keyCodes,a=this.chart,u=this;return new fe(a,{keyCodeMap:[[[m.up,m.down,m.left,m.right],function(f){return u.onMapKbdArrow(this,f)}],[[m.tab],function(f,v){return u.onMapKbdTab(this,v)}],[[m.space,m.enter],function(){return u.onMapKbdClick(this)}]],validate:function(){return!!(a.mapView&&a.mapNavigation&&a.mapNavigation.navButtons.length)},init:function(f){return u.onMapNavInit(f)}})}onMapKbdArrow(m,a){let u=this.chart,f=this.keyCodes,v=u.container,E=a===f.up||a===f.down,A=a===f.left||a===f.up?1:-1,O=(E?u.plotHeight:u.plotWidth)/10*A,D=10*Math.random(),B={x:v.offsetLeft+u.plotLeft+u.plotWidth/2+D,y:v.offsetTop+u.plotTop+u.plotHeight/2+D},F=E?{x:B.x,y:B.y+O}:{x:B.x+O,y:B.y};return[Wr("mousedown",B),Wr("mousemove",F),Wr("mouseup",F)].forEach(G=>v.dispatchEvent(G)),m.response.success}onMapKbdTab(m,a){let u=this.chart,f=m.response,v=a.shiftKey,E=v&&!this.focusedMapNavButtonIx||!v&&this.focusedMapNavButtonIx;if(u.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),E)return u.mapView&&u.mapView.zoomBy(),f[v?"prev":"next"];this.focusedMapNavButtonIx+=v?-1:1;let A=u.mapNavigation.navButtons[this.focusedMapNavButtonIx];return u.setFocusToElement(A.box,A.element),A.setState(2),f.success}onMapKbdClick(m){let a=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(a),m.response.success}onMapNavInit(m){let a=this.chart,u=a.mapNavigation.navButtons[0],f=a.mapNavigation.navButtons[1],v=m>0?u:f;a.setFocusToElement(v.box,v.element),v.setState(2),this.focusedMapNavButtonIx=m>0?0:1}simpleButtonNavigation(m,a,u){let f=this.keyCodes,v=this,E=this.chart;return new fe(E,{keyCodeMap:[[[f.tab,f.up,f.down,f.left,f.right],function(A,O){let D=A===f.tab&&O.shiftKey||A===f.left||A===f.up;return this.response[D?"prev":"next"]}],[[f.space,f.enter],function(){return Vs(u(this,E),this.response.success)}]],validate:function(){return E[m]&&E[m].box&&v[a].innerElement},init:function(){E.setFocusToElement(E[m].box,v[a].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(m,a){a.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(m,a){return a.drillUp(),m.response.prev}),this.getMapZoomNavigation()]}},{doc:Ys,isMS:sl,win:si}=R(),jr={isHighContrastModeActive:function(){let m=/(Edg)/.test(si.navigator.userAgent);if(si.matchMedia&&m)return si.matchMedia("(-ms-high-contrast: active)").matches;if(sl&&si.getComputedStyle){let a=Ys.createElement("div");a.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",Ys.body.appendChild(a);let u=(a.currentStyle||si.getComputedStyle(a)).backgroundImage;return Ys.body.removeChild(a),u==="none"}return si.matchMedia&&si.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(m){m.highContrastModeActive=!0;let a=m.options.accessibility.highContrastTheme;m.update(a,!1);let u=a.colors?.length>1;m.series.forEach(function(f){let v=a.plotOptions[f.type]||{},E=u&&f.colorIndex!==void 0?a.colors[f.colorIndex]:v.color||"window",A={color:v.color||"windowText",colors:u?a.colors:[v.color||"windowText"],borderColor:v.borderColor||"window",fillColor:E};f.update(A,!1),f.points&&f.points.forEach(function(O){O.options&&O.options.color&&O.update({color:v.color||"windowText",borderColor:v.borderColor||"window"},!1)})}),m.redraw()}},{error:$s,pick:rl}=R();function so(m,a,u){let f=m,v,E=0;for(;E<a.length-1;++E)f=f[v=a[E]]=rl(f[v],{});f[a[a.length-1]]=u}function Ve(m,a,u,f){function v(O,D){return D.reduce(function(B,F){return B[F]},O)}let E=v(m.options,a),A=v(m.options,u);Object.keys(f).forEach(function(O){let D=E[O];D!==void 0&&(so(A,f[O],D),$s(32,!1,m,{[a.join(".")+"."+O]:u.join(".")+"."+f[O].join(".")}))})}let ro=function(m){(function(a){let u=a.options.chart,f=a.options.accessibility||{};["description","typeDescription"].forEach(function(v){u[v]&&(f[v]=u[v],$s(32,!1,a,{[`chart.${v}`]:`use accessibility.${v}`}))})})(m),function(a){a.axes.forEach(function(u){let f=u.options;f&&f.description&&(f.accessibility=f.accessibility||{},f.accessibility.description=f.description,$s(32,!1,a,{"axis.description":"use axis.accessibility.description"}))})}(m),m.series&&function(a){let u={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};a.series.forEach(function(f){Object.keys(u).forEach(function(v){let E=f.options[v];v==="accessibility.pointDescriptionFormatter"&&(E=f.options.accessibility&&f.options.accessibility.pointDescriptionFormatter),E!==void 0&&(so(f.options,u[v],v==="skipKeyboardNavigation"?!E:E),$s(32,!1,a,{[`series.${v}`]:"series."+u[v].join(".")}))})})}(m),Ve(m,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),Ve(m,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),Ve(m,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})},{defaultOptions:nl}=R(),{doc:ol}=R(),{addEvent:Ye,extend:al,fireEvent:Xr,merge:no}=R(),{removeElement:Gr}=Xt;class Vr{constructor(a){this.init(a)}init(a){if(this.chart=a,!ol.addEventListener){this.zombie=!0,this.components={},a.renderTo.setAttribute("aria-hidden",!0);return}ro(a),this.proxyProvider=new Ya(this.chart),this.initComponents(),this.keyboardNavigation=new xr(a,this.components)}initComponents(){let a=this.chart,u=this.proxyProvider,f=a.options.accessibility;this.components={container:new ze,infoRegions:new Zt,legend:new kn,chartMenu:new mr,rangeSelector:new ts,series:new eo,zoom:new il,navigator:new Xn},f.customComponents&&al(this.components,f.customComponents);let v=this.components;this.getComponentOrder().forEach(function(E){v[E].initBase(a,u),v[E].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(a=>a!=="series")):Object.keys(this.components):[]}update(){let a=this.components,u=this.chart,f=u.options.accessibility;Xr(u,"beforeA11yUpdate"),u.types=this.getChartTypes();let v=f.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(v),this.getComponentOrder().forEach(function(E){a[E].onChartUpdate(),Xr(u,"afterA11yComponentUpdate",{name:E,component:a[E]})}),this.keyboardNavigation.update(v),!u.highContrastModeActive&&f.highContrastMode!==!1&&(jr.isHighContrastModeActive()||f.highContrastMode===!0)&&jr.setHighContrastTheme(u),Xr(u,"afterA11yUpdate",{accessibility:this})}destroy(){let a=this.chart||{},u=this.components;Object.keys(u).forEach(function(f){u[f].destroy(),u[f].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),a.announcerContainer&&Gr(a.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),a.renderTo&&a.renderTo.setAttribute("aria-hidden",!0),a.focusElement&&a.focusElement.removeFocusBorder()}getChartTypes(){let a={};return this.chart.series.forEach(function(u){a[u.type]=1}),Object.keys(a)}}(function(m){function a(){this.accessibility&&this.accessibility.destroy()}function u(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let A=this.accessibility;A&&!A.zombie&&(A.proxyProvider.updateProxyElementPositions(),A.getComponentOrder().forEach(function(O){A.components[O].onChartRender()}))}function f(A){let O=A.options.accessibility;O&&(O.customComponents&&(this.options.accessibility.customComponents=O.customComponents,delete O.customComponents),no(!0,this.options.accessibility,O),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function v(){let A=this.accessibility,O=this.options.accessibility,D=this.renderer.boxWrapper.element,B=this.title;if(O&&O.enabled)A&&!A.zombie?A.update():(this.accessibility=A=new m(this),A&&!A.zombie&&A.update(),D.getAttribute("role")==="img"&&D.removeAttribute("role"));else if(A)A.destroy&&A.destroy(),delete this.accessibility;else{this.renderTo.setAttribute("role","img"),this.renderTo.setAttribute("aria-hidden",!1),this.renderTo.setAttribute("aria-label",(B&&B.element.textContent||"").replace(/</g,"&lt;")),D.setAttribute("aria-hidden",!0);let F=document.getElementsByClassName("highcharts-description")[0];F&&(F.setAttribute("aria-hidden",!1),F.classList.remove("highcharts-linked-description"))}}function E(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}m.i18nFormat=zi.i18nFormat,m.compose=function(A,O,D,B,F,G){xr.compose(A),Is.compose(B),kn.compose(A,O),mr.compose(A),eo.compose(A,D,B),zi.compose(A),$o.compose(A,F),G&&ts.compose(A,G);let X=A.prototype;X.updateA11yEnabled||(X.updateA11yEnabled=v,Ye(A,"destroy",a),Ye(A,"render",u),Ye(A,"update",f),["addSeries","init"].forEach(V=>{Ye(A,V,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(V=>{Ye(A,V,function(){let $=this.accessibility;$&&!$.zombie&&$.update()})}),Ye(D,"update",E),["update","updatedData","remove"].forEach(V=>{Ye(B,V,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}})(Vr||(Vr={})),no(!0,nl,{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}},{accessibility:{highContrastTheme:{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}},lang:{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}});let ri=Vr,ge=R();ge.i18nFormat=ri.i18nFormat,ge.A11yChartUtilities=Wt,ge.A11yHTMLUtilities=Xt,ge.AccessibilityComponent=we,ge.KeyboardNavigationHandler=fe,ge.SeriesAccessibilityDescriber=Br,ri.compose(ge.Chart,ge.Legend,ge.Point,ge.Series,ge.SVGElement,ge.RangeSelector);let Yr=R();return Me.default})())});var Wc=Po((rn,Yl)=>{(function(C,d){typeof rn=="object"&&typeof Yl=="object"?Yl.exports=d(C._Highcharts,C._Highcharts.AST):typeof define=="function"&&define.amd?define("highcharts/modules/no-data-to-display",["highcharts/highcharts"],function(x){return d(x,x.AST)}):typeof rn=="object"?rn["highcharts/modules/no-data-to-display"]=d(C._Highcharts,C._Highcharts.AST):C.Highcharts=d(C.Highcharts,C.Highcharts.AST)})(typeof window>"u"?rn:window,(C,d)=>(()=>{"use strict";var x={660:pt=>{pt.exports=d},944:pt=>{pt.exports=C}},T={};function N(pt){var R=T[pt];if(R!==void 0)return R.exports;var Pt=T[pt]={exports:{}};return x[pt](Pt,Pt.exports,N),Pt.exports}N.n=pt=>{var R=pt&&pt.__esModule?()=>pt.default:()=>pt;return N.d(R,{a:R}),R},N.d=(pt,R)=>{for(var Pt in R)N.o(R,Pt)&&!N.o(pt,Pt)&&Object.defineProperty(pt,Pt,{enumerable:!0,get:R[Pt]})},N.o=(pt,R)=>Object.prototype.hasOwnProperty.call(pt,R);var q={};N.d(q,{default:()=>Me});var tt=N(944),ut=N.n(tt),ct=N(660),kt=N.n(ct);let zt={lang:{noData:"No data to display"},noData:{attr:{zIndex:1},position:{x:0,y:0,align:"center",verticalAlign:"middle"},style:{fontWeight:"bold",fontSize:"0.8em",color:"#666666"}}},{addEvent:At,extend:gt,merge:Ht}=ut();function me(){let pt=this.series||[],R=pt.length;for(;R--;)if(pt[R].hasData()&&!pt[R].options.isInternal)return!0;return this.loadingShown}function Ee(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())}function qe(pt){let R=this.options,Pt=pt||R&&R.lang.noData||"",Ut=R&&(R.noData||{});this.renderer&&(this.noDataLabel||(this.noDataLabel=this.renderer.label(Pt,0,0,void 0,void 0,void 0,Ut.useHTML,void 0,"no-data").add()),this.styledMode||this.noDataLabel.attr(kt().filterUserAttributes(Ut.attr||{})).css(Ut.style||{}),this.noDataLabel.align(gt(this.noDataLabel.getBBox(),Ut.position||{}),!1,"plotBox"))}function Ne(){this.hasData()?this.hideNoData():this.showNoData()}let xt=ut();({compose:function(pt,R){let Pt=pt.prototype;Pt.showNoData||(Pt.hasData=me,Pt.hideNoData=Ee,Pt.showNoData=qe,At(pt,"render",Ne),Ht(!0,R,zt))}}).compose(xt.Chart,xt.defaultOptions);let Me=ut();return q.default})())});var jc=Po((nn,$l)=>{(function(C,d){typeof nn=="object"&&typeof $l=="object"?$l.exports=d(C._Highcharts):typeof define=="function"&&define.amd?define("highcharts/themes/high-contrast-dark",["highcharts/highcharts"],function(x){return d(x)}):typeof nn=="object"?nn["highcharts/themes/high-contrast-dark"]=d(C._Highcharts):C.Highcharts=d(C.Highcharts)})(typeof window>"u"?nn:window,C=>(()=>{"use strict";var d,x={944:At=>{At.exports=C}},T={};function N(At){var gt=T[At];if(gt!==void 0)return gt.exports;var Ht=T[At]={exports:{}};return x[At](Ht,Ht.exports,N),Ht.exports}N.n=At=>{var gt=At&&At.__esModule?()=>At.default:()=>At;return N.d(gt,{a:gt}),gt},N.d=(At,gt)=>{for(var Ht in gt)N.o(gt,Ht)&&!N.o(At,Ht)&&Object.defineProperty(At,Ht,{enumerable:!0,get:gt[Ht]})},N.o=(At,gt)=>Object.prototype.hasOwnProperty.call(At,gt);var q={};N.d(q,{default:()=>zt});var tt=N(944),ut=N.n(tt);let{setOptions:ct}=ut();(function(At){let gt="#F0F0F3";At.options={colors:["#67B9EE","#CEEDA5","#9F6AE1","#FEA26E","#6BA48F","#EA3535","#8D96B7","#ECCA15","#20AA09","#E0C3E4"],chart:{backgroundColor:"#1f1f20",plotBorderColor:"#606063"},title:{style:{color:gt}},subtitle:{style:{color:gt}},xAxis:{gridLineColor:"#707073",labels:{style:{color:gt}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:gt}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:gt}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:gt}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:gt}},plotOptions:{series:{dataLabels:{color:gt},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"},map:{nullColor:"#353535"}},legend:{backgroundColor:"transparent",itemStyle:{color:gt},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#D0D0D0"}}},credits:{style:{color:gt}},drilldown:{activeAxisLabelStyle:{color:gt},activeDataLabelStyle:{color:gt}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#eee"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:gt}},select:{fill:"#303030",stroke:"#101010",style:{color:gt}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:gt},labelStyle:{color:gt}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(180,180,255,0.2)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}},At.apply=function(){ct(At.options)}})(d||(d={}));let kt=d;ut().theme=kt.options,kt.apply();let zt=ut();return q.default})())});var tr=Lo(zc()),fm=Lo(Hc()),bm=Lo(Wc()),od=Lo(jc());var Ul=class{constructor(d,x,T){this.eventTarget=d,this.eventName=x,this.eventOptions=T,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(d){this.unorderedBindings.add(d)}bindingDisconnected(d){this.unorderedBindings.delete(d)}handleEvent(d){let x=Fp(d);for(let T of this.bindings){if(x.immediatePropagationStopped)break;T.handleEvent(x)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((d,x)=>{let T=d.index,N=x.index;return T<N?-1:T>N?1:0})}};function Fp(C){if("immediatePropagationStopped"in C)return C;{let{stopImmediatePropagation:d}=C;return Object.assign(C,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,d.call(this)}})}}var Kl=class{constructor(d){this.application=d,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(d=>d.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(d=>d.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((d,x)=>d.concat(Array.from(x.values())),[])}bindingConnected(d){this.fetchEventListenerForBinding(d).bindingConnected(d)}bindingDisconnected(d,x=!1){this.fetchEventListenerForBinding(d).bindingDisconnected(d),x&&this.clearEventListenersForBinding(d)}handleError(d,x,T={}){this.application.handleError(d,`Error ${x}`,T)}clearEventListenersForBinding(d){let x=this.fetchEventListenerForBinding(d);x.hasBindings()||(x.disconnect(),this.removeMappedEventListenerFor(d))}removeMappedEventListenerFor(d){let{eventTarget:x,eventName:T,eventOptions:N}=d,q=this.fetchEventListenerMapForEventTarget(x),tt=this.cacheKey(T,N);q.delete(tt),q.size==0&&this.eventListenerMaps.delete(x)}fetchEventListenerForBinding(d){let{eventTarget:x,eventName:T,eventOptions:N}=d;return this.fetchEventListener(x,T,N)}fetchEventListener(d,x,T){let N=this.fetchEventListenerMapForEventTarget(d),q=this.cacheKey(x,T),tt=N.get(q);return tt||(tt=this.createEventListener(d,x,T),N.set(q,tt)),tt}createEventListener(d,x,T){let N=new Ul(d,x,T);return this.started&&N.connect(),N}fetchEventListenerMapForEventTarget(d){let x=this.eventListenerMaps.get(d);return x||(x=new Map,this.eventListenerMaps.set(d,x)),x}cacheKey(d,x){let T=[d];return Object.keys(x).sort().forEach(N=>{T.push(`${x[N]?"":"!"}${N}`)}),T.join(":")}},Rp={stop({event:C,value:d}){return d&&C.stopPropagation(),!0},prevent({event:C,value:d}){return d&&C.preventDefault(),!0},self({event:C,value:d,element:x}){return d?x===C.target:!0}},zp=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Hp(C){let x=C.trim().match(zp)||[],T=x[2],N=x[3];return N&&!["keydown","keyup","keypress"].includes(T)&&(T+=`.${N}`,N=""),{eventTarget:Wp(x[4]),eventName:T,eventOptions:x[7]?jp(x[7]):{},identifier:x[5],methodName:x[6],keyFilter:x[1]||N}}function Wp(C){if(C=="window")return window;if(C=="document")return document}function jp(C){return C.split(":").reduce((d,x)=>Object.assign(d,{[x.replace(/^!/,"")]:!/^!/.test(x)}),{})}function Xp(C){if(C==window)return"window";if(C==document)return"document"}function fh(C){return C.replace(/(?:[_-])([a-z0-9])/g,(d,x)=>x.toUpperCase())}function ql(C){return fh(C.replace(/--/g,"-").replace(/__/g,"_"))}function an(C){return C.charAt(0).toUpperCase()+C.slice(1)}function Zc(C){return C.replace(/([A-Z])/g,(d,x)=>`-${x.toLowerCase()}`)}function Gp(C){return C.match(/[^\s]+/g)||[]}function Xc(C){return C!=null}function _l(C,d){return Object.prototype.hasOwnProperty.call(C,d)}var Gc=["meta","ctrl","alt","shift"],Zl=class{constructor(d,x,T,N){this.element=d,this.index=x,this.eventTarget=T.eventTarget||d,this.eventName=T.eventName||Vp(d)||Do("missing event name"),this.eventOptions=T.eventOptions||{},this.identifier=T.identifier||Do("missing identifier"),this.methodName=T.methodName||Do("missing method name"),this.keyFilter=T.keyFilter||"",this.schema=N}static forToken(d,x){return new this(d.element,d.index,Hp(d.content),x)}toString(){let d=this.keyFilter?`.${this.keyFilter}`:"",x=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${d}${x}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(d){if(!this.keyFilter)return!1;let x=this.keyFilter.split("+");if(this.keyFilterDissatisfied(d,x))return!0;let T=x.filter(N=>!Gc.includes(N))[0];return T?(_l(this.keyMappings,T)||Do(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[T].toLowerCase()!==d.key.toLowerCase()):!1}shouldIgnoreMouseEvent(d){if(!this.keyFilter)return!1;let x=[this.keyFilter];return!!this.keyFilterDissatisfied(d,x)}get params(){let d={},x=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:T,value:N}of Array.from(this.element.attributes)){let q=T.match(x),tt=q&&q[1];tt&&(d[fh(tt)]=Yp(N))}return d}get eventTargetName(){return Xp(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(d,x){let[T,N,q,tt]=Gc.map(ut=>x.includes(ut));return d.metaKey!==T||d.ctrlKey!==N||d.altKey!==q||d.shiftKey!==tt}},Vc={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:C=>C.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Vp(C){let d=C.tagName.toLowerCase();if(d in Vc)return Vc[d](C)}function Do(C){throw new Error(C)}function Yp(C){try{return JSON.parse(C)}catch{return C}}var Ql=class{constructor(d,x){this.context=d,this.action=x}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(d){let x=this.prepareActionEvent(d);this.willBeInvokedByEvent(d)&&this.applyEventModifiers(x)&&this.invokeWithEvent(x)}get eventName(){return this.action.eventName}get method(){let d=this.controller[this.methodName];if(typeof d=="function")return d;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(d){let{element:x}=this.action,{actionDescriptorFilters:T}=this.context.application,{controller:N}=this.context,q=!0;for(let[tt,ut]of Object.entries(this.eventOptions))if(tt in T){let ct=T[tt];q=q&&ct({name:tt,value:ut,event:d,element:x,controller:N})}else continue;return q}prepareActionEvent(d){return Object.assign(d,{params:this.action.params})}invokeWithEvent(d){let{target:x,currentTarget:T}=d;try{this.method.call(this.controller,d),this.context.logDebugActivity(this.methodName,{event:d,target:x,currentTarget:T,action:this.methodName})}catch(N){let{identifier:q,controller:tt,element:ut,index:ct}=this,kt={identifier:q,controller:tt,element:ut,index:ct,event:d};this.context.handleError(N,`invoking action "${this.action}"`,kt)}}willBeInvokedByEvent(d){let x=d.target;return d instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(d)||d instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(d)?!1:this.element===x?!0:x instanceof Element&&this.element.contains(x)?this.scope.containsElement(x):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Bo=class{constructor(d,x){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=d,this.started=!1,this.delegate=x,this.elements=new Set,this.mutationObserver=new MutationObserver(T=>this.processMutations(T))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(d){this.started&&(this.mutationObserver.disconnect(),this.started=!1),d(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let d=new Set(this.matchElementsInTree());for(let x of Array.from(this.elements))d.has(x)||this.removeElement(x);for(let x of Array.from(d))this.addElement(x)}}processMutations(d){if(this.started)for(let x of d)this.processMutation(x)}processMutation(d){d.type=="attributes"?this.processAttributeChange(d.target,d.attributeName):d.type=="childList"&&(this.processRemovedNodes(d.removedNodes),this.processAddedNodes(d.addedNodes))}processAttributeChange(d,x){this.elements.has(d)?this.delegate.elementAttributeChanged&&this.matchElement(d)?this.delegate.elementAttributeChanged(d,x):this.removeElement(d):this.matchElement(d)&&this.addElement(d)}processRemovedNodes(d){for(let x of Array.from(d)){let T=this.elementFromNode(x);T&&this.processTree(T,this.removeElement)}}processAddedNodes(d){for(let x of Array.from(d)){let T=this.elementFromNode(x);T&&this.elementIsActive(T)&&this.processTree(T,this.addElement)}}matchElement(d){return this.delegate.matchElement(d)}matchElementsInTree(d=this.element){return this.delegate.matchElementsInTree(d)}processTree(d,x){for(let T of this.matchElementsInTree(d))x.call(this,T)}elementFromNode(d){if(d.nodeType==Node.ELEMENT_NODE)return d}elementIsActive(d){return d.isConnected!=this.element.isConnected?!1:this.element.contains(d)}addElement(d){this.elements.has(d)||this.elementIsActive(d)&&(this.elements.add(d),this.delegate.elementMatched&&this.delegate.elementMatched(d))}removeElement(d){this.elements.has(d)&&(this.elements.delete(d),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(d))}},No=class{constructor(d,x,T){this.attributeName=x,this.delegate=T,this.elementObserver=new Bo(d,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(d){this.elementObserver.pause(d)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(d){return d.hasAttribute(this.attributeName)}matchElementsInTree(d){let x=this.matchElement(d)?[d]:[],T=Array.from(d.querySelectorAll(this.selector));return x.concat(T)}elementMatched(d){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(d,this.attributeName)}elementUnmatched(d){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(d,this.attributeName)}elementAttributeChanged(d,x){this.delegate.elementAttributeValueChanged&&this.attributeName==x&&this.delegate.elementAttributeValueChanged(d,x)}};function $p(C,d,x){Qc(C,d).add(x)}function Up(C,d,x){Qc(C,d).delete(x),Kp(C,d)}function Qc(C,d){let x=C.get(d);return x||(x=new Set,C.set(d,x)),x}function Kp(C,d){let x=C.get(d);x!=null&&x.size==0&&C.delete(d)}var li=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((x,T)=>x.concat(Array.from(T)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((x,T)=>x+T.size,0)}add(d,x){$p(this.valuesByKey,d,x)}delete(d,x){Up(this.valuesByKey,d,x)}has(d,x){let T=this.valuesByKey.get(d);return T!=null&&T.has(x)}hasKey(d){return this.valuesByKey.has(d)}hasValue(d){return Array.from(this.valuesByKey.values()).some(T=>T.has(d))}getValuesForKey(d){let x=this.valuesByKey.get(d);return x?Array.from(x):[]}getKeysForValue(d){return Array.from(this.valuesByKey).filter(([x,T])=>T.has(d)).map(([x,T])=>x)}};var Jl=class{constructor(d,x,T,N){this._selector=x,this.details=N,this.elementObserver=new Bo(d,this),this.delegate=T,this.matchesByElement=new li}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(d){this._selector=d,this.refresh()}start(){this.elementObserver.start()}pause(d){this.elementObserver.pause(d)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(d){let{selector:x}=this;if(x){let T=d.matches(x);return this.delegate.selectorMatchElement?T&&this.delegate.selectorMatchElement(d,this.details):T}else return!1}matchElementsInTree(d){let{selector:x}=this;if(x){let T=this.matchElement(d)?[d]:[],N=Array.from(d.querySelectorAll(x)).filter(q=>this.matchElement(q));return T.concat(N)}else return[]}elementMatched(d){let{selector:x}=this;x&&this.selectorMatched(d,x)}elementUnmatched(d){let x=this.matchesByElement.getKeysForValue(d);for(let T of x)this.selectorUnmatched(d,T)}elementAttributeChanged(d,x){let{selector:T}=this;if(T){let N=this.matchElement(d),q=this.matchesByElement.has(T,d);N&&!q?this.selectorMatched(d,T):!N&&q&&this.selectorUnmatched(d,T)}}selectorMatched(d,x){this.delegate.selectorMatched(d,x,this.details),this.matchesByElement.add(x,d)}selectorUnmatched(d,x){this.delegate.selectorUnmatched(d,x,this.details),this.matchesByElement.delete(x,d)}},th=class{constructor(d,x){this.element=d,this.delegate=x,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(T=>this.processMutations(T))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let d of this.knownAttributeNames)this.refreshAttribute(d,null)}processMutations(d){if(this.started)for(let x of d)this.processMutation(x)}processMutation(d){let x=d.attributeName;x&&this.refreshAttribute(x,d.oldValue)}refreshAttribute(d,x){let T=this.delegate.getStringMapKeyForAttribute(d);if(T!=null){this.stringMap.has(d)||this.stringMapKeyAdded(T,d);let N=this.element.getAttribute(d);if(this.stringMap.get(d)!=N&&this.stringMapValueChanged(N,T,x),N==null){let q=this.stringMap.get(d);this.stringMap.delete(d),q&&this.stringMapKeyRemoved(T,d,q)}else this.stringMap.set(d,N)}}stringMapKeyAdded(d,x){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(d,x)}stringMapValueChanged(d,x,T){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(d,x,T)}stringMapKeyRemoved(d,x,T){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(d,x,T)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(d=>d.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Io=class{constructor(d,x,T){this.attributeObserver=new No(d,x,this),this.delegate=T,this.tokensByElement=new li}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(d){this.attributeObserver.pause(d)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(d){this.tokensMatched(this.readTokensForElement(d))}elementAttributeValueChanged(d){let[x,T]=this.refreshTokensForElement(d);this.tokensUnmatched(x),this.tokensMatched(T)}elementUnmatchedAttribute(d){this.tokensUnmatched(this.tokensByElement.getValuesForKey(d))}tokensMatched(d){d.forEach(x=>this.tokenMatched(x))}tokensUnmatched(d){d.forEach(x=>this.tokenUnmatched(x))}tokenMatched(d){this.delegate.tokenMatched(d),this.tokensByElement.add(d.element,d)}tokenUnmatched(d){this.delegate.tokenUnmatched(d),this.tokensByElement.delete(d.element,d)}refreshTokensForElement(d){let x=this.tokensByElement.getValuesForKey(d),T=this.readTokensForElement(d),N=_p(x,T).findIndex(([q,tt])=>!Zp(q,tt));return N==-1?[[],[]]:[x.slice(N),T.slice(N)]}readTokensForElement(d){let x=this.attributeName,T=d.getAttribute(x)||"";return qp(T,d,x)}};function qp(C,d,x){return C.trim().split(/\s+/).filter(T=>T.length).map((T,N)=>({element:d,attributeName:x,content:T,index:N}))}function _p(C,d){let x=Math.max(C.length,d.length);return Array.from({length:x},(T,N)=>[C[N],d[N]])}function Zp(C,d){return C&&d&&C.index==d.index&&C.content==d.content}var Fo=class{constructor(d,x,T){this.tokenListObserver=new Io(d,x,this),this.delegate=T,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(d){let{element:x}=d,{value:T}=this.fetchParseResultForToken(d);T&&(this.fetchValuesByTokenForElement(x).set(d,T),this.delegate.elementMatchedValue(x,T))}tokenUnmatched(d){let{element:x}=d,{value:T}=this.fetchParseResultForToken(d);T&&(this.fetchValuesByTokenForElement(x).delete(d),this.delegate.elementUnmatchedValue(x,T))}fetchParseResultForToken(d){let x=this.parseResultsByToken.get(d);return x||(x=this.parseToken(d),this.parseResultsByToken.set(d,x)),x}fetchValuesByTokenForElement(d){let x=this.valuesByTokenByElement.get(d);return x||(x=new Map,this.valuesByTokenByElement.set(d,x)),x}parseToken(d){try{return{value:this.delegate.parseValueForToken(d)}}catch(x){return{error:x}}}},eh=class{constructor(d,x){this.context=d,this.delegate=x,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Fo(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(d){let x=new Ql(this.context,d);this.bindingsByAction.set(d,x),this.delegate.bindingConnected(x)}disconnectAction(d){let x=this.bindingsByAction.get(d);x&&(this.bindingsByAction.delete(d),this.delegate.bindingDisconnected(x))}disconnectAllActions(){this.bindings.forEach(d=>this.delegate.bindingDisconnected(d,!0)),this.bindingsByAction.clear()}parseValueForToken(d){let x=Zl.forToken(d,this.schema);if(x.identifier==this.identifier)return x}elementMatchedValue(d,x){this.connectAction(x)}elementUnmatchedValue(d,x){this.disconnectAction(x)}},ih=class{constructor(d,x){this.context=d,this.receiver=x,this.stringMapObserver=new th(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(d){if(d in this.valueDescriptorMap)return this.valueDescriptorMap[d].name}stringMapKeyAdded(d,x){let T=this.valueDescriptorMap[x];this.hasValue(d)||this.invokeChangedCallback(d,T.writer(this.receiver[d]),T.writer(T.defaultValue))}stringMapValueChanged(d,x,T){let N=this.valueDescriptorNameMap[x];d!==null&&(T===null&&(T=N.writer(N.defaultValue)),this.invokeChangedCallback(x,d,T))}stringMapKeyRemoved(d,x,T){let N=this.valueDescriptorNameMap[d];this.hasValue(d)?this.invokeChangedCallback(d,N.writer(this.receiver[d]),T):this.invokeChangedCallback(d,N.writer(N.defaultValue),T)}invokeChangedCallbacksForDefaultValues(){for(let{key:d,name:x,defaultValue:T,writer:N}of this.valueDescriptors)T!=null&&!this.controller.data.has(d)&&this.invokeChangedCallback(x,N(T),void 0)}invokeChangedCallback(d,x,T){let N=`${d}Changed`,q=this.receiver[N];if(typeof q=="function"){let tt=this.valueDescriptorNameMap[d];try{let ut=tt.reader(x),ct=T;T&&(ct=tt.reader(T)),q.call(this.receiver,ut,ct)}catch(ut){throw ut instanceof TypeError&&(ut.message=`Stimulus Value "${this.context.identifier}.${tt.name}" - ${ut.message}`),ut}}}get valueDescriptors(){let{valueDescriptorMap:d}=this;return Object.keys(d).map(x=>d[x])}get valueDescriptorNameMap(){let d={};return Object.keys(this.valueDescriptorMap).forEach(x=>{let T=this.valueDescriptorMap[x];d[T.name]=T}),d}hasValue(d){let x=this.valueDescriptorNameMap[d],T=`has${an(x.name)}`;return this.receiver[T]}},sh=class{constructor(d,x){this.context=d,this.delegate=x,this.targetsByName=new li}start(){this.tokenListObserver||(this.tokenListObserver=new Io(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:d,content:x}){this.scope.containsElement(d)&&this.connectTarget(d,x)}tokenUnmatched({element:d,content:x}){this.disconnectTarget(d,x)}connectTarget(d,x){var T;this.targetsByName.has(x,d)||(this.targetsByName.add(x,d),(T=this.tokenListObserver)===null||T===void 0||T.pause(()=>this.delegate.targetConnected(d,x)))}disconnectTarget(d,x){var T;this.targetsByName.has(x,d)&&(this.targetsByName.delete(x,d),(T=this.tokenListObserver)===null||T===void 0||T.pause(()=>this.delegate.targetDisconnected(d,x)))}disconnectAllTargets(){for(let d of this.targetsByName.keys)for(let x of this.targetsByName.getValuesForKey(d))this.disconnectTarget(x,d)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function ln(C,d){let x=Jc(C);return Array.from(x.reduce((T,N)=>(Jp(N,d).forEach(q=>T.add(q)),T),new Set))}function Qp(C,d){return Jc(C).reduce((T,N)=>(T.push(...tg(N,d)),T),[])}function Jc(C){let d=[];for(;C;)d.push(C),C=Object.getPrototypeOf(C);return d.reverse()}function Jp(C,d){let x=C[d];return Array.isArray(x)?x:[]}function tg(C,d){let x=C[d];return x?Object.keys(x).map(T=>[T,x[T]]):[]}var rh=class{constructor(d,x){this.started=!1,this.context=d,this.delegate=x,this.outletsByName=new li,this.outletElementsByName=new li,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(d=>{this.setupSelectorObserverForOutlet(d),this.setupAttributeObserverForOutlet(d)}),this.started=!0,this.dependentContexts.forEach(d=>d.refresh()))}refresh(){this.selectorObserverMap.forEach(d=>d.refresh()),this.attributeObserverMap.forEach(d=>d.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(d=>d.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(d=>d.stop()),this.attributeObserverMap.clear())}selectorMatched(d,x,{outletName:T}){let N=this.getOutlet(d,T);N&&this.connectOutlet(N,d,T)}selectorUnmatched(d,x,{outletName:T}){let N=this.getOutletFromMap(d,T);N&&this.disconnectOutlet(N,d,T)}selectorMatchElement(d,{outletName:x}){let T=this.selector(x),N=this.hasOutlet(d,x),q=d.matches(`[${this.schema.controllerAttribute}~=${x}]`);return T?N&&q&&d.matches(T):!1}elementMatchedAttribute(d,x){let T=this.getOutletNameFromOutletAttributeName(x);T&&this.updateSelectorObserverForOutlet(T)}elementAttributeValueChanged(d,x){let T=this.getOutletNameFromOutletAttributeName(x);T&&this.updateSelectorObserverForOutlet(T)}elementUnmatchedAttribute(d,x){let T=this.getOutletNameFromOutletAttributeName(x);T&&this.updateSelectorObserverForOutlet(T)}connectOutlet(d,x,T){var N;this.outletElementsByName.has(T,x)||(this.outletsByName.add(T,d),this.outletElementsByName.add(T,x),(N=this.selectorObserverMap.get(T))===null||N===void 0||N.pause(()=>this.delegate.outletConnected(d,x,T)))}disconnectOutlet(d,x,T){var N;this.outletElementsByName.has(T,x)&&(this.outletsByName.delete(T,d),this.outletElementsByName.delete(T,x),(N=this.selectorObserverMap.get(T))===null||N===void 0||N.pause(()=>this.delegate.outletDisconnected(d,x,T)))}disconnectAllOutlets(){for(let d of this.outletElementsByName.keys)for(let x of this.outletElementsByName.getValuesForKey(d))for(let T of this.outletsByName.getValuesForKey(d))this.disconnectOutlet(T,x,d)}updateSelectorObserverForOutlet(d){let x=this.selectorObserverMap.get(d);x&&(x.selector=this.selector(d))}setupSelectorObserverForOutlet(d){let x=this.selector(d),T=new Jl(document.body,x,this,{outletName:d});this.selectorObserverMap.set(d,T),T.start()}setupAttributeObserverForOutlet(d){let x=this.attributeNameForOutletName(d),T=new No(this.scope.element,x,this);this.attributeObserverMap.set(d,T),T.start()}selector(d){return this.scope.outlets.getSelectorForOutletName(d)}attributeNameForOutletName(d){return this.scope.schema.outletAttributeForScope(this.identifier,d)}getOutletNameFromOutletAttributeName(d){return this.outletDefinitions.find(x=>this.attributeNameForOutletName(x)===d)}get outletDependencies(){let d=new li;return this.router.modules.forEach(x=>{let T=x.definition.controllerConstructor;ln(T,"outlets").forEach(q=>d.add(q,x.identifier))}),d}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let d=this.dependentControllerIdentifiers;return this.router.contexts.filter(x=>d.includes(x.identifier))}hasOutlet(d,x){return!!this.getOutlet(d,x)||!!this.getOutletFromMap(d,x)}getOutlet(d,x){return this.application.getControllerForElementAndIdentifier(d,x)}getOutletFromMap(d,x){return this.outletsByName.getValuesForKey(x).find(T=>T.element===d)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},nh=class{constructor(d,x){this.logDebugActivity=(T,N={})=>{let{identifier:q,controller:tt,element:ut}=this;N=Object.assign({identifier:q,controller:tt,element:ut},N),this.application.logDebugActivity(this.identifier,T,N)},this.module=d,this.scope=x,this.controller=new d.controllerConstructor(this),this.bindingObserver=new eh(this,this.dispatcher),this.valueObserver=new ih(this,this.controller),this.targetObserver=new sh(this,this),this.outletObserver=new rh(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(T){this.handleError(T,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(d){this.handleError(d,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(d){this.handleError(d,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(d,x,T={}){let{identifier:N,controller:q,element:tt}=this;T=Object.assign({identifier:N,controller:q,element:tt},T),this.application.handleError(d,`Error ${x}`,T)}targetConnected(d,x){this.invokeControllerMethod(`${x}TargetConnected`,d)}targetDisconnected(d,x){this.invokeControllerMethod(`${x}TargetDisconnected`,d)}outletConnected(d,x,T){this.invokeControllerMethod(`${ql(T)}OutletConnected`,d,x)}outletDisconnected(d,x,T){this.invokeControllerMethod(`${ql(T)}OutletDisconnected`,d,x)}invokeControllerMethod(d,...x){let T=this.controller;typeof T[d]=="function"&&T[d](...x)}};function eg(C){return ig(C,sg(C))}function ig(C,d){let x=ag(C),T=rg(C.prototype,d);return Object.defineProperties(x.prototype,T),x}function sg(C){return ln(C,"blessings").reduce((x,T)=>{let N=T(C);for(let q in N){let tt=x[q]||{};x[q]=Object.assign(tt,N[q])}return x},{})}function rg(C,d){return og(d).reduce((x,T)=>{let N=ng(C,d,T);return N&&Object.assign(x,{[T]:N}),x},{})}function ng(C,d,x){let T=Object.getOwnPropertyDescriptor(C,x);if(!(T&&"value"in T)){let q=Object.getOwnPropertyDescriptor(d,x).value;return T&&(q.get=T.get||q.get,q.set=T.set||q.set),q}}var og=typeof Object.getOwnPropertySymbols=="function"?C=>[...Object.getOwnPropertyNames(C),...Object.getOwnPropertySymbols(C)]:Object.getOwnPropertyNames,ag=(()=>{function C(x){function T(){return Reflect.construct(x,arguments,new.target)}return T.prototype=Object.create(x.prototype,{constructor:{value:T}}),Reflect.setPrototypeOf(T,x),T}function d(){let T=C(function(){this.a.call(this)});return T.prototype.a=function(){},new T}try{return d(),C}catch{return T=>class extends T{}}})();function lg(C){return{identifier:C.identifier,controllerConstructor:eg(C.controllerConstructor)}}var oh=class{constructor(d,x){this.application=d,this.definition=lg(x),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(d){let x=this.fetchContextForScope(d);this.connectedContexts.add(x),x.connect()}disconnectContextForScope(d){let x=this.contextsByScope.get(d);x&&(this.connectedContexts.delete(x),x.disconnect())}fetchContextForScope(d){let x=this.contextsByScope.get(d);return x||(x=new nh(this,d),this.contextsByScope.set(d,x)),x}},ah=class{constructor(d){this.scope=d}has(d){return this.data.has(this.getDataKey(d))}get(d){return this.getAll(d)[0]}getAll(d){let x=this.data.get(this.getDataKey(d))||"";return Gp(x)}getAttributeName(d){return this.data.getAttributeNameForKey(this.getDataKey(d))}getDataKey(d){return`${d}-class`}get data(){return this.scope.data}},lh=class{constructor(d){this.scope=d}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(d){let x=this.getAttributeNameForKey(d);return this.element.getAttribute(x)}set(d,x){let T=this.getAttributeNameForKey(d);return this.element.setAttribute(T,x),this.get(d)}has(d){let x=this.getAttributeNameForKey(d);return this.element.hasAttribute(x)}delete(d){if(this.has(d)){let x=this.getAttributeNameForKey(d);return this.element.removeAttribute(x),!0}else return!1}getAttributeNameForKey(d){return`data-${this.identifier}-${Zc(d)}`}},hh=class{constructor(d){this.warnedKeysByObject=new WeakMap,this.logger=d}warn(d,x,T){let N=this.warnedKeysByObject.get(d);N||(N=new Set,this.warnedKeysByObject.set(d,N)),N.has(x)||(N.add(x),this.logger.warn(T,d))}};function ch(C,d){return`[${C}~="${d}"]`}var dh=class{constructor(d){this.scope=d}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(d){return this.find(d)!=null}find(...d){return d.reduce((x,T)=>x||this.findTarget(T)||this.findLegacyTarget(T),void 0)}findAll(...d){return d.reduce((x,T)=>[...x,...this.findAllTargets(T),...this.findAllLegacyTargets(T)],[])}findTarget(d){let x=this.getSelectorForTargetName(d);return this.scope.findElement(x)}findAllTargets(d){let x=this.getSelectorForTargetName(d);return this.scope.findAllElements(x)}getSelectorForTargetName(d){let x=this.schema.targetAttributeForScope(this.identifier);return ch(x,d)}findLegacyTarget(d){let x=this.getLegacySelectorForTargetName(d);return this.deprecate(this.scope.findElement(x),d)}findAllLegacyTargets(d){let x=this.getLegacySelectorForTargetName(d);return this.scope.findAllElements(x).map(T=>this.deprecate(T,d))}getLegacySelectorForTargetName(d){let x=`${this.identifier}.${d}`;return ch(this.schema.targetAttribute,x)}deprecate(d,x){if(d){let{identifier:T}=this,N=this.schema.targetAttribute,q=this.schema.targetAttributeForScope(T);this.guide.warn(d,`target:${x}`,`Please replace ${N}="${T}.${x}" with ${q}="${x}". The ${N} attribute is deprecated and will be removed in a future version of Stimulus.`)}return d}get guide(){return this.scope.guide}},uh=class{constructor(d,x){this.scope=d,this.controllerElement=x}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(d){return this.find(d)!=null}find(...d){return d.reduce((x,T)=>x||this.findOutlet(T),void 0)}findAll(...d){return d.reduce((x,T)=>[...x,...this.findAllOutlets(T)],[])}getSelectorForOutletName(d){let x=this.schema.outletAttributeForScope(this.identifier,d);return this.controllerElement.getAttribute(x)}findOutlet(d){let x=this.getSelectorForOutletName(d);if(x)return this.findElement(x,d)}findAllOutlets(d){let x=this.getSelectorForOutletName(d);return x?this.findAllElements(x,d):[]}findElement(d,x){return this.scope.queryElements(d).filter(N=>this.matchesElement(N,d,x))[0]}findAllElements(d,x){return this.scope.queryElements(d).filter(N=>this.matchesElement(N,d,x))}matchesElement(d,x,T){let N=d.getAttribute(this.scope.schema.controllerAttribute)||"";return d.matches(x)&&N.split(" ").includes(T)}},ph=class C{constructor(d,x,T,N){this.targets=new dh(this),this.classes=new ah(this),this.data=new lh(this),this.containsElement=q=>q.closest(this.controllerSelector)===this.element,this.schema=d,this.element=x,this.identifier=T,this.guide=new hh(N),this.outlets=new uh(this.documentScope,x)}findElement(d){return this.element.matches(d)?this.element:this.queryElements(d).find(this.containsElement)}findAllElements(d){return[...this.element.matches(d)?[this.element]:[],...this.queryElements(d).filter(this.containsElement)]}queryElements(d){return Array.from(this.element.querySelectorAll(d))}get controllerSelector(){return ch(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new C(this.schema,document.documentElement,this.identifier,this.guide.logger)}},gh=class{constructor(d,x,T){this.element=d,this.schema=x,this.delegate=T,this.valueListObserver=new Fo(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(d){let{element:x,content:T}=d;return this.parseValueForElementAndIdentifier(x,T)}parseValueForElementAndIdentifier(d,x){let T=this.fetchScopesByIdentifierForElement(d),N=T.get(x);return N||(N=this.delegate.createScopeForElementAndIdentifier(d,x),T.set(x,N)),N}elementMatchedValue(d,x){let T=(this.scopeReferenceCounts.get(x)||0)+1;this.scopeReferenceCounts.set(x,T),T==1&&this.delegate.scopeConnected(x)}elementUnmatchedValue(d,x){let T=this.scopeReferenceCounts.get(x);T&&(this.scopeReferenceCounts.set(x,T-1),T==1&&this.delegate.scopeDisconnected(x))}fetchScopesByIdentifierForElement(d){let x=this.scopesByIdentifierByElement.get(d);return x||(x=new Map,this.scopesByIdentifierByElement.set(d,x)),x}},mh=class{constructor(d){this.application=d,this.scopeObserver=new gh(this.element,this.schema,this),this.scopesByIdentifier=new li,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((d,x)=>d.concat(x.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(d){this.unloadIdentifier(d.identifier);let x=new oh(this.application,d);this.connectModule(x);let T=d.controllerConstructor.afterLoad;T&&T.call(d.controllerConstructor,d.identifier,this.application)}unloadIdentifier(d){let x=this.modulesByIdentifier.get(d);x&&this.disconnectModule(x)}getContextForElementAndIdentifier(d,x){let T=this.modulesByIdentifier.get(x);if(T)return T.contexts.find(N=>N.element==d)}proposeToConnectScopeForElementAndIdentifier(d,x){let T=this.scopeObserver.parseValueForElementAndIdentifier(d,x);T?this.scopeObserver.elementMatchedValue(T.element,T):console.error(`Couldn't find or create scope for identifier: "${x}" and element:`,d)}handleError(d,x,T){this.application.handleError(d,x,T)}createScopeForElementAndIdentifier(d,x){return new ph(this.schema,d,x,this.logger)}scopeConnected(d){this.scopesByIdentifier.add(d.identifier,d);let x=this.modulesByIdentifier.get(d.identifier);x&&x.connectContextForScope(d)}scopeDisconnected(d){this.scopesByIdentifier.delete(d.identifier,d);let x=this.modulesByIdentifier.get(d.identifier);x&&x.disconnectContextForScope(d)}connectModule(d){this.modulesByIdentifier.set(d.identifier,d),this.scopesByIdentifier.getValuesForKey(d.identifier).forEach(T=>d.connectContextForScope(T))}disconnectModule(d){this.modulesByIdentifier.delete(d.identifier),this.scopesByIdentifier.getValuesForKey(d.identifier).forEach(T=>d.disconnectContextForScope(T))}},hg={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:C=>`data-${C}-target`,outletAttributeForScope:(C,d)=>`data-${C}-${d}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Yc("abcdefghijklmnopqrstuvwxyz".split("").map(C=>[C,C]))),Yc("0123456789".split("").map(C=>[C,C])))};function Yc(C){return C.reduce((d,[x,T])=>Object.assign(Object.assign({},d),{[x]:T}),{})}var Ro=class{constructor(d=document.documentElement,x=hg){this.logger=console,this.debug=!1,this.logDebugActivity=(T,N,q={})=>{this.debug&&this.logFormattedMessage(T,N,q)},this.element=d,this.schema=x,this.dispatcher=new Kl(this),this.router=new mh(this),this.actionDescriptorFilters=Object.assign({},Rp)}static start(d,x){let T=new this(d,x);return T.start(),T}async start(){await cg(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(d,x){this.load({identifier:d,controllerConstructor:x})}registerActionOption(d,x){this.actionDescriptorFilters[d]=x}load(d,...x){(Array.isArray(d)?d:[d,...x]).forEach(N=>{N.controllerConstructor.shouldLoad&&this.router.loadDefinition(N)})}unload(d,...x){(Array.isArray(d)?d:[d,...x]).forEach(N=>this.router.unloadIdentifier(N))}get controllers(){return this.router.contexts.map(d=>d.controller)}getControllerForElementAndIdentifier(d,x){let T=this.router.getContextForElementAndIdentifier(d,x);return T?T.controller:null}handleError(d,x,T){var N;this.logger.error(`%s

%o

%o`,x,d,T),(N=window.onerror)===null||N===void 0||N.call(window,x,"",0,0,d)}logFormattedMessage(d,x,T={}){T=Object.assign({application:this},T),this.logger.groupCollapsed(`${d} #${x}`),this.logger.log("details:",Object.assign({},T)),this.logger.groupEnd()}};function cg(){return new Promise(C=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>C()):C()})}function dg(C){return ln(C,"classes").reduce((x,T)=>Object.assign(x,ug(T)),{})}function ug(C){return{[`${C}Class`]:{get(){let{classes:d}=this;if(d.has(C))return d.get(C);{let x=d.getAttributeName(C);throw new Error(`Missing attribute "${x}"`)}}},[`${C}Classes`]:{get(){return this.classes.getAll(C)}},[`has${an(C)}Class`]:{get(){return this.classes.has(C)}}}}function pg(C){return ln(C,"outlets").reduce((x,T)=>Object.assign(x,gg(T)),{})}function $c(C,d,x){return C.application.getControllerForElementAndIdentifier(d,x)}function Uc(C,d,x){let T=$c(C,d,x);if(T||(C.application.router.proposeToConnectScopeForElementAndIdentifier(d,x),T=$c(C,d,x),T))return T}function gg(C){let d=ql(C);return{[`${d}Outlet`]:{get(){let x=this.outlets.find(C),T=this.outlets.getSelectorForOutletName(C);if(x){let N=Uc(this,x,C);if(N)return N;throw new Error(`The provided outlet element is missing an outlet controller "${C}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${C}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${T}".`)}},[`${d}Outlets`]:{get(){let x=this.outlets.findAll(C);return x.length>0?x.map(T=>{let N=Uc(this,T,C);if(N)return N;console.warn(`The provided outlet element is missing an outlet controller "${C}" instance for host controller "${this.identifier}"`,T)}).filter(T=>T):[]}},[`${d}OutletElement`]:{get(){let x=this.outlets.find(C),T=this.outlets.getSelectorForOutletName(C);if(x)return x;throw new Error(`Missing outlet element "${C}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${T}".`)}},[`${d}OutletElements`]:{get(){return this.outlets.findAll(C)}},[`has${an(d)}Outlet`]:{get(){return this.outlets.has(C)}}}}function mg(C){return ln(C,"targets").reduce((x,T)=>Object.assign(x,fg(T)),{})}function fg(C){return{[`${C}Target`]:{get(){let d=this.targets.find(C);if(d)return d;throw new Error(`Missing target element "${C}" for "${this.identifier}" controller`)}},[`${C}Targets`]:{get(){return this.targets.findAll(C)}},[`has${an(C)}Target`]:{get(){return this.targets.has(C)}}}}function bg(C){let d=Qp(C,"values"),x={valueDescriptorMap:{get(){return d.reduce((T,N)=>{let q=td(N,this.identifier),tt=this.data.getAttributeNameForKey(q.key);return Object.assign(T,{[tt]:q})},{})}}};return d.reduce((T,N)=>Object.assign(T,xg(N)),x)}function xg(C,d){let x=td(C,d),{key:T,name:N,reader:q,writer:tt}=x;return{[N]:{get(){let ut=this.data.get(T);return ut!==null?q(ut):x.defaultValue},set(ut){ut===void 0?this.data.delete(T):this.data.set(T,tt(ut))}},[`has${an(N)}`]:{get(){return this.data.has(T)||x.hasCustomDefaultValue}}}}function td([C,d],x){return kg({controller:x,token:C,typeDefinition:d})}function zo(C){switch(C){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function on(C){switch(typeof C){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(C))return"array";if(Object.prototype.toString.call(C)==="[object Object]")return"object"}function yg(C){let{controller:d,token:x,typeObject:T}=C,N=Xc(T.type),q=Xc(T.default),tt=N&&q,ut=N&&!q,ct=!N&&q,kt=zo(T.type),zt=on(C.typeObject.default);if(ut)return kt;if(ct)return zt;if(kt!==zt){let At=d?`${d}.${x}`:x;throw new Error(`The specified default value for the Stimulus Value "${At}" must match the defined type "${kt}". The provided default value of "${T.default}" is of type "${zt}".`)}if(tt)return kt}function vg(C){let{controller:d,token:x,typeDefinition:T}=C,q=yg({controller:d,token:x,typeObject:T}),tt=on(T),ut=zo(T),ct=q||tt||ut;if(ct)return ct;let kt=d?`${d}.${T}`:x;throw new Error(`Unknown value type "${kt}" for "${x}" value`)}function wg(C){let d=zo(C);if(d)return Kc[d];let x=_l(C,"default"),T=_l(C,"type"),N=C;if(x)return N.default;if(T){let{type:q}=N,tt=zo(q);if(tt)return Kc[tt]}return C}function kg(C){let{token:d,typeDefinition:x}=C,T=`${Zc(d)}-value`,N=vg(C);return{type:N,key:T,name:fh(T),get defaultValue(){return wg(x)},get hasCustomDefaultValue(){return on(x)!==void 0},reader:Ag[N],writer:qc[N]||qc.default}}var Kc={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Ag={array(C){let d=JSON.parse(C);if(!Array.isArray(d))throw new TypeError(`expected value of type "array" but instead got value "${C}" of type "${on(d)}"`);return d},boolean(C){return!(C=="0"||String(C).toLowerCase()=="false")},number(C){return Number(C.replace(/_/g,""))},object(C){let d=JSON.parse(C);if(d===null||typeof d!="object"||Array.isArray(d))throw new TypeError(`expected value of type "object" but instead got value "${C}" of type "${on(d)}"`);return d},string(C){return C}},qc={default:Eg,array:_c,object:_c};function _c(C){return JSON.stringify(C)}function Eg(C){return`${C}`}var Be=class{constructor(d){this.context=d}static get shouldLoad(){return!0}static afterLoad(d,x){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(d,{target:x=this.element,detail:T={},prefix:N=this.identifier,bubbles:q=!0,cancelable:tt=!0}={}){let ut=N?`${N}:${d}`:d,ct=new CustomEvent(ut,{detail:T,bubbles:q,cancelable:tt});return x.dispatchEvent(ct),ct}};Be.blessings=[dg,mg,bg,pg];Be.targets=[];Be.outlets=[];Be.values={};var Ke=class extends Be{get defaultSettings(){let C=new URLSearchParams(window.location.search);return{relative:["true",null].includes(C.get("relative")),filter:{from:C.get("from")||null,to:C.get("to")||null}}}};var ed=(C,d)=>{let x=C[d];return typeof x=="function"?x:(...T)=>{}},id=(C,d,x)=>{let T=C;return x===!0?T=`${d.identifier}:${C}`:typeof x=="string"&&(T=`${x}:${C}`),T},sd=(C,d,x)=>{let{bubbles:T,cancelable:N,composed:q}=d||{bubbles:!0,cancelable:!0,composed:!0};return d&&Object.assign(x,{originalEvent:d}),new CustomEvent(C,{bubbles:T,cancelable:N,composed:q,detail:x})};function Mg(C,d){var x={};for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&d.indexOf(T)<0&&(x[T]=C[T]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,T=Object.getOwnPropertySymbols(C);N<T.length;N++)d.indexOf(T[N])<0&&Object.prototype.propertyIsEnumerable.call(C,T[N])&&(x[T[N]]=C[T[N]]);return x}var bh={debug:!1,logger:console,dispatchEvent:!0,eventPrefix:!0},xh=class{constructor(d,x={}){var T,N,q;this.log=(ct,kt)=>{this.debug&&(this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${ct}`,"color: #3B82F6","color: unset"),this.logger.log(Object.assign({controllerId:this.controllerId},kt)),this.logger.groupEnd())},this.warn=ct=>{this.logger.warn(`%c${this.controller.identifier} %c${ct}`,"color: #3B82F6; font-weight: bold","color: unset")},this.dispatch=(ct,kt={})=>{if(this.dispatchEvent){let{event:zt}=kt,At=Mg(kt,["event"]),gt=this.extendedEvent(ct,zt||null,At);this.targetElement.dispatchEvent(gt),this.log("dispatchEvent",Object.assign({eventName:gt.type},At))}},this.call=(ct,kt={})=>{let zt=this.controller[ct];if(typeof zt=="function")return zt.call(this.controller,kt)},this.extendedEvent=(ct,kt,zt)=>{let{bubbles:At,cancelable:gt,composed:Ht}=kt||{bubbles:!0,cancelable:!0,composed:!0};return kt&&Object.assign(zt,{originalEvent:kt}),new CustomEvent(this.composeEventName(ct),{bubbles:At,cancelable:gt,composed:Ht,detail:zt})},this.composeEventName=ct=>{let kt=ct;return this.eventPrefix===!0?kt=`${this.controller.identifier}:${ct}`:typeof this.eventPrefix=="string"&&(kt=`${this.eventPrefix}:${ct}`),kt},this.debug=(N=(T=x?.debug)!==null&&T!==void 0?T:d.application.stimulusUseDebug)!==null&&N!==void 0?N:bh.debug,this.logger=(q=x?.logger)!==null&&q!==void 0?q:bh.logger,this.controller=d,this.controllerId=d.element.id||d.element.dataset.id,this.targetElement=x?.element||d.element;let{dispatchEvent:tt,eventPrefix:ut}=Object.assign({},bh,x);Object.assign(this,{dispatchEvent:tt,eventPrefix:ut}),this.controllerInitialize=d.initialize.bind(d),this.controllerConnect=d.connect.bind(d),this.controllerDisconnect=d.disconnect.bind(d)}};var yh=class extends Be{};yh.debounces=[];var vh=class extends xh{constructor(d,x={}){super(d,x),this.observe=()=>{this.targetElement.addEventListener("mouseenter",this.onEnter),this.targetElement.addEventListener("mouseleave",this.onLeave)},this.unobserve=()=>{this.targetElement.removeEventListener("mouseenter",this.onEnter),this.targetElement.removeEventListener("mouseleave",this.onLeave)},this.onEnter=T=>{this.call("mouseEnter",T),this.log("mouseEnter",{hover:!0}),this.dispatch("mouseEnter",{hover:!1})},this.onLeave=T=>{this.call("mouseLeave",T),this.log("mouseLeave",{hover:!1}),this.dispatch("mouseLeave",{hover:!1})},this.controller=d,this.enhanceController(),this.observe()}enhanceController(){let d=this.controller.disconnect.bind(this.controller),x=()=>{this.unobserve(),d()};Object.assign(this.controller,{disconnect:x})}},rd=(C,d={})=>{let x=C,T=new vh(x,d);return[T.observe,T.unobserve]};var Tg={dispatchEvent:!0,eventPrefix:!0,visibleAttribute:"isVisible"},nd=(C,d={})=>{let x=C,{dispatchEvent:T,eventPrefix:N,visibleAttribute:q}=Object.assign({},Tg,d),tt=d?.element||x.element;x.intersectionElements||(x.intersectionElements=[]),x.intersectionElements.push(tt);let ut=pt=>{let[R]=pt;R.isIntersecting?kt(R):tt.hasAttribute(q)&&zt(R)},ct=new IntersectionObserver(ut,d),kt=pt=>{if(tt.setAttribute(q,"true"),ed(x,"appear").call(x,pt,ct),T){let R=id("appear",x,N),Pt=sd(R,null,{controller:x,entry:pt,observer:ct});tt.dispatchEvent(Pt)}},zt=pt=>{if(tt.removeAttribute(q),ed(x,"disappear").call(x,pt,ct),T){let R=id("disappear",x,N),Pt=sd(R,null,{controller:x,entry:pt,observer:ct});tt.dispatchEvent(Pt)}},At=x.disconnect.bind(x),gt=()=>{me(),At()},Ht=()=>{ct.observe(tt)},me=()=>{ct.unobserve(tt)},Ee=()=>x.intersectionElements.filter(pt=>pt.hasAttribute(q)).length===0,qe=()=>x.intersectionElements.filter(pt=>pt.hasAttribute(q)).length===1,Ne=()=>x.intersectionElements.some(pt=>pt.hasAttribute(q)),xt=()=>x.intersectionElements.every(pt=>pt.hasAttribute(q));return Object.assign(x,{isVisible:xt,noneVisible:Ee,oneVisible:qe,atLeastOneVisible:Ne,allVisible:xt,disconnect:gt}),Ht(),[Ht,me]};var wh=class extends Be{};wh.throttles=[];var Sg=/(\d.\d)(?!.*YJIT)/i,Cg=4,Ho={execution_time:"execution_time",memory_usage:"memory_usage"},Og={[Ho.execution_time]:C=>Math.round(C),[Ho.memory_usage]:C=>Math.round(C/1024**2)},Pg={relative:{tooltip:{valuePrefix:"x",valueSuffix:void 0},yAxis:{labels:{format:"x{text}",formatter:void 0},plotLines:[{color:"red",width:2,value:1}]}},[Ho.execution_time]:{tooltip:{valuePrefix:void 0,valueSuffix:"ms"},yAxis:{labels:{format:void 0,formatter:function(){return this.value<1e3?`${this.value}ms`:`${this.value/1e3}s`}},plotLines:[]}},[Ho.memory_usage]:{tooltip:{valuePrefix:void 0,valueSuffix:"mb"},yAxis:{labels:{format:void 0,formatter:function(){return this.value<1e3?`${this.value}mb`:`${this.value/1e3}gb`}},plotLines:[]}}},Wo=class extends Ke{static targets=["chart"];static values={title:String,type:String,anomalies:Array,data:Object};connect(){this.settings=this.defaultSettings,this.updated=!1,nd(this,{rootMargin:"100% 0px 100% 0px"})}appear(){this.updated||(this.chart||this._buildChart(),this._updateChart(),this.updated=!0)}applySettings({detail:{relative:C=!1,from:d=null,to:x=null}}){if(this.settings={relative:C,filter:{from:d,to:x}},!this.chart||this.noneVisible()){this.updated=!1;return}this._updateChart(),this.updated=!0}_filterData(C){return Object.entries(C).map(([d,x])=>{let T=this.settings.filter.from,N=this.settings.filter.to,q=T===null?void 0:x.findIndex(([ct,kt])=>ct>=T);q===-1&&(q=x.length);let tt=N===null?void 0:x.findLastIndex(([ct,kt])=>ct<=N);tt===-1&&(tt=0);let ut=x.slice(q,tt);return ut.length===0?null:{name:d,data:ut}}).filter(d=>d)}_normalizeData(C){let d=C.map(T=>Sg.exec(T.name)?.input).filter(T=>T).reduce((T,N)=>T&&T<N?T:N,null),x=C.find(T=>T.name===d).data[0][1];return C.map(T=>({name:T.name,data:T.data.map(([N,q])=>[N,+(q/x).toPrecision(Cg)])}))}_formatData(C){let d=Og[this.typeValue];return C.map(x=>({name:x.name,data:x.data.map(([T,N])=>[T,d(N)])}))}_chartData(){let C=this._filterData(this.dataValue);return C.length===0?[]:(C=this.settings.relative?this._normalizeData(C):this._formatData(C),C)}_yAxisSettings(){return Pg[this.settings.relative?"relative":this.typeValue]}_updateChart(){this.chart.update({...this._yAxisSettings(),series:this._chartData()},!0,!0,!0)}_buildChart(){this.chart=window.Highcharts.chart(this.element,{title:{text:this.titleValue,align:"left"},noData:{text:"No data to display"},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},yAxis:{title:{text:"Difference between versions"}},xAxis:{accessibility:{rangeDescription:"Time"},type:"datetime",plotLines:this.anomaliesValue.map(C=>({color:"rgba(250, 212, 0, 0.4)",width:10,value:C,label:{useHTML:!0,text:`
                  <span

                  >
                    <img
                      src="/rpr/assets/img/icons/warning.svg"
                      width="20"
                      class="cursor-pointer"
                      data-controller="tooltip-target"
                      data-tooltip-target-tooltip-outlet=".tooltip"
                    />
                  </span>
                `,rotation:0,verticalAlign:"top",align:"center",x:0,y:-8}}))},series:[]})}};var jo=class extends Ke{static targets=["from","to","relative"];connect(){let C=this.defaultSettings;C.filter.from&&(this.fromTarget.value=C.filter.from),C.filter.to&&(this.toTarget.value=C.filter.to),this.relativeTarget.checked=C.relative}save(){let C={};this.fromTarget.value&&(C.from=this.fromTarget.value),this.toTarget.value&&(C.to=this.toTarget.value),C.relative=this.relativeTarget.checked;let d=new URLSearchParams(C);window.history.replaceState(null,"",`/rpr/?${d}${window.location.hash}`),this.dispatch("changed",{detail:C,bubbles:!0})}};var Xo=class extends Ke{static classes=["hidden"];static values={moveBottom:Number};toggleVisibility({details:{visible:C,x:d,y:x}}){if(this.element.classList.toggle(this.hiddenClass,!C),C){let{width:T}=this.element.getBoundingClientRect();this.element.style.left=`${Math.round(d-T/2)}px`,this.element.style.top=`${x+this.moveBottomValue}px`}}};var Go=class extends Ke{static outlets=["tooltip"];connect(){rd(this,{element:this.element})}mouseEnter(){this._toggleTooltip({visible:!0})}mouseLeave(){this._toggleTooltip({visible:!1})}_toggleTooltip({visible:C}){let{top:d,left:x}=this.element.getBoundingClientRect();this.tooltipOutlet.toggleVisibility({details:{visible:C,y:Math.round(d+window.scrollY),x:Math.round(x+window.scrollX)}})}};window.Highcharts=tr.default;window.Stimulus=Ro.start();window.Stimulus.register("chart",Wo);window.Stimulus.register("settings",jo);window.Stimulus.register("tooltip",Xo);window.Stimulus.register("tooltip-target",Go);tr.default.theme={...od.options,colors:["#8087E8","#A3EDBA","#F19E53","#6699A1","#E1D369","#87B4E7","#DA6D85","#BBBAC5","#2B908F","#90EE7E","#F45B5B","#7798BF","#AAEEEE","#FF0066","#55BF3B","#DF5353"],chart:{backgroundColor:"transparent"}};tr.default.setOptions(tr.default.theme);tr.default.AST.allowedAttributes.push("data-controller","data-tooltip-target-tooltip-outlet");})();
