(()=>{var xp=Object.create;var Sc=Object.defineProperty;var yp=Object.getOwnPropertyDescriptor;var vp=Object.getOwnPropertyNames;var wp=Object.getPrototypeOf,kp=Object.prototype.hasOwnProperty;var Il=(L,p)=>()=>(p||L((p={exports:{}}).exports,p),p.exports);var Ap=(L,p,x,S)=>{if(p&&typeof p=="object"||typeof p=="function")for(let j of vp(p))!kp.call(L,j)&&j!==x&&Sc(L,j,{get:()=>p[j],enumerable:!(S=yp(p,j))||S.enumerable});return L};var Fl=(L,p,x)=>(x=L!=null?xp(wp(L)):{},Ap(p||!L||!L.__esModule?Sc(x,"default",{value:L,enumerable:!0}):x,L));var Cc=Il((Jr,Rl)=>{(function(L,p){typeof Jr=="object"&&typeof Rl=="object"?(L._Highcharts=p(),Rl.exports=L._Highcharts):typeof define=="function"&&define.amd?define("highcharts/highcharts",[],p):typeof Jr=="object"?(L._Highcharts=p(),Jr.highcharts=L._Highcharts):(L.Highcharts&&L.Highcharts.error(16,!0),L.Highcharts=p())})(typeof window>"u"?Jr:window,()=>(()=>{"use strict";let L,p;var x,S,j,q,it,xt,Tt,$t,pe,Et,mt,Ut,Le,Ye,Ii,oi,yt,$e={};$e.d=(h,t)=>{for(var e in t)$e.o(t,e)&&!$e.o(h,e)&&Object.defineProperty(h,e,{enumerable:!0,get:t[e]})},$e.o=(h,t)=>Object.prototype.hasOwnProperty.call(h,t);var Gt={};$e.d(Gt,{default:()=>bp}),function(h){h.SVG_NS="http://www.w3.org/2000/svg",h.product="Highcharts",h.version="12.1.2",h.win=typeof window<"u"?window:{},h.doc=h.win.document,h.svg=h.doc&&h.doc.createElementNS&&!!h.doc.createElementNS(h.SVG_NS,"svg").createSVGRect,h.pageLang=h.doc?.documentElement?.closest("[lang]")?.lang,h.userAgent=h.win.navigator&&h.win.navigator.userAgent||"",h.isChrome=h.win.chrome,h.isFirefox=h.userAgent.indexOf("Firefox")!==-1,h.isMS=/(edge|msie|trident)/i.test(h.userAgent)&&!h.win.opera,h.isSafari=!h.isChrome&&h.userAgent.indexOf("Safari")!==-1,h.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(h.userAgent),h.isWebKit=h.userAgent.indexOf("AppleWebKit")!==-1,h.deg2rad=2*Math.PI/360,h.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],h.noop=function(){},h.supportsPassiveEvents=function(){let t=!1;if(!h.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});h.win.addEventListener&&h.win.removeEventListener&&(h.win.addEventListener("testPassive",h.noop,e),h.win.removeEventListener("testPassive",h.noop,e))}return t}(),h.charts=[],h.composed=[],h.dateFormats={},h.seriesTypes={},h.symbolSizes={},h.chartCount=0}(x||(x={}));let W=x,{charts:ke,doc:oe,win:Ue}=W;function ai(h,t,e,i){let s=t?"Highcharts error":"Highcharts warning";h===32&&(h=`${s}: Deprecated member`);let r=Fi(h),n=r?`${s} #${h}: www.highcharts.com/errors/${h}/`:h.toString();if(i!==void 0){let o="";r&&(n+="?"),It(i,function(l,c){o+=`
 - ${c}: ${l}`,r&&(n+=encodeURI(c)+"="+encodeURI(l))}),n+=o}rr(W,"displayError",{chart:e,code:h,message:n,params:i},function(){if(t)throw Error(n);Ue.console&&ai.messages.indexOf(n)===-1&&console.warn(n)}),ai.messages.push(n)}function Js(h,t){return parseInt(h,t||10)}function li(h){return typeof h=="string"}function Rt(h){let t=Object.prototype.toString.call(h);return t==="[object Array]"||t==="[object Array Iterator]"}function hi(h,t){return!!h&&typeof h=="object"&&(!t||!Rt(h))}function ci(h){return hi(h)&&typeof h.nodeType=="number"}function an(h){let t=h&&h.constructor;return!!(hi(h,!0)&&!ci(h)&&t&&t.name&&t.name!=="Object")}function Fi(h){return typeof h=="number"&&!isNaN(h)&&h<1/0&&h>-1/0}function De(h){return h!=null}function Ri(h,t,e){let i,s=li(t)&&!De(e),r=(n,o)=>{De(n)?h.setAttribute(o,n):s?(i=h.getAttribute(o))||o!=="class"||(i=h.getAttribute(o+"Name")):h.removeAttribute(o)};return li(t)?r(e,t):It(t,r),i}function tr(h){return Rt(h)?h:[h]}function di(h,t){let e;for(e in h||(h={}),t)h[e]=t[e];return h}function Be(){let h=arguments,t=h.length;for(let e=0;e<t;e++){let i=h[e];if(i!=null)return i}}function ns(h,t){di(h.style,t)}function er(h){return Math.pow(10,Math.floor(Math.log(h)/Math.LN10))}function ir(h,t){return h>1e14?h:parseFloat(h.toPrecision(t||14))}(ai||(ai={})).messages=[],Math.easeInOutSine=function(h){return-.5*(Math.cos(Math.PI*h)-1)};let ln=Array.prototype.find?function(h,t){return h.find(t)}:function(h,t){let e,i=h.length;for(e=0;e<i;e++)if(t(h[e],e))return h[e]};function It(h,t,e){for(let i in h)Object.hasOwnProperty.call(h,i)&&t.call(e||h[i],h[i],i,h)}function sr(h,t,e){function i(n,o){let l=h.removeEventListener;l&&l.call(h,n,o,!1)}function s(n){let o,l;h.nodeName&&(t?(o={})[t]=!0:o=n,It(o,function(c,g){if(n[g])for(l=n[g].length;l--;)i(g,n[g][l].fn)}))}let r=typeof h=="function"&&h.prototype||h;if(Object.hasOwnProperty.call(r,"hcEvents")){let n=r.hcEvents;if(t){let o=n[t]||[];e?(n[t]=o.filter(function(l){return e!==l.fn}),i(t,e)):(s(n),n[t]=[])}else s(n),delete r.hcEvents}}function rr(h,t,e,i){if(e=e||{},oe.createEvent&&(h.dispatchEvent||h.fireEvent&&h!==W)){let s=oe.createEvent("Events");s.initEvent(t,!0,!0),e=di(s,e),h.dispatchEvent?h.dispatchEvent(e):h.fireEvent(t,e)}else if(h.hcEvents){e.target||di(e,{preventDefault:function(){e.defaultPrevented=!0},target:h,type:t});let s=[],r=h,n=!1;for(;r.hcEvents;)Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents[t]&&(s.length&&(n=!0),s.unshift.apply(s,r.hcEvents[t])),r=Object.getPrototypeOf(r);n&&s.sort((o,l)=>o.order-l.order),s.forEach(o=>{o.fn.call(h,e)===!1&&e.preventDefault()})}i&&!e.defaultPrevented&&i.call(h,e)}let nr=function(){let h=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(L?"":h)+t++}}();Ue.jQuery&&(Ue.jQuery.fn.highcharts=function(){let h=[].slice.call(arguments);if(this[0])return h[0]?(new W[li(h[0])?h.shift():"Chart"](this[0],h[0],h[1]),this):ke[Ri(this[0],"data-highcharts-chart")]});let st={addEvent:function(h,t,e,i={}){let s=typeof h=="function"&&h.prototype||h;Object.hasOwnProperty.call(s,"hcEvents")||(s.hcEvents={});let r=s.hcEvents;W.Point&&h instanceof W.Point&&h.series&&h.series.chart&&(h.series.chart.runTrackerClick=!0);let n=h.addEventListener;n&&n.call(h,t,e,!!W.supportsPassiveEvents&&{passive:i.passive===void 0?t.indexOf("touch")!==-1:i.passive,capture:!1}),r[t]||(r[t]=[]);let o={fn:e,order:typeof i.order=="number"?i.order:1/0};return r[t].push(o),r[t].sort((l,c)=>l.order-c.order),function(){sr(h,t,e)}},arrayMax:function(h){let t=h.length,e=h[0];for(;t--;)h[t]>e&&(e=h[t]);return e},arrayMin:function(h){let t=h.length,e=h[0];for(;t--;)h[t]<e&&(e=h[t]);return e},attr:Ri,clamp:function(h,t,e){return h>t?h<e?h:e:t},clearTimeout:function(h){De(h)&&clearTimeout(h)},correctFloat:ir,createElement:function(h,t,e,i,s){let r=oe.createElement(h);return t&&di(r,t),s&&ns(r,{padding:"0",border:"none",margin:"0"}),e&&ns(r,e),i&&i.appendChild(r),r},crisp:function(h,t=0,e){let i=t%2/2,s=e?-1:1;return(Math.round(h*s-i)+i)*s},css:ns,defined:De,destroyObjectProperties:function(h,t,e){It(h,function(i,s){i!==t&&i?.destroy&&i.destroy(),(i?.destroy||!e)&&delete h[s]})},diffObjects:function(h,t,e,i){let s={};return function r(n,o,l,c){let g=e?o:n;It(n,function(u,b){if(!c&&i&&i.indexOf(b)>-1&&o[b]){u=tr(u),l[b]=[];for(let y=0;y<Math.max(u.length,o[b].length);y++)o[b][y]&&(u[y]===void 0?l[b][y]=o[b][y]:(l[b][y]={},r(u[y],o[b][y],l[b][y],c+1)))}else hi(u,!0)&&!u.nodeType?(l[b]=Rt(u)?[]:{},r(u,o[b]||{},l[b],c+1),Object.keys(l[b]).length!==0||b==="colorAxis"&&c===0||delete l[b]):(n[b]!==o[b]||b in n&&!(b in o))&&b!=="__proto__"&&b!=="constructor"&&(l[b]=g[b])})}(h,t,s,0),s},discardElement:function(h){h&&h.parentElement&&h.parentElement.removeChild(h)},erase:function(h,t){let e=h.length;for(;e--;)if(h[e]===t){h.splice(e,1);break}},error:ai,extend:di,extendClass:function(h,t){let e=function(){};return e.prototype=new h,di(e.prototype,t),e},find:ln,fireEvent:rr,getAlignFactor:(h="")=>({center:.5,right:1,middle:.5,bottom:1})[h]||0,getClosestDistance:function(h,t){let e,i,s,r,n=!t;return h.forEach(o=>{if(o.length>1)for(r=i=o.length-1;r>0;r--)(s=o[r]-o[r-1])<0&&!n?(t?.(),t=void 0):s&&(e===void 0||s<e)&&(e=s)}),e},getMagnitude:er,getNestedProperty:function(h,t){let e=h.split(".");for(;e.length&&De(t);){let i=e.shift();if(i===void 0||i==="__proto__")return;if(i==="this"){let r;return hi(t)&&(r=t["@this"]),r??t}let s=t[i.replace(/[\\'"]/g,"")];if(!De(s)||typeof s=="function"||typeof s.nodeType=="number"||s===Ue)return;t=s}return t},getStyle:function h(t,e,i){let s;if(e==="width"){let n=Math.min(t.offsetWidth,t.scrollWidth),o=t.getBoundingClientRect&&t.getBoundingClientRect().width;return o<n&&o>=n-1&&(n=Math.floor(o)),Math.max(0,n-(h(t,"padding-left",!0)||0)-(h(t,"padding-right",!0)||0))}if(e==="height")return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(h(t,"padding-top",!0)||0)-(h(t,"padding-bottom",!0)||0));let r=Ue.getComputedStyle(t,void 0);return r&&(s=r.getPropertyValue(e),Be(i,e!=="opacity")&&(s=Js(s))),s},insertItem:function(h,t){let e,i=h.options.index,s=t.length;for(e=h.options.isInternal?s:0;e<s+1;e++)if(!t[e]||Fi(i)&&i<Be(t[e].options.index,t[e]._i)||t[e].options.isInternal){t.splice(e,0,h);break}return e},isArray:Rt,isClass:an,isDOMElement:ci,isFunction:function(h){return typeof h=="function"},isNumber:Fi,isObject:hi,isString:li,merge:function(h,...t){let e,i=[h,...t],s={},r=function(o,l){return typeof o!="object"&&(o={}),It(l,function(c,g){g!=="__proto__"&&g!=="constructor"&&(!hi(c,!0)||an(c)||ci(c)?o[g]=l[g]:o[g]=r(o[g]||{},c))}),o};h===!0&&(s=i[1],i=Array.prototype.slice.call(i,2));let n=i.length;for(e=0;e<n;e++)s=r(s,i[e]);return s},normalizeTickInterval:function(h,t,e,i,s){let r,n=h;e=Be(e,er(h));let o=h/e;for(!t&&(t=s?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],i===!1&&(e===1?t=t.filter(function(l){return l%1==0}):e<=.1&&(t=[1/e]))),r=0;r<t.length&&(n=t[r],(!s||!(n*e>=h))&&(s||!(o<=(t[r]+(t[r+1]||t[r]))/2)));r++);return ir(n*e,-Math.round(Math.log(.001)/Math.LN10))},objectEach:It,offset:function(h){let t=oe.documentElement,e=h.parentElement||h.parentNode?h.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:e.top+(Ue.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(Ue.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}},pad:function(h,t,e){return Array((t||2)+1-String(h).replace("-","").length).join(e||"0")+h},pick:Be,pInt:Js,pushUnique:function(h,t){return 0>h.indexOf(t)&&!!h.push(t)},relativeLength:function(h,t,e){return/%$/.test(h)?t*parseFloat(h)/100+(e||0):parseFloat(h)},removeEvent:sr,replaceNested:function(h,...t){let e,i;do for(i of(e=h,t))h=h.replace(i[0],i[1]);while(h!==e);return h},splat:tr,stableSort:function(h,t){let e,i,s=h.length;for(i=0;i<s;i++)h[i].safeI=i;for(h.sort(function(r,n){return(e=t(r,n))===0?r.safeI-n.safeI:e}),i=0;i<s;i++)delete h[i].safeI},syncTimeout:function(h,t,e){return t>0?setTimeout(h,t,e):(h.call(0,e),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(h){return li(h)?h.substring(0,1).toUpperCase()+h.substring(1):String(h)},uniqueKey:nr,useSerialIds:function(h){return L=Be(h,L)},wrap:function(h,t,e){let i=h[t];h[t]=function(){let s=arguments,r=this;return e.apply(this,[function(){return i.apply(r,arguments.length?arguments:s)}].concat([].slice.call(arguments)))}}},{pageLang:zi,win:os}=W,{defined:as,error:ye,extend:ls,isNumber:ge,isObject:or,isString:Ne,merge:Fo,objectEach:hn,pad:Ie,splat:Ro,timeUnits:Pt,ucfirst:zo}=st,Ho=W.isSafari&&os.Intl&&!os.Intl.DateTimeFormat.prototype.formatRange,ar=h=>h.main===void 0,cn=h=>["D","L","M","X","J","V","S"].indexOf(h),lr=class{constructor(h){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=os.Date,this.update(h)}update(h={}){this.dTLCache={},this.options=h=Fo(!0,this.options,h);let{timezoneOffset:t,useUTC:e}=h;this.Date=h.Date||os.Date||Date;let i=h.timezone;as(e)&&(i=e?"UTC":void 0),t&&t%60==0&&(i="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone=i!=="UTC"&&i?.indexOf("Etc/GMT")!==0,this.timezone=i,["months","shortMonths","weekdays","shortWeekdays"].forEach(s=>{let r=/months/i.test(s),n=/short/.test(s),o={timeZone:"UTC"};o[r?"month":"weekday"]=n?"short":"long",this[s]=(r?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(l=>this.dateFormat(o,(r?31:1)*24*36e5*l))})}toParts(h){let[t,e,i,s,r,n,o]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},h,"es").split(/(?:, |\/|:)/g);return[s,+i-1,e,r,n,o,Math.floor(Number(h)||0)%1e3,cn(t)].map(Number)}dateTimeFormat(h,t,e=this.options.locale||zi){let i=JSON.stringify(h)+e;Ne(h)&&(h=this.str2dtf(h));let s=this.dTLCache[i];if(!s){h.timeZone??(h.timeZone=this.timezone);try{s=new Intl.DateTimeFormat(e,h)}catch(r){/Invalid time zone/i.test(r.message)?(ye(34),h.timeZone="UTC",s=new Intl.DateTimeFormat(e,h)):ye(r.message,!1)}}return this.dTLCache[i]=s,s?.format(t)||""}str2dtf(h,t={}){let e={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(e).forEach(i=>{h.indexOf(i)!==-1&&ls(t,e[i])}),t}makeTime(h,t,e=1,i=0,s,r,n){let o=this.Date.UTC(h,t,e,i,s||0,r||0,n||0);if(this.timezone!=="UTC"){let l=this.getTimezoneOffset(o);if(o+=l,[2,3,8,9,10,11].indexOf(t)!==-1&&(i<5||i>20)){let c=this.getTimezoneOffset(o);l!==c?o+=c-l:l-36e5!==this.getTimezoneOffset(o-36e5)||Ho||(o-=36e5)}}return o}parse(h){if(!Ne(h))return h??void 0;let t=(h=h.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(h),e=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(h);t||e||(h+="Z");let i=Date.parse(h);if(ge(i))return i+(!t||e?this.getTimezoneOffset(i):0)}getTimezoneOffset(h){if(this.timezone!=="UTC"){let[t,e,i,s,r=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},h,"en").split(/(GMT|:)/).map(Number),n=-(36e5*(i+r/60));if(ge(n))return n}return 0}dateFormat(h,t,e){let i=W.defaultOptions?.lang;if(!as(t)||isNaN(t))return i?.invalidDate||"";if(Ne(h=h??"%Y-%m-%d %H:%M:%S")){let s,r=/%\[([a-zA-Z]+)\]/g;for(;s=r.exec(h);)h=h.replace(s[0],this.dateTimeFormat(s[1],t))}if(Ne(h)&&h.indexOf("%")!==-1){let s=this,[r,n,o,l,c,g,u,b]=this.toParts(t),y=i?.weekdays||this.weekdays,w=i?.shortWeekdays||this.shortWeekdays,M=i?.months||this.months,T=i?.shortMonths||this.shortMonths;hn(ls({a:w?w[b]:y[b].substr(0,3),A:y[b],d:Ie(o),e:Ie(o,2," "),w:b,b:T[n],B:M[n],m:Ie(n+1),o:n+1,y:r.toString().substr(2,2),Y:r,H:Ie(l),k:l,I:Ie(l%12||12),l:l%12||12,M:Ie(c),p:l<12?"AM":"PM",P:l<12?"am":"pm",S:Ie(g),L:Ie(u,3)},W.dateFormats),function(k,O){if(Ne(h))for(;h.indexOf("%"+O)!==-1;)h=h.replace("%"+O,typeof k=="function"?k.call(s,t):k)})}else if(or(h)){let s=(this.getTimezoneOffset(t)||0)/36e5,r=this.timezone||"Etc/GMT"+(s>=0?"+":"")+s,{prefix:n="",suffix:o=""}=h;h=n+this.dateTimeFormat(ls({timeZone:r},h),t)+o}return e?zo(h):h}resolveDTLFormat(h){return or(h,!0)?or(h,!0)&&ar(h)?{main:h}:h:{main:(h=Ro(h))[0],from:h[1],to:h[2]}}getTimeTicks(h,t,e,i){let s=this,r=[],n={},{count:o=1,unitRange:l}=h,[c,g,u,b,y,w]=s.toParts(t),M=(t||0)%1e3,T;if(i??(i=1),as(t)){if(M=l>=Pt.second?0:o*Math.floor(M/o),l>=Pt.second&&(w=l>=Pt.minute?0:o*Math.floor(w/o)),l>=Pt.minute&&(y=l>=Pt.hour?0:o*Math.floor(y/o)),l>=Pt.hour&&(b=l>=Pt.day?0:o*Math.floor(b/o)),l>=Pt.day&&(u=l>=Pt.month?1:Math.max(1,o*Math.floor(u/o))),l>=Pt.month&&(g=l>=Pt.year?0:o*Math.floor(g/o)),l>=Pt.year&&(c-=c%o),l===Pt.week){o&&(t=s.makeTime(c,g,u,b,y,w,M));let P=cn(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"));u+=-P+i+(P<i?-7:0)}t=s.makeTime(c,g,u,b,y,w,M),s.variableTimezone&&as(e)&&(T=e-t>4*Pt.month||s.getTimezoneOffset(t)!==s.getTimezoneOffset(e));let k=t,O=1;for(;k<e;)r.push(k),l===Pt.year?k=s.makeTime(c+O*o,0):l===Pt.month?k=s.makeTime(c,g+O*o):T&&(l===Pt.day||l===Pt.week)?k=s.makeTime(c,g,u+O*o*(l===Pt.day?1:7)):T&&l===Pt.hour&&o>1?k=s.makeTime(c,g,u,b+O*o):k+=l*o,O++;r.push(k),l<=Pt.hour&&r.length<1e4&&r.forEach(P=>{P%18e5==0&&s.dateFormat("%H%M%S%L",P)==="000000000"&&(n[P]="day")})}return r.info=ls(h,{higherRanks:n,totalRange:l*o}),r}getDateFormat(h,t,e,i){let s=this.dateFormat("%m-%d %H:%M:%S.%L",t),r="01-01 00:00:00.000",n={millisecond:15,second:12,minute:9,hour:6,day:3},o="millisecond",l=o;for(o in Pt){if(h===Pt.week&&+this.dateFormat("%w",t)===e&&s.substr(6)===r.substr(6)){o="week";break}if(Pt[o]>h){o=l;break}if(n[o]&&s.substr(n[o])!==r.substr(n[o]))break;o!=="week"&&(l=o)}return this.resolveDTLFormat(i[o]).main}},{isTouchDevice:Wo}=W,{fireEvent:dn,merge:hs}=st,ui={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:h=>Math.sqrt(1-Math.pow(h-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:Wo?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},hr=new lr(ui.time),ae={defaultOptions:ui,defaultTime:hr,getOptions:function(){return ui},setOptions:function(h){return dn(W,"setOptions",{options:h}),hs(!0,ui,h),h.time&&hr.update(ui.time),h.lang&&"locale"in h.lang&&hr.update({locale:h.lang.locale}),ui}},{isNumber:Hi,merge:un,pInt:Jt,defined:cr}=st;class zt{static parse(t){return t?new zt(t):zt.None}constructor(t){let e,i,s,r;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let n=W.Color;if(n&&n!==zt)return new n(t);if(typeof t=="object"&&t.stops!==void 0)this.stops=t.stops.map(o=>new zt(o[1]));else if(typeof t=="string")for(this.input=t=zt.names[t.toLowerCase()]||t,s=zt.parsers.length;s--&&!i;)(e=(r=zt.parsers[s]).regex.exec(t))&&(i=r.parse(e));i&&(this.rgba=i)}get(t){let e=this.input,i=this.rgba;if(typeof e=="object"&&this.stops!==void 0){let s=un(e);return s.stops=[].slice.call(s.stops),this.stops.forEach((r,n)=>{s.stops[n]=[s.stops[n][0],r.get(t)]}),s}return i&&Hi(i[0])?t!=="rgb"&&(t||i[3]!==1)?t==="a"?`${i[3]}`:"rgba("+i.join(",")+")":"rgb("+i[0]+","+i[1]+","+i[2]+")":e}brighten(t){let e=this.rgba;if(this.stops)this.stops.forEach(function(i){i.brighten(t)});else if(Hi(t)&&t!==0)for(let i=0;i<3;i++)e[i]+=Jt(255*t),e[i]<0&&(e[i]=0),e[i]>255&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){let i=this.rgba,s=t.rgba;if(!Hi(i[0])||!Hi(s[0]))return t.input||"none";let r=s[3]!==1||i[3]!==1,n=(l,c)=>l+(i[c]-l)*(1-e),o=s.slice(0,3).map(n).map(Math.round);return r&&o.push(n(s[3],3)),(r?"rgba(":"rgb(")+o.join(",")+")"}}zt.names={white:"#ffffff",black:"#000000"},zt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(h){return[Jt(h[1]),Jt(h[2]),Jt(h[3]),parseFloat(h[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(h){return[Jt(h[1]),Jt(h[2]),Jt(h[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(h){return[Jt(h[1]+h[1],16),Jt(h[2]+h[2],16),Jt(h[3]+h[3],16),cr(h[4])?Jt(h[4]+h[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(h){return[Jt(h[1],16),Jt(h[2],16),Jt(h[3],16),cr(h[4])?Jt(h[4],16)/255:1]}}],zt.None=new zt("");let{parse:pn}=zt,{win:jo}=W,{isNumber:pi,objectEach:Xo}=st;class se{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){let t=this.paths,e=t&&t[0],i=t&&t[1],s=this.now||0,r=[];if(s!==1&&e&&i)if(e.length===i.length&&s<1)for(let n=0;n<i.length;n++){let o=e[n],l=i[n],c=[];for(let g=0;g<l.length;g++){let u=o[g],b=l[g];pi(u)&&pi(b)&&!(l[0]==="A"&&(g===4||g===5))?c[g]=u+s*(b-u):c[g]=b}r.push(c)}else r=i;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)}update(){let t=this.elem,e=this.prop,i=this.now,s=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,s&&s.call(t,i,this)}run(t,e,i){let s=this,r=s.options,n=function(c){return!n.stopped&&s.step(c)},o=jo.requestAnimationFrame||function(c){setTimeout(c,13)},l=function(){for(let c=0;c<se.timers.length;c++)se.timers[c]()||se.timers.splice(c--,1);se.timers.length&&o(l)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&se.timers.push(n)===1&&o(l)):(delete r.curAnim[this.prop],r.complete&&Object.keys(r.curAnim).length===0&&r.complete.call(this.elem))}step(t){let e,i,s=+new Date,r=this.options,n=this.elem,o=r.complete,l=r.duration,c=r.curAnim;return n.attr&&!n.element?e=!1:t||s>=l+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,i=!0,Xo(c,function(g){g!==!0&&(i=!1)}),i&&o&&o.call(n),e=!1):(this.pos=r.easing((s-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e}initPath(t,e,i){let s=t.startX,r=t.endX,n=i.slice(),o=t.isArea,l=o?2:1,c=e&&i.length>e.length&&i.hasStackedCliffs,g,u,b,y,w=e&&e.slice();if(!w||c)return[n,n];function M(k,O){for(;k.length<u;){let P=k[0],F=O[u-k.length];if(F&&P[0]==="M"&&(F[0]==="C"?k[0]=["C",P[1],P[2],P[1],P[2],P[1],P[2]]:k[0]=["L",P[1],P[2]]),k.unshift(P),o){let z=k.pop();k.push(k[k.length-1],z)}}}function T(k){for(;k.length<u;){let O=k[Math.floor(k.length/l)-1].slice();if(O[0]==="C"&&(O[1]=O[5],O[2]=O[6]),o){let P=k[Math.floor(k.length/l)].slice();k.splice(k.length/2,0,O,P)}else k.push(O)}}if(s&&r&&r.length){for(b=0;b<s.length;b++){if(s[b]===r[0]){g=b;break}if(s[0]===r[r.length-s.length+b]){g=b,y=!0;break}if(s[s.length-1]===r[r.length-s.length+b]){g=s.length-b;break}}g===void 0&&(w=[])}return w.length&&pi(g)&&(u=n.length+g*l,y?(M(w,n),T(n)):(M(n,w),T(w))),[w,n]}fillSetter(){se.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,pn(this.start).tweenTo(pn(this.end),this.pos),void 0,!0)}}se.timers=[];let{defined:Go,getStyle:gn,isArray:cs,isNumber:Vo,isObject:ds,merge:mn,objectEach:fn,pick:Yo}=st;function dr(h){return ds(h)?mn({duration:500,defer:0},h):{duration:h?500:0,defer:0}}function ur(h,t){let e=se.timers.length;for(;e--;)se.timers[e].elem!==h||t&&t!==se.timers[e].prop||(se.timers[e].stopped=!0)}let Kt={animate:function(h,t,e){let i,s="",r,n,o;ds(e)||(o=arguments,e={duration:o[2],easing:o[3],complete:o[4]}),Vo(e.duration)||(e.duration=400),e.easing=typeof e.easing=="function"?e.easing:Math[e.easing]||Math.easeInOutSine,e.curAnim=mn(t),fn(t,function(l,c){ur(h,c),n=new se(h,e,c),r=void 0,c==="d"&&cs(t.d)?(n.paths=n.initPath(h,h.pathArray,t.d),n.toD=t.d,i=0,r=1):h.attr?i=h.attr(c):(i=parseFloat(gn(h,c))||0,c!=="opacity"&&(s="px")),r||(r=l),typeof r=="string"&&r.match("px")&&(r=r.replace(/px/g,"")),n.run(i,r,s)})},animObject:dr,getDeferredAnimation:function(h,t,e){let i=dr(t),s=e?[e]:h.series,r=0,n=0;return s.forEach(o=>{let l=dr(o.options.animation);r=ds(t)&&Go(t.defer)?i.defer:Math.max(r,l.duration+l.defer),n=Math.min(i.duration,l.duration)}),h.renderer.forExport&&(r=0),{defer:Math.max(0,r-n),duration:Math.min(r,n)}},setAnimation:function(h,t){t.renderer.globalAnimation=Yo(h,t.options.chart.animation,!0)},stop:ur},{SVG_NS:bn,win:$o}=W,{attr:Uo,createElement:us,css:ps,error:gs,isFunction:pr,isString:ms,objectEach:gr,splat:Ko}=st,{trustedTypes:mr}=$o,fs=mr&&pr(mr.createPolicy)&&mr.createPolicy("highcharts",{createHTML:h=>h}),qo=fs?fs.createHTML(""):"";class Ct{static filterUserAttributes(t){return gr(t,(e,i)=>{let s=!0;Ct.allowedAttributes.indexOf(i)===-1&&(s=!1),["background","dynsrc","href","lowsrc","src"].indexOf(i)!==-1&&(s=ms(e)&&Ct.allowedReferences.some(r=>e.indexOf(r)===0)),s||(gs(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),ms(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((e,i)=>{let s=i.split(":").map(n=>n.trim()),r=s.shift();return r&&s.length&&(e[r.replace(/-([a-z])/g,n=>n[1].toUpperCase())]=s.join(":")),e},{})}static setElementHTML(t,e){t.innerHTML=Ct.emptyHTML,e&&new Ct(e).addToDOM(t)}constructor(t){this.nodes=typeof t=="string"?this.parseMarkup(t):t}addToDOM(t){return function e(i,s){let r;return Ko(i).forEach(function(n){let o,l=n.tagName,c=n.textContent?W.doc.createTextNode(n.textContent):void 0,g=Ct.bypassHTMLFiltering;if(l)if(l==="#text")o=c;else if(Ct.allowedTags.indexOf(l)!==-1||g){let u=l==="svg"?bn:s.namespaceURI||bn,b=W.doc.createElementNS(u,l),y=n.attributes||{};gr(n,function(w,M){M!=="tagName"&&M!=="attributes"&&M!=="children"&&M!=="style"&&M!=="textContent"&&(y[M]=w)}),Uo(b,g?y:Ct.filterUserAttributes(y)),n.style&&ps(b,n.style),c&&b.appendChild(c),e(n.children||[],b),o=b}else gs(33,!1,void 0,{"Invalid tagName in config":l});o&&s.appendChild(o),r=o}),r}(this.nodes,t)}parseMarkup(t){let e,i=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{e=new DOMParser().parseFromString(fs?fs.createHTML(t):t,"text/html")}catch{}if(!e){let r=us("div");r.innerHTML=t,e={body:r}}let s=(r,n)=>{let o=r.nodeName.toLowerCase(),l={tagName:o};o==="#text"&&(l.textContent=r.textContent||"");let c=r.attributes;if(c){let g={};[].forEach.call(c,u=>{u.name==="data-style"?l.style=Ct.parseStyle(u.value):g[u.name]=u.value}),l.attributes=g}if(r.childNodes.length){let g=[];[].forEach.call(r.childNodes,u=>{s(u,g)}),g.length&&(l.children=g)}n.push(l)};return[].forEach.call(e.body.childNodes,r=>s(r,i)),i}}Ct.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Ct.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Ct.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],Ct.emptyHTML=qo,Ct.bypassHTMLFiltering=!1;let{defaultOptions:bs,defaultTime:fr}=ae,{pageLang:_o}=W,{extend:br,getNestedProperty:Zo,isArray:Qo,isNumber:xn,isObject:Jo,isString:ta,pick:ea,ucfirst:ia}=st,xs={add:(h,t)=>h+t,divide:(h,t)=>t!==0?h/t:"",eq:(h,t)=>h==t,each:function(h){let t=arguments[arguments.length-1];return!!Qo(h)&&h.map((e,i)=>ys(t.body,br(Jo(e)?e:{"@this":e},{"@index":i,"@first":i===0,"@last":i===h.length-1}))).join("")},ge:(h,t)=>h>=t,gt:(h,t)=>h>t,if:h=>!!h,le:(h,t)=>h<=t,lt:(h,t)=>h<t,multiply:(h,t)=>h*t,ne:(h,t)=>h!=t,subtract:(h,t)=>h-t,ucfirst:ia,unless:h=>!h},xr={},yn=h=>/^["'].+["']$/.test(h);function ys(h="",t,e){let i=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@+"'â€™= #\(\)]+)\}/gu,s=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/gu,r=[],n=/f$/,o=/\.(\d)/,l=e?.options.lang||bs.lang,c=e&&e.time||fr,g=e&&e.numberFormatter||vs,u=(T="")=>{let k;return T==="true"||T!=="false"&&((k=Number(T)).toString()===T?k:yn(T)?T.slice(1,-1):Zo(T,t))},b,y,w=0,M;for(;(b=i.exec(h))!==null;){let T=b,k=s.exec(b[1]);k&&(b=k,M=!0),y&&y.isBlock||(y={ctx:t,expression:b[1],find:b[0],isBlock:b[1].charAt(0)==="#",start:b.index,startInner:b.index+b[0].length,length:b[0].length});let O=(y.isBlock?T:b)[1].split(" ")[0].replace("#","");xs[O]&&(y.isBlock&&O===y.fn&&w++,y.fn||(y.fn=O));let P=b[1]==="else";if(y.isBlock&&y.fn&&(b[1]===`/${y.fn}`||P))if(w)!P&&w--;else{let F=y.startInner,z=h.substr(F,b.index-F);y.body===void 0?(y.body=z,y.startInner=b.index+b[0].length):y.elseBody=z,y.find+=z+b[0],P||(r.push(y),y=void 0)}else y.isBlock||r.push(y);if(k&&!y?.isBlock)break}return r.forEach(T=>{let k,O,{body:P,elseBody:F,expression:z,fn:R}=T;if(R){let N=[T],H=[],Y=z.length,U=0,K;for(O=0;O<=Y;O++){let Z=z.charAt(O);K||Z!=='"'&&Z!=="'"?K===Z&&(K=""):K=Z,K||Z!==" "&&O!==Y||(H.push(z.substr(U,O-U)),U=O+1)}for(O=xs[R].length;O--;)N.unshift(u(H[O+1]));k=xs[R].apply(t,N),T.isBlock&&typeof k=="boolean"&&(k=ys(k?P:F,t,e))}else{let N=yn(z)?[z]:z.split(":");if(k=u(N.shift()||""),N.length&&typeof k=="number"){let H=N.join(":");if(n.test(H)){let Y=parseInt((H.match(o)||["","-1"])[1],10);k!==null&&(k=g(k,Y,l.decimalPoint,H.indexOf(",")>-1?l.thousandsSep:""))}else k=c.dateFormat(H,k)}s.lastIndex=0,s.test(T.find)&&ta(k)&&(k=`"${k}"`)}h=h.replace(T.find,ea(k,""))}),M?ys(h,t,e):h}function vs(h,t,e,i){t=+t;let s,r,[n,o]=(h=+h||0).toString().split("e").map(Number),l=this?.options?.lang||bs.lang,c=(h.toString().split(".")[1]||"").split("e")[0].length,g=t,u={};e??(e=l.decimalPoint),i??(i=l.thousandsSep),t===-1?t=Math.min(c,20):xn(t)?t&&o<0&&((r=t+o)>=0?(n=+n.toExponential(r).split("e")[0],t=r):(n=Math.floor(n),h=t<20?+(n*Math.pow(10,o)).toFixed(t):0,o=0)):t=2,o&&(t??(t=2),h=n),xn(t)&&t>=0&&(u.minimumFractionDigits=t,u.maximumFractionDigits=t),i===""&&(u.useGrouping=!1);let b=i||e,y=b?"en":this?.locale||l.locale||_o,w=JSON.stringify(u)+y;return s=(xr[w]??(xr[w]=new Intl.NumberFormat(y,u))).format(h),b&&(s=s.replace(/([,\.])/g,"_$1").replace(/_\,/g,i??",").replace("_.",e??".")),(t||+s!=0)&&(!(o<0)||g)||(s="0"),o&&+s!=0&&(s+="e"+(o<0?"":"+")+o),s}let le={dateFormat:function(h,t,e){return fr.dateFormat(h,t,e)},format:ys,helpers:xs,numberFormat:vs};(function(h){let t;h.rendererTypes={},h.getRendererType=function(e=t){return h.rendererTypes[e]||h.rendererTypes[t]},h.registerRendererType=function(e,i,s){h.rendererTypes[e]=i,(!t||s)&&(t=e,W.Renderer=i)}})(S||(S={}));let Ke=S,{clamp:vn,pick:sa,pushUnique:wn,stableSort:ws}=st;(j||(j={})).distribute=function h(t,e,i){let s=t,r=s.reducedLen||e,n=(P,F)=>P.target-F.target,o=[],l=t.length,c=[],g=o.push,u,b,y,w=!0,M,T,k=0,O;for(u=l;u--;)k+=t[u].size;if(k>r){for(ws(t,(P,F)=>(F.rank||0)-(P.rank||0)),y=(O=t[0].rank===t[t.length-1].rank)?l/2:-1,b=O?y:l-1;y&&k>r;)M=t[u=Math.floor(b)],wn(c,u)&&(k-=M.size),b+=y,O&&b>=t.length&&(y/=2,b=y);c.sort((P,F)=>F-P).forEach(P=>g.apply(o,t.splice(P,1)))}for(ws(t,n),t=t.map(P=>({size:P.size,targets:[P.target],align:sa(P.align,.5)}));w;){for(u=t.length;u--;)M=t[u],T=(Math.min.apply(0,M.targets)+Math.max.apply(0,M.targets))/2,M.pos=vn(T-M.size*M.align,0,e-M.size);for(u=t.length,w=!1;u--;)u>0&&t[u-1].pos+t[u-1].size>t[u].pos&&(t[u-1].size+=t[u].size,t[u-1].targets=t[u-1].targets.concat(t[u].targets),t[u-1].align=.5,t[u-1].pos+t[u-1].size>e&&(t[u-1].pos=e-t[u-1].size),t.splice(u,1),w=!0)}return g.apply(s,o),u=0,t.some(P=>{let F=0;return(P.targets||[]).some(()=>(s[u].pos=P.pos+F,i!==void 0&&Math.abs(s[u].pos-s[u].target)>i?(s.slice(0,u+1).forEach(z=>delete z.pos),s.reducedLen=(s.reducedLen||e)-.1*e,s.reducedLen>.1*e&&h(s,e,i),!0):(F+=s[u].size,u++,!1)))}),ws(s,n),s};let Ae=j,{animate:kn,animObject:yr,stop:An}=Kt,{deg2rad:En,doc:gi,svg:ra,SVG_NS:ks,win:na,isFirefox:oa}=W,{addEvent:aa,attr:vr,createElement:la,crisp:Wi,css:wr,defined:de,erase:Mn,extend:mi,fireEvent:kr,getAlignFactor:Ar,isArray:As,isFunction:Tn,isNumber:ha,isObject:ca,isString:Er,merge:Mr,objectEach:fi,pick:me,pInt:Tr,pushUnique:uh,replaceNested:ph,syncTimeout:da,uniqueKey:Sn}=st;class Xt{_defaultGetter(t){let e=me(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^-?[\d\.]+$/.test(e)&&(e=parseFloat(e)),e}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){let e,i=this.renderer,s=this.element;return t&&(this.parentGroup=t),this.textStr!==void 0&&this.element.nodeName==="text"&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(s),this.onAdd&&this.onAdd(),this}addClass(t,e){let i=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce(function(s,r){return i.indexOf(r)===-1&&s.push(r),s},i?[i]:[]).join(" "))!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i,s=!0){let r=this.renderer,n=r.alignedObjects,o=!!t;t?(this.alignOptions=t,this.alignByTranslate=e,this.alignTo=i):(t=this.alignOptions||{},e=this.alignByTranslate,i=this.alignTo);let l=!i||Er(i)?i||"renderer":void 0;l&&(o&&uh(n,this),i=void 0);let c=me(i,r[l],r),g=(c.x||0)+(t.x||0)+((c.width||0)-(t.width||0))*Ar(t.align),u=(c.y||0)+(t.y||0)+((c.height||0)-(t.height||0))*Ar(t.verticalAlign),b={"text-align":t?.align};return b[e?"translateX":"x"]=Math.round(g),b[e?"translateY":"y"]=Math.round(u),s&&(this[this.placed?"animate":"attr"](b),this.placed=!0),this.alignAttr=b,this}alignSetter(t){let e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){let s=yr(me(e,this.renderer.globalAnimation,!0)),r=s.defer;return gi.hidden&&(s.duration=0),s.duration!==0?(i&&(s.complete=i),da(()=>{this.element&&kn(this,t,s)},r)):(this.attr(t,void 0,i||s.complete),fi(t,function(n,o){s.step&&s.step.call(this,n,{prop:o,pos:1,elem:this})},this)),this}applyTextOutline(t){let e=this.element;t.indexOf("contrast")!==-1&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));let i=t.split(" "),s=i[i.length-1],r=i[0];if(r&&r!=="none"&&W.svg){this.fakeTS=!0,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(g,u,b){return 2*Number(u)+b}),this.removeTextOutline();let n=gi.createElementNS(ks,"tspan");vr(n,{class:"highcharts-text-outline",fill:s,stroke:s,"stroke-width":r,"stroke-linejoin":"round"});let o=e.querySelector("textPath")||e;[].forEach.call(o.childNodes,g=>{let u=g.cloneNode(!0);u.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(b=>u.removeAttribute(b)),n.appendChild(u)});let l=0;[].forEach.call(o.querySelectorAll("text tspan"),g=>{l+=Number(g.getAttribute("dy"))});let c=gi.createElementNS(ks,"tspan");c.textContent="\u200B",vr(c,{x:Number(e.getAttribute("x")),dy:-l}),n.appendChild(c),o.insertBefore(n,o.firstChild)}}attr(t,e,i,s){let{element:r}=this,n=Xt.symbolCustomAttribs,o,l,c=this,g;return typeof t=="string"&&e!==void 0&&(o=t,(t={})[o]=e),typeof t=="string"?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,r):(fi(t,function(u,b){g=!1,s||An(this,b),this.symbolName&&n.indexOf(b)!==-1&&(l||(this.symbolAttr(t),l=!0),g=!0),this.rotation&&(b==="x"||b==="y")&&(this.doTransform=!0),g||(this[b+"Setter"]||this._defaultSetter).call(this,u,b,r)},this),this.afterSetters()),i&&i.call(this),c}clip(t){if(t&&!t.clipPath){let e=Sn()+"-",i=this.renderer.createElement("clipPath").attr({id:e}).add(this.renderer.defs);mi(t,{clipPath:i,id:e,count:0}),t.add(i)}return this.attr("clip-path",t?`url(${this.renderer.url}#${t.id})`:"none")}crisp(t,e){e=Math.round(e||t.strokeWidth||0);let i=t.x||this.x||0,s=t.y||this.y||0,r=(t.width||this.width||0)+i,n=(t.height||this.height||0)+s,o=Wi(i,e),l=Wi(s,e);return mi(t,{x:o,y:l,width:Wi(r,e)-o,height:Wi(n,e)-l}),de(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,e,i){let s=this.renderer,r,n,o,l,c,g,u,b,y,w,M=[],T;kr(this.renderer,"complexColor",{args:arguments},function(){if(t.radialGradient?n="radialGradient":t.linearGradient&&(n="linearGradient"),n){if(o=t[n],c=s.gradients,g=t.stops,y=i.radialReference,As(o)&&(t[n]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),n==="radialGradient"&&y&&!de(o.gradientUnits)&&(l=o,o=Mr(o,s.getRadialAttr(y,l),{gradientUnits:"userSpaceOnUse"})),fi(o,function(k,O){O!=="id"&&M.push(O,k)}),fi(g,function(k){M.push(k)}),c[M=M.join(",")])w=c[M].attr("id");else{o.id=w=Sn();let k=c[M]=s.createElement(n).attr(o).add(s.defs);k.radAttr=l,k.stops=[],g.forEach(function(O){O[1].indexOf("rgba")===0?(u=(r=zt.parse(O[1])).get("rgb"),b=r.get("a")):(u=O[1],b=1);let P=s.createElement("stop").attr({offset:O[0],"stop-color":u,"stop-opacity":b}).add(k);k.stops.push(P)})}T="url("+s.url+"#"+w+")",i.setAttribute(e,T),i.gradient=M,t.toString=function(){return T}}})}css(t){let e=this.styles,i={},s=this.element,r,n=!e;if(e&&fi(t,function(o,l){e&&e[l]!==o&&(i[l]=o,n=!0)}),n){e&&(t=mi(e,i)),t.width===null||t.width==="auto"?delete this.textWidth:s.nodeName.toLowerCase()==="text"&&t.width&&(r=this.textWidth=Tr(t.width)),mi(this.styles,t),r&&!ra&&this.renderer.forExport&&delete t.width;let o=oa&&t.fontSize||null;o&&(ha(o)||/^\d+$/.test(o))&&(t.fontSize+="px");let l=Mr(t);s.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(c=>l&&delete l[c]),l.color&&(l.fill=l.color)),wr(s,l)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e,i=this["stroke-width"];if(i==="inherit"&&(i=1),t=t&&t.toLowerCase()){let s=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(e=s.length;e--;)s[e]=""+Tr(s[e])*me(i,NaN);t=s.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let t=this,e=t.element||{},i=t.renderer,s=e.ownerSVGElement,r=e.nodeName==="SPAN"&&t.parentGroup||void 0,n,o;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,An(t),t.clipPath&&s){let l=t.clipPath;[].forEach.call(s.querySelectorAll("[clip-path],[CLIP-PATH]"),function(c){c.getAttribute("clip-path").indexOf(l.element.id)>-1&&c.removeAttribute("clip-path")}),t.clipPath=l.destroy()}if(t.connector=t.connector?.destroy(),t.stops){for(o=0;o<t.stops.length;o++)t.stops[o].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);r&&r.div&&r.div.childNodes.length===0;)n=r.parentGroup,t.safeRemoveChild(r.div),delete r.div,r=n;t.alignOptions&&Mn(i.alignedObjects,t),fi(t,function(l,c){t[c]&&t[c].parentGroup===t&&t[c].destroy&&t[c].destroy(),delete t[c]})}dSetter(t,e,i){As(t)&&(typeof t[0]=="string"&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((s,r,n)=>r&&r.join?(n?s+" ":"")+r.join(" "):(r||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fillSetter(t,e,i){typeof t=="string"?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}hrefSetter(t,e,i){i.setAttributeNS("http://www.w3.org/1999/xlink",e,t)}getBBox(t,e){let i,s,r,n,{alignValue:o,element:l,renderer:c,styles:g,textStr:u}=this,{cache:b,cacheKeys:y}=c,w=l.namespaceURI===this.SVG_NS,M=me(e,this.rotation,0),T=c.styledMode?l&&Xt.prototype.getStyle.call(l,"font-size"):g.fontSize;if(de(u)&&((n=u.toString()).indexOf("<")===-1&&(n=n.replace(/\d/g,"0")),n+=["",c.rootFontSize,T,M,this.textWidth,o,g.lineClamp,g.textOverflow,g.fontWeight].join(",")),n&&!t&&(i=b[n]),!i||i.polygon){if(w||c.forExport){try{r=this.fakeTS&&function(O){let P=l.querySelector(".highcharts-text-outline");P&&wr(P,{display:O})},Tn(r)&&r("none"),i=l.getBBox?mi({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight,x:0,y:0},Tn(r)&&r("")}catch{}(!i||i.width<0)&&(i={x:0,y:0,width:0,height:0})}else i=this.htmlGetBBox();s=i.height,w&&(i.height=s={"11px,17":14,"13px,20":16}[`${T||""},${Math.round(s)}`]||s),M&&(i=this.getRotatedBox(i,M));let k={bBox:i};kr(this,"afterGetBBox",k),i=k.bBox}if(n&&(u===""||i.height>0)){for(;y.length>250;)delete b[y.shift()];b[n]||y.push(n),b[n]=i}return i}getRotatedBox(t,e){let{x:i,y:s,width:r,height:n}=t,{alignValue:o,translateY:l,rotationOriginX:c=0,rotationOriginY:g=0}=this,u=Ar(o),b=Number(this.element.getAttribute("y")||0)-(l?0:s),y=e*En,w=(e-90)*En,M=Math.cos(y),T=Math.sin(y),k=r*M,O=r*T,P=Math.cos(w),F=Math.sin(w),[[z,R],[N,H]]=[c,g].map(at=>[at-at*M,at*T]),Y=i+u*(r-k)+z+H+b*P,U=Y+k,K=U-n*P,Z=K-k,Q=s+b-u*O-R+N+b*F,tt=Q+O,J=tt-n*F,et=J-O,pt=Math.min(Y,U,K,Z),lt=Math.min(Q,tt,J,et),ht=Math.max(Y,U,K,Z)-pt,gt=Math.max(Q,tt,J,et)-lt;return{x:pt,y:lt,width:ht,height:gt,polygon:[[Y,Q],[U,tt],[K,J],[Z,et]]}}getStyle(t){return na.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return(""+this.attr("class")).split(" ").indexOf(t)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(t,e){this.onEvents={},this.opacity=1,this.SVG_NS=ks,this.element=e==="span"||e==="body"?la(e):gi.createElementNS(this.SVG_NS,e),this.renderer=t,this.styles={},kr(this,"afterInit")}on(t,e){let{onEvents:i}=this;return i[t]&&i[t](),i[t]=aa(this.element,t,e),this}opacitySetter(t,e,i){let s=Number(Number(t).toFixed(3));this.opacity=s,i.setAttribute(e,s)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(Er(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){let e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}shadow(t){let{renderer:e}=this,i=Mr(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},ca(t)?t:{}),s=e.shadowDefinition(i);return this.attr({filter:t?`url(${e.url}#${s})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let t=this.getStyle("stroke-width"),e=0,i;return/px$/.test(t)?e=Tr(t):t!==""&&(vr(i=gi.createElementNS(ks,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(i),e=i.getBBox().width,i.parentNode.removeChild(i)),e}symbolAttr(t){let e=this;Xt.symbolCustomAttribs.forEach(function(i){e[i]=me(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(t){let e=this.element,i=e.getElementsByTagName("title")[0]||gi.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=ph(me(t,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(t="transform"){let{element:e,matrix:i,rotation:s=0,rotationOriginX:r,rotationOriginY:n,scaleX:o,scaleY:l,translateX:c=0,translateY:g=0}=this,u=["translate("+c+","+g+")"];de(i)&&u.push("matrix("+i.join(",")+")"),s&&(u.push("rotate("+s+" "+me(r,e.getAttribute("x"),0)+" "+me(n,e.getAttribute("y")||0)+")"),this.text?.element.tagName==="SPAN"&&this.text.attr({rotation:s,rotationOriginX:(r||0)-this.padding,rotationOriginY:(n||0)-this.padding})),(de(o)||de(l))&&u.push("scale("+me(o,1)+" "+me(l,1)+")"),u.length&&!(this.text||this).textPath&&e.setAttribute(t,u.join(" "))}visibilitySetter(t,e,i){t==="inherit"?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return this.element.nodeName==="circle"&&(t==="x"?t="cx":t==="y"&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){let i=this.renderer,s=this.parentGroup,r=(s||i).element||i.box,n=this.element,o=r===i.box,l,c,g,u=!1,b,y=this.added,w;if(de(t)?(n.setAttribute("data-z-index",t),t=+t,this[e]===t&&(y=!1)):de(this[e])&&n.removeAttribute("data-z-index"),this[e]=t,y){for((t=this.zIndex)&&s&&(s.handleZ=!0),w=(l=r.childNodes).length-1;w>=0&&!u;w--)b=!de(g=(c=l[w]).getAttribute("data-z-index")),c!==n&&(t<0&&b&&!o&&!w?(r.insertBefore(n,l[w]),u=!0):(Tr(g)<=t||b&&(!de(t)||t>=0))&&(r.insertBefore(n,l[w+1]),u=!0));u||(r.insertBefore(n,l[o?3:0]),u=!0)}return u}}Xt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Xt.prototype.strokeSetter=Xt.prototype.fillSetter,Xt.prototype.yGetter=Xt.prototype.xGetter,Xt.prototype.matrixSetter=Xt.prototype.rotationOriginXSetter=Xt.prototype.rotationOriginYSetter=Xt.prototype.rotationSetter=Xt.prototype.scaleXSetter=Xt.prototype.scaleYSetter=Xt.prototype.translateXSetter=Xt.prototype.translateYSetter=Xt.prototype.verticalAlignSetter=function(h,t){this[t]=h,this.doTransform=!0};let ve=Xt,{defined:Cn,extend:On,getAlignFactor:Pn,isNumber:ji,merge:ua,pick:Es,removeEvent:Ln}=st;class qe extends ve{constructor(t,e,i,s,r,n,o,l,c,g){let u;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=e,this.x=i,this.y=s,this.anchorX=n,this.anchorY=o,this.baseline=c,this.className=g,this.addClass(g==="button"?"highcharts-no-tooltip":"highcharts-label"),g&&this.addClass("highcharts-"+g),this.text=t.text(void 0,0,0,l).attr({zIndex:1}),typeof r=="string"&&((u=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=qe.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||u,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let e=Pn(t);this.textAlign=t,e!==this.alignFactor&&(this.alignFactor=e,this.bBox&&ji(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(t){if(t){let e={};t=ua(t),qe.textProps.forEach(i=>{t[i]!==void 0&&(e[i]=t[i],delete t[i])}),this.text.css(e),"fontSize"in e||"fontWeight"in e?this.updateTextPadding():("width"in e||"textOverflow"in e)&&this.updateBoxSize()}return ve.prototype.css.call(this,t)}destroy(){Ln(this.element,"mouseenter"),Ln(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),ve.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(t,e){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:i,height:s=0,translateX:r=0,translateY:n=0,width:o=0}=this,l=Es(this.paddingLeft,i),c=e??(this.rotation||0),g={width:o,height:s,x:r+this.bBox.x-l,y:n+this.bBox.y-i+this.baselineOffset};return c&&(g=this.getRotatedBox(g,c)),g}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Es(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Cn(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){ji(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=this["text-align"]=t,this.updateTextPadding()}textSetter(t){t!==void 0&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t,e=this.text,i={},s=this.padding,r=this.bBox=(!ji(this.widthSetting)||!ji(this.heightSetting)||this.textAlign)&&Cn(e.textStr)?e.getBBox(void 0,0):qe.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||r.height||0)+2*s;let n=this.renderer.fontMetrics(e);if(this.baselineOffset=s+Math.min((this.text.firstLineMetrics||n).b,r.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-n.h)/2),this.needsBox&&!e.textPath){if(!this.box){let o=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();o.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),o.add(this)}t=this.getCrispAdjust(),i.x=t,i.y=(this.baseline?-this.baselineOffset:0)+t,i.width=Math.round(this.width),i.height=Math.round(this.height),this.box.attr(On(i,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text,e=t.styles.textAlign||this.textAlign;if(!t.textPath){this.updateBoxSize();let i=this.baseline?0:this.baselineOffset,s=(this.paddingLeft??this.padding)+Pn(e)*(this.widthSetting??this.bBox.width);(s!==t.x||i!==t.y)&&(t.attr({align:e,x:s}),i!==void 0&&t.attr("y",i)),t.x=s,t.y=i}}widthSetter(t){this.widthSetting=ji(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){let t=this.padding,e=Es(this.paddingLeft,t),i=Es(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+e+i}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}qe.emptyBBox={width:0,height:0,x:0,y:0},qe.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Dn,isNumber:pa,pick:Xi}=st;function Bn(h,t,e,i,s){let r=[];if(s){let n=s.start||0,o=Xi(s.r,e),l=Xi(s.r,i||e),c=2e-4/(s.borderRadius?1:Math.max(o,1)),g=Math.abs((s.end||0)-n-2*Math.PI)<c,u=(s.end||0)-(g?c:0),b=s.innerR,y=Xi(s.open,g),w=Math.cos(n),M=Math.sin(n),T=Math.cos(u),k=Math.sin(u),O=Xi(s.longArc,u-n-Math.PI<c?0:1),P=["A",o,l,0,O,Xi(s.clockwise,1),h+o*T,t+l*k];P.params={start:n,end:u,cx:h,cy:t},r.push(["M",h+o*w,t+l*M],P),Dn(b)&&((P=["A",b,b,0,O,Dn(s.clockwise)?1-s.clockwise:0,h+b*w,t+b*M]).params={start:u,end:n,cx:h,cy:t},r.push(y?["M",h+b*T,t+b*k]:["L",h+b*T,t+b*k],P)),y||r.push(["Z"])}return r}function Gi(h,t,e,i,s){return s&&s.r?Fe(h,t,e,i,s):[["M",h,t],["L",h+e,t],["L",h+e,t+i],["L",h,t+i],["Z"]]}function Fe(h,t,e,i,s){let r=s?.r||0;return[["M",h+r,t],["L",h+e-r,t],["A",r,r,0,0,1,h+e,t+r],["L",h+e,t+i-r],["A",r,r,0,0,1,h+e-r,t+i],["L",h+r,t+i],["A",r,r,0,0,1,h,t+i-r],["L",h,t+r],["A",r,r,0,0,1,h+r,t],["Z"]]}let Vi={arc:Bn,callout:function(h,t,e,i,s){let r=Math.min(s&&s.r||0,e,i),n=r+6,o=s&&s.anchorX,l=s&&s.anchorY||0,c=Fe(h,t,e,i,{r});if(!pa(o)||o<e&&o>0&&l<i&&l>0)return c;if(h+o>e-n)if(l>t+n&&l<t+i-n)c.splice(3,1,["L",h+e,l-6],["L",h+e+6,l],["L",h+e,l+6],["L",h+e,t+i-r]);else if(o<e){let g=l<t+n,u=g?t:t+i;c.splice(g?2:5,0,["L",o,l],["L",h+e-r,u])}else c.splice(3,1,["L",h+e,i/2],["L",o,l],["L",h+e,i/2],["L",h+e,t+i-r]);else if(h+o<n)if(l>t+n&&l<t+i-n)c.splice(7,1,["L",h,l+6],["L",h-6,l],["L",h,l-6],["L",h,t+r]);else if(o>0){let g=l<t+n,u=g?t:t+i;c.splice(g?1:6,0,["L",o,l],["L",h+r,u])}else c.splice(7,1,["L",h,i/2],["L",o,l],["L",h,i/2],["L",h,t+r]);else l>i&&o<e-n?c.splice(5,1,["L",o+6,t+i],["L",o,t+i+6],["L",o-6,t+i],["L",h+r,t+i]):l<0&&o>n&&c.splice(1,1,["L",o-6,t],["L",o,t-6],["L",o+6,t],["L",e-r,t]);return c},circle:function(h,t,e,i){return Bn(h+e/2,t+i/2,e/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(h,t,e,i){return[["M",h+e/2,t],["L",h+e,t+i/2],["L",h+e/2,t+i],["L",h,t+i/2],["Z"]]},rect:Gi,roundedRect:Fe,square:Gi,triangle:function(h,t,e,i){return[["M",h+e/2,t],["L",h+e,t+i],["L",h,t+i],["Z"]]},"triangle-down":function(h,t,e,i){return[["M",h,t],["L",h+e,t],["L",h+e/2,t+i],["Z"]]}},{doc:Sr,SVG_NS:ga,win:Cr}=W,{attr:Yi,extend:ma,fireEvent:_e,isString:Ms,objectEach:Nn,pick:fa}=st,Ze=(h,t)=>h.substring(0,t)+"\u2026",Or=class{constructor(h){let t=h.styles;this.renderer=h.renderer,this.svgElement=h,this.width=h.textWidth,this.textLineHeight=t&&t.lineHeight,this.textOutline=t&&t.textOutline,this.ellipsis=!!(t&&t.textOverflow==="ellipsis"),this.lineClamp=t?.lineClamp,this.noWrap=!!(t&&t.whiteSpace==="nowrap")}buildSVG(){let h=this.svgElement,t=h.element,e=h.renderer,i=fa(h.textStr,"").toString(),s=i.indexOf("<")!==-1,r=t.childNodes,n=!h.added&&e.box,o=[i,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,h.getStyle("font-size"),h.styles.lineClamp,this.width].join(",");if(o!==h.textCache){h.textCache=o,delete h.actualWidth;for(let l=r.length;l--;)t.removeChild(r[l]);if(s||this.ellipsis||this.width||h.textPath||i.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(i))){if(i!==""){n&&n.appendChild(t);let l=new Ct(i);this.modifyTree(l.nodes),l.addToDOM(t),this.modifyDOM(),this.ellipsis&&(t.textContent||"").indexOf("\u2026")!==-1&&h.attr("title",this.unescapeEntities(h.textStr||"",["&lt;","&gt;"])),n&&n.removeChild(t)}}else t.appendChild(Sr.createTextNode(this.unescapeEntities(i)));Ms(this.textOutline)&&h.applyTextOutline&&h.applyTextOutline(this.textOutline)}}modifyDOM(){let h,t=this.svgElement,e=Yi(t.element,"x");for(t.firstLineMetrics=void 0;(h=t.element.firstChild)&&/^[\s\u200B]*$/.test(h.textContent||" ");)t.element.removeChild(h);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(n,o)=>{n.nextSibling&&n.previousSibling&&(o===0&&n.previousSibling.nodeType===1&&(t.firstLineMetrics=t.renderer.fontMetrics(n.previousSibling)),Yi(n,{dy:this.getLineHeight(n.nextSibling),x:e}))});let i=this.width||0;if(!i)return;let s=(n,o)=>{let l=n.textContent||"",c=l.replace(/([^\^])-/g,"$1- ").split(" "),g=!this.noWrap&&(c.length>1||t.element.childNodes.length>1),u=this.getLineHeight(o),b=Math.max(0,i-.8*u),y=0,w=t.actualWidth;if(g){let M=[],T=[];for(;o.firstChild&&o.firstChild!==n;)T.push(o.firstChild),o.removeChild(o.firstChild);for(;c.length;)if(c.length&&!this.noWrap&&y>0&&(M.push(n.textContent||""),n.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(n,void 0,c,y===0&&w||0,i,b,(k,O)=>c.slice(0,O).join(" ").replace(/- /g,"-")),w=t.actualWidth,y++,this.lineClamp&&y>=this.lineClamp){c.length&&(this.truncate(n,n.textContent||"",void 0,0,i,b,Ze),n.textContent=n.textContent?.replace("\u2026","")+"\u2026");break}T.forEach(k=>{o.insertBefore(k,n)}),M.forEach(k=>{o.insertBefore(Sr.createTextNode(k),n);let O=Sr.createElementNS(ga,"tspan");O.textContent="\u200B",Yi(O,{dy:u,x:e}),o.insertBefore(O,n)})}else this.ellipsis&&l&&this.truncate(n,l,void 0,0,i,b,Ze)},r=n=>{[].slice.call(n.childNodes).forEach(o=>{o.nodeType===Cr.Node.TEXT_NODE?s(o,n):(o.className.baseVal.indexOf("highcharts-br")!==-1&&(t.actualWidth=0),r(o))})};r(t.element)}getLineHeight(h){let t=h.nodeType===Cr.Node.TEXT_NODE?h.parentElement:h;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(h){let t=(e,i)=>{let{attributes:s={},children:r,style:n={},tagName:o}=e,l=this.renderer.styledMode;if(o==="b"||o==="strong"?l?s.class="highcharts-strong":n.fontWeight="bold":(o==="i"||o==="em")&&(l?s.class="highcharts-emphasized":n.fontStyle="italic"),n&&n.color&&(n.fill=n.color),o==="br"){s.class="highcharts-br",e.textContent="\u200B";let c=h[i+1];c&&c.textContent&&(c.textContent=c.textContent.replace(/^ +/gm,""))}else o==="a"&&r&&r.some(c=>c.tagName==="#text")&&(e.children=[{children:r,tagName:"tspan"}]);o!=="#text"&&o!=="a"&&(e.tagName="tspan"),ma(e,{attributes:s,style:n}),r&&r.filter(c=>c.tagName!=="#text").forEach(t)};h.forEach(t),_e(this.svgElement,"afterModifyTree",{nodes:h})}truncate(h,t,e,i,s,r,n){let o,l,c=this.svgElement,{rotation:g}=c,u=[],b=e&&!i?1:0,y=(t||e||"").length,w=y;e||(s=r);let M=function(T,k){let O=k||T,P=h.parentNode;if(P&&u[O]===void 0&&P.getSubStringLength)try{u[O]=i+P.getSubStringLength(0,e?O+1:O)}catch{}return u[O]};if(c.rotation=0,i+(l=M(h.textContent.length))>s){for(;b<=y;)w=Math.ceil((b+y)/2),e&&(o=n(e,w)),l=M(w,o&&o.length-1),b===y?b=y+1:l>s?y=w-1:b=w;y===0?h.textContent="":t&&y===t.length-1||(h.textContent=o||n(t||e,w)),this.ellipsis&&l>s&&this.truncate(h,h.textContent||"",void 0,0,s,r,Ze)}e&&e.splice(0,w),c.actualWidth=l,c.rotation=g}unescapeEntities(h,t){return Nn(this.renderer.escapes,function(e,i){t&&t.indexOf(e)!==-1||(h=h.toString().replace(RegExp(e,"g"),i))}),h}},{defaultOptions:$i}=ae,{charts:ba,deg2rad:Re,doc:bi,isFirefox:In,isMS:Ts,isWebKit:xa,noop:Fn,SVG_NS:qt,symbolSizes:xi,win:yi}=W,{addEvent:Ee,attr:Ss,createElement:vi,crisp:Rn,css:Cs,defined:Me,destroyObjectProperties:zn,extend:te,isArray:wi,isNumber:_t,isObject:ze,isString:Hn,merge:ki,pick:Ai,pInt:ya,replaceNested:Pr,uniqueKey:va}=st;class Os{constructor(t,e,i,s,r,n,o){let l,c,g=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),u=g.element;o||g.css(this.getStyle(s||{})),t.appendChild(u),Ss(t,"dir","ltr"),t.innerHTML.indexOf("xmlns")===-1&&Ss(u,"xmlns",this.SVG_NS),this.box=u,this.boxWrapper=g,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(bi.createTextNode("Created with Highcharts 12.1.2")),this.defs=this.createElement("defs").add(),this.allowHTML=n,this.forExport=r,this.styledMode=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=g.getStyle("font-size"),this.setSize(e,i,!1),In&&t.getBoundingClientRect&&((l=function(){Cs(t,{left:0,top:0}),c=t.getBoundingClientRect(),Cs(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=Ee(yi,"resize",l))}definition(t){return new Ct([t]).addToDOM(this.defs.element)}getReferenceURL(){if((In||xa)&&bi.getElementsByTagName("base").length){if(!Me(p)){let t=va(),e=new Ct([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(bi.body);Cs(e,{position:"fixed",top:0,left:0,zIndex:9e5});let i=bi.elementFromPoint(6,6);p=(i&&i.id)==="hitme",bi.body.removeChild(e)}if(p)return Pr(yi.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=te({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),zn(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){let e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map(s=>`${s}-${t[s]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),i=ki({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e,filterUnits:i.filterUnits},children:this.getShadowFilterContent(i)}),e}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new Or(t).buildSVG()}getContrast(t){let e=zt.parse(t).rgba.map(s=>{let r=s/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),i=.2126*e[0]+.7152*e[1]+.0722*e[2];return 1.05/(i+.05)>(i+.05)/.05?"#FFFFFF":"#000000"}button(t,e,i,s,r={},n,o,l,c,g){let u=this.label(t,e,i,c,void 0,void 0,g,void 0,"button"),b=this.styledMode,y=arguments,w=0;r=ki($i.global.buttonTheme,r),b&&(delete r.fill,delete r.stroke,delete r["stroke-width"]);let M=r.states||{},T=r.style||{};delete r.states,delete r.style;let k=[Ct.filterUserAttributes(r)],O=[T];return b||["hover","select","disabled"].forEach((P,F)=>{k.push(ki(k[0],Ct.filterUserAttributes(y[F+5]||M[P]||{}))),O.push(k[F+1].style),delete k[F+1].style}),Ee(u.element,Ts?"mouseover":"mouseenter",function(){w!==3&&u.setState(1)}),Ee(u.element,Ts?"mouseout":"mouseleave",function(){w!==3&&u.setState(w)}),u.setState=(P=0)=>{if(P!==1&&(u.state=w=P),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][P]),!b){u.attr(k[P]);let F=O[P];ze(F)&&u.css(F)}},u.attr(k[0]),!b&&(u.css(te({cursor:"default"},T)),g&&u.text.css({pointerEvents:"none"})),u.on("touchstart",P=>P.stopPropagation()).on("click",function(P){w!==3&&s.call(u,P)})}crispLine(t,e){let[i,s]=t;return Me(i[1])&&i[1]===s[1]&&(i[1]=s[1]=Rn(i[1],e)),Me(i[2])&&i[2]===s[2]&&(i[2]=s[2]=Rn(i[2],e)),t}path(t){let e=this.styledMode?{}:{fill:"none"};return wi(t)?e.d=t:ze(t)&&te(e,t),this.createElement("path").attr(e)}circle(t,e,i){let s=ze(t)?t:t===void 0?{}:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(n,o,l){l.setAttribute("c"+o,n)},r.attr(s)}arc(t,e,i,s,r,n){let o;ze(t)?(e=(o=t).y,i=o.r,s=o.innerR,r=o.start,n=o.end,t=o.x):o={innerR:s,start:r,end:n};let l=this.symbol("arc",t,e,i,i,o);return l.r=i,l}rect(t,e,i,s,r,n){let o=ze(t)?t:t===void 0?{}:{x:t,y:e,r,width:Math.max(i||0,0),height:Math.max(s||0,0)},l=this.createElement("rect");return this.styledMode||(n!==void 0&&(o["stroke-width"]=n,te(o,l.crisp(o))),o.fill="none"),l.rSetter=function(c,g,u){l.r=c,Ss(u,{rx:c,ry:c})},l.rGetter=function(){return l.r||0},l.attr(o)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Ai(i,!0)?void 0:0}),this.alignElements()}g(t){let e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,s,r,n){let o={preserveAspectRatio:"none"};_t(e)&&(o.x=e),_t(i)&&(o.y=i),_t(s)&&(o.width=s),_t(r)&&(o.height=r);let l=this.createElement("image").attr(o),c=function(g){l.attr({href:t}),n.call(l,g)};if(n){l.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let g=new yi.Image;Ee(g,"load",c),g.src=t,g.complete&&c({})}else l.attr({href:t});return l}symbol(t,e,i,s,r,n){let o,l,c,g,u=this,b=/^url\((.*?)\)$/,y=b.test(t),w=!y&&(this.symbols[t]?t:"circle"),M=w&&this.symbols[w];if(M)typeof e=="number"&&(l=M.call(this.symbols,e||0,i||0,s||0,r||0,n)),o=this.path(l),u.styledMode||o.attr("fill","none"),te(o,{symbolName:w||void 0,x:e,y:i,width:s,height:r}),n&&te(o,n);else if(y){c=t.match(b)[1];let T=o=this.image(c);T.imgwidth=Ai(n&&n.width,xi[c]&&xi[c].width),T.imgheight=Ai(n&&n.height,xi[c]&&xi[c].height),g=k=>k.attr({width:k.width,height:k.height}),["width","height"].forEach(k=>{T[`${k}Setter`]=function(O,P){this[P]=O;let{alignByTranslate:F,element:z,width:R,height:N,imgwidth:H,imgheight:Y}=this,U=P==="width"?H:Y,K=1;n&&n.backgroundSize==="within"&&R&&N&&H&&Y?(K=Math.min(R/H,N/Y),Ss(z,{width:Math.round(H*K),height:Math.round(Y*K)})):z&&U&&z.setAttribute(P,U),!F&&H&&Y&&this.translate(((R||0)-H*K)/2,((N||0)-Y*K)/2)}}),Me(e)&&T.attr({x:e,y:i}),T.isImg=!0,T.symbolUrl=t,Me(T.imgwidth)&&Me(T.imgheight)?g(T):(T.attr({width:0,height:0}),vi("img",{onload:function(){let k=ba[u.chartIndex];this.width===0&&(Cs(this,{position:"absolute",top:"-999em"}),bi.body.appendChild(this)),xi[c]={width:this.width,height:this.height},T.imgwidth=this.width,T.imgheight=this.height,T.element&&g(T),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,u.imgCount||!k||k.hasLoaded||k.onload()},src:c}),this.imgCount++)}return o}clipRect(t,e,i,s){return this.rect(t,e,i,s,0)}text(t,e,i,s){let r={};if(s&&(this.allowHTML||!this.forExport))return this.html(t,e,i);r.x=Math.round(e||0),i&&(r.y=Math.round(i)),Me(t)&&(r.text=t);let n=this.createElement("text").attr(r);return s&&(!this.forExport||this.allowHTML)||(n.xSetter=function(o,l,c){let g=c.getElementsByTagName("tspan"),u=c.getAttribute(l);for(let b=0,y;b<g.length;b++)(y=g[b]).getAttribute(l)===u&&y.setAttribute(l,o);c.setAttribute(l,o)}),n}fontMetrics(t){let e=ya(ve.prototype.getStyle.call(t,"font-size")||0),i=e<24?e+3:Math.round(1.2*e),s=Math.round(.8*i);return{h:i,b:s,f:e}}rotCorr(t,e,i){let s=t;return e&&i&&(s=Math.max(s*Math.cos(e*Re),4)),{x:-t/3*Math.sin(e*Re),y:s}}pathToSegments(t){let e=[],i=[],s={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let r=0;r<t.length;r++)Hn(i[0])&&_t(t[r])&&i.length===s[i[0].toUpperCase()]&&t.splice(r,0,i[0].replace("M","L").replace("m","l")),typeof t[r]=="string"&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[r]);return e.push(i.slice(0)),e}label(t,e,i,s,r,n,o,l,c){return new qe(this,t,e,i,s,r,n,o,l,c)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}te(Os.prototype,{Element:ve,SVG_NS:qt,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Vi,draw:Fn}),Ke.registerRendererType("svg",Os,!0);let{composed:wa}=W,{attr:ka,css:Ei,createElement:Aa,defined:Wn,extend:Ea,getAlignFactor:Ma,isNumber:Ta,pInt:Sa,pushUnique:Ca}=st;function Ui(h,t,e){let i=this.div?.style||e.style;ve.prototype[`${t}Setter`].call(this,h,t,e),i&&(i[t]=h)}let Oa=(h,t)=>{if(!h.div){let e=ka(h.element,"class"),i=h.css,s=Aa("div",e?{className:e}:void 0,{position:"absolute",left:`${h.translateX||0}px`,top:`${h.translateY||0}px`,...h.styles,display:h.display,opacity:h.opacity,visibility:h.visibility},h.parentGroup?.div||t);h.classSetter=(r,n,o)=>{o.setAttribute("class",r),s.className=r},h.translateXSetter=h.translateYSetter=(r,n)=>{h[n]=r,s.style[n==="translateX"?"left":"top"]=`${r}px`,h.doTransform=!0},h.opacitySetter=h.visibilitySetter=Ui,h.css=r=>(i.call(h,r),r.cursor&&(s.style.cursor=r.cursor),r.pointerEvents&&(s.style.pointerEvents=r.pointerEvents),h),h.on=function(){return ve.prototype.on.apply({element:s,onEvents:h.onEvents},arguments),h},h.div=s}return h.div};class Ki extends ve{static compose(t){Ca(wa,this.compose)&&(t.prototype.html=function(e,i,s){return new Ki(this,"span").attr({text:e,x:Math.round(i),y:Math.round(s)})})}constructor(t,e){super(t,e),this.css({position:"absolute",...t.styledMode?{}:{fontFamily:t.style.fontFamily,fontSize:t.style.fontSize}})}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}css(t){let e,{element:i}=this,s=i.tagName==="SPAN"&&t&&"width"in t,r=s&&t.width;return s&&(delete t.width,this.textWidth=Sa(r)||void 0,e=!0),t?.textOverflow==="ellipsis"&&(t.overflow="hidden"),t?.lineClamp&&(t.display="-webkit-box",t.WebkitLineClamp=t.lineClamp,t.WebkitBoxOrient="vertical",t.overflow="hidden"),Ta(Number(t?.fontSize))&&(t.fontSize=t.fontSize+"px"),Ea(this.styles,t),Ei(i,t),e&&this.updateTransform(),this}htmlGetBBox(){let{element:t}=this;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:t,renderer:e,rotation:i,rotationOriginX:s,rotationOriginY:r,scaleX:n,scaleY:o,styles:l,textAlign:c="left",textWidth:g,translateX:u=0,translateY:b=0,x:y=0,y:w=0}=this,{display:M="block",whiteSpace:T}=l;if(Ei(t,{marginLeft:`${u}px`,marginTop:`${b}px`}),t.tagName==="SPAN"){let k,O=[i,c,t.innerHTML,g,this.textAlign].join(","),P=-(this.parentGroup?.padding*1)||0;if(g!==this.oldTextWidth){let N=this.textPxLength?this.textPxLength:(Ei(t,{width:"",whiteSpace:T||"nowrap"}),t.offsetWidth),H=g||0;(H>this.oldTextWidth||N>H)&&(/[ \-]/.test(t.textContent||t.innerText)||t.style.textOverflow==="ellipsis")&&(Ei(t,{width:N>H||i||n?g+"px":"auto",display:M,whiteSpace:T||"normal"}),this.oldTextWidth=g)}O!==this.cTT&&(k=e.fontMetrics(t).b,Wn(i)&&(i!==(this.oldRotation||0)||c!==this.oldAlign)&&this.setSpanRotation(i,P,P),this.getSpanCorrection(!Wn(i)&&!this.textWidth&&this.textPxLength||t.offsetWidth,k,Ma(c)));let{xCorr:F=0,yCorr:z=0}=this,R={left:`${y+F}px`,top:`${w+z}px`,textAlign:c,transformOrigin:`${(s??y)-F-y-P}px ${(r??w)-z-w-P}px`};(n||o)&&(R.transform=`scale(${n??1},${o??1})`),Ei(t,R),this.cTT=O,this.oldRotation=i,this.oldAlign=c}}setSpanRotation(t,e,i){Ei(this.element,{transform:`rotate(${t}deg)`,transformOrigin:`${e}% ${i}px`})}add(t){let e,i=this.renderer.box.parentNode,s=[];if(this.parentGroup=t,t&&!(e=t.div)){let r=t;for(;r;)s.push(r),r=r.parentGroup;for(let n of s.reverse())e=Oa(n,i)}return(e||i).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Ct.setElementHTML(this.element,t??""),this.textStr=t,this.doTransform=!0)}alignSetter(t){this.alignValue=this.textAlign=t,this.doTransform=!0}xSetter(t,e){this[e]=t,this.doTransform=!0}}let He=Ki.prototype;He.visibilitySetter=He.opacitySetter=Ui,He.ySetter=He.rotationSetter=He.rotationOriginXSetter=He.rotationOriginYSetter=He.xSetter,function(h){h.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},h.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(q||(q={}));let Pa=q,{addEvent:La,isFunction:jn,objectEach:Qe,removeEvent:Ps}=st;(it||(it={})).registerEventOptions=function(h,t){h.eventOptions=h.eventOptions||{},Qe(t.events,function(e,i){h.eventOptions[i]!==e&&(h.eventOptions[i]&&(Ps(h,i,h.eventOptions[i]),delete h.eventOptions[i]),jn(e)&&(h.eventOptions[i]=e,La(h,i,e,{order:0})))})};let qi=it,{deg2rad:Ls}=W,{clamp:Xn,correctFloat:_i,defined:Ds,destroyObjectProperties:Lr,extend:Gn,fireEvent:Mi,getAlignFactor:Vn,isNumber:Bs,merge:Da,objectEach:Ba,pick:fe}=st,We=class{constructor(h,t,e,i,s){this.isNew=!0,this.isNewLabel=!0,this.axis=h,this.pos=t,this.type=e||"",this.parameters=s||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Mi(this,"init"),e||i||this.addLabel()}addLabel(){let h=this,t=h.axis,e=t.options,i=t.chart,s=t.categories,r=t.logarithmic,n=t.names,o=h.pos,l=fe(h.options&&h.options.labels,e.labels),c=t.tickPositions,g=o===c[0],u=o===c[c.length-1],b=(!l.step||l.step===1)&&t.tickInterval===1,y=c.info,w=h.label,M,T,k,O=this.parameters.category||(s?fe(s[o],n[o],o):o);r&&Bs(O)&&(O=_i(r.lin2log(O))),t.dateTime&&(y?M=(T=i.time.resolveDTLFormat(e.dateTimeLabelFormats[!e.grid&&y.higherRanks[o]||y.unitName])).main:Bs(O)&&(M=t.dateTime.getXDateFormat(O,e.dateTimeLabelFormats||{}))),h.isFirst=g,h.isLast=u;let P={axis:t,chart:i,dateTimeLabelFormat:M,isFirst:g,isLast:u,pos:o,tick:h,tickPositionInfo:y,value:O};Mi(this,"labelFormat",P);let F=N=>l.formatter?l.formatter.call(N,N):l.format?(N.text=t.defaultLabelFormatter.call(N),le.format(l.format,N,i)):t.defaultLabelFormatter.call(N),z=F.call(P,P),R=T&&T.list;R?h.shortenLabel=function(){for(k=0;k<R.length;k++)if(Gn(P,{dateTimeLabelFormat:R[k]}),w.attr({text:F.call(P,P)}),w.getBBox().width<t.getSlotWidth(h)-2*(l.padding||0))return;w.attr({text:""})}:h.shortenLabel=void 0,b&&t._addedPlotLB&&h.moveLabel(z,l),Ds(w)||h.movedLabel?w&&w.textStr!==z&&!b&&(!w.textWidth||l.style.width||w.styles.width||w.css({width:null}),w.attr({text:z}),w.textPxLength=w.getBBox().width):(h.label=w=h.createLabel(z,l),h.rotation=0)}createLabel(h,t,e){let i=this.axis,{renderer:s,styledMode:r}=i.chart,n=Ds(h)&&t.enabled?s.text(h,e?.x,e?.y,t.useHTML).add(i.labelGroup):void 0;if(n){let o=t.style.whiteSpace||"normal";r||n.css(Da(t.style,{whiteSpace:"nowrap"})),n.textPxLength=n.getBBox().width,r||n.css({whiteSpace:o})}return n}destroy(){Lr(this,this.axis)}getPosition(h,t,e,i){let s=this.axis,r=s.chart,n=i&&r.oldChartHeight||r.chartHeight,o={x:h?_i(s.translate(t+e,void 0,void 0,i)+s.transB):s.left+s.offset+(s.opposite?(i&&r.oldChartWidth||r.chartWidth)-s.right-s.left:0),y:h?n-s.bottom+s.offset-(s.opposite?s.height:0):_i(n-s.translate(t+e,void 0,void 0,i)-s.transB)};return o.y=Xn(o.y,-1e9,1e9),Mi(this,"afterGetPosition",{pos:o}),o}getLabelPosition(h,t,e,i,s,r,n,o){let l,c,g=this.axis,u=g.transA,b=g.isLinked&&g.linkedParent?g.linkedParent.reversed:g.reversed,y=g.staggerLines,w=g.tickRotCorr||{x:0,y:0},M=i||g.reserveSpaceDefault?0:-g.labelOffset*(g.labelAlign==="center"?.5:1),T=s.distance,k={};return l=g.side===0?e.rotation?-T:-e.getBBox().height:g.side===2?w.y+T:Math.cos(e.rotation*Ls)*(w.y-e.getBBox(!1,0).height/2),Ds(s.y)&&(l=g.side===0&&g.horiz?s.y+l:s.y),h=h+fe(s.x,[0,1,0,-1][g.side]*T)+M+w.x-(r&&i?r*u*(b?-1:1):0),t=t+l-(r&&!i?r*u*(b?1:-1):0),y&&(c=n/(o||1)%y,g.opposite&&(c=y-c-1),t+=c*(g.labelOffset/y)),k.x=h,k.y=Math.round(t),Mi(this,"afterGetLabelPosition",{pos:k,tickmarkOffset:r,index:n}),k}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(h,t,e,i,s=!1,r){return r.crispLine([["M",h,t],["L",h+(s?0:-e),t+(s?e:0)]],i)}handleOverflow(h){let t=this.axis,e=t.options.labels,i=h.x,s=t.chart.chartWidth,r=t.chart.spacing,n=fe(t.labelLeft,Math.min(t.pos,r[3])),o=fe(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,s-r[1])),l=this.label,c=this.rotation,g=Vn(t.labelAlign||l.attr("align")),u=l.getBBox().width,b=t.getSlotWidth(this),y=b,w=1,M,T,k;c||e.overflow!=="justify"?c<0&&i-g*u<n?k=Math.round(i/Math.cos(c*Ls)-n):c>0&&i+g*u>o&&(k=Math.round((s-i)/Math.cos(c*Ls))):(M=i-g*u,T=i+(1-g)*u,M<n?y=h.x+y*(1-g)-n:T>o&&(y=o-h.x+y*g,w=-1),(y=Math.min(b,y))<b&&t.labelAlign==="center"&&(h.x+=w*(b-y-g*(b-Math.min(u,y)))),(u>y||t.autoRotation&&(l.styles||{}).width)&&(k=y)),k&&l&&(this.shortenLabel?this.shortenLabel():l.css(Gn({},{width:Math.floor(k)+"px",lineClamp:t.isRadial?0:1})))}moveLabel(h,t){let e=this,i=e.label,s=e.axis,r=!1,n;i&&i.textStr===h?(e.movedLabel=i,r=!0,delete e.label):Ba(s.ticks,function(o){r||o.isNew||o===e||!o.label||o.label.textStr!==h||(e.movedLabel=o.label,r=!0,o.labelPos=e.movedLabel.xy,delete o.label)}),!r&&(e.labelPos||i)&&(n=e.labelPos||i.xy,e.movedLabel=e.createLabel(h,t,n),e.movedLabel&&e.movedLabel.attr({opacity:0}))}render(h,t,e){let i=this.axis,s=i.horiz,r=this.pos,n=fe(this.tickmarkOffset,i.tickmarkOffset),o=this.getPosition(s,r,n,t),l=o.x,c=o.y,g=i.pos,u=g+i.len,b=s?l:c;!i.chart.polar&&this.isNew&&(_i(b)<g||b>u)&&(e=0);let y=fe(e,this.label&&this.label.newOpacity,1);e=fe(e,1),this.isActive=!0,this.renderGridLine(t,e),this.renderMark(o,e),this.renderLabel(o,t,y,h),this.isNew=!1,Mi(this,"afterRender")}renderGridLine(h,t){let e=this.axis,i=e.options,s={},r=this.pos,n=this.type,o=fe(this.tickmarkOffset,e.tickmarkOffset),l=e.chart.renderer,c=this.gridLine,g,u=i.gridLineWidth,b=i.gridLineColor,y=i.gridLineDashStyle;this.type==="minor"&&(u=i.minorGridLineWidth,b=i.minorGridLineColor,y=i.minorGridLineDashStyle),c||(e.chart.styledMode||(s.stroke=b,s["stroke-width"]=u||0,s.dashstyle=y),n||(s.zIndex=1),h&&(t=0),this.gridLine=c=l.path().attr(s).addClass("highcharts-"+(n?n+"-":"")+"grid-line").add(e.gridGroup)),c&&(g=e.getPlotLinePath({value:r+o,lineWidth:c.strokeWidth(),force:"pass",old:h,acrossPanes:!1}))&&c[h||this.isNew?"attr":"animate"]({d:g,opacity:t})}renderMark(h,t){let e=this.axis,i=e.options,s=e.chart.renderer,r=this.type,n=e.tickSize(r?r+"Tick":"tick"),o=h.x,l=h.y,c=fe(i[r!=="minor"?"tickWidth":"minorTickWidth"],!r&&e.isXAxis?1:0),g=i[r!=="minor"?"tickColor":"minorTickColor"],u=this.mark,b=!u;n&&(e.opposite&&(n[0]=-n[0]),u||(this.mark=u=s.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(e.axisGroup),e.chart.styledMode||u.attr({stroke:g,"stroke-width":c})),u[b?"attr":"animate"]({d:this.getMarkPath(o,l,n[0],u.strokeWidth(),e.horiz,s),opacity:t}))}renderLabel(h,t,e,i){let s=this.axis,r=s.horiz,n=s.options,o=this.label,l=n.labels,c=l.step,g=fe(this.tickmarkOffset,s.tickmarkOffset),u=h.x,b=h.y,y=!0;o&&Bs(u)&&(o.xy=h=this.getLabelPosition(u,b,o,r,l,g,i,c),(!this.isFirst||this.isLast||n.showFirstLabel)&&(!this.isLast||this.isFirst||n.showLastLabel)?!r||l.step||l.rotation||t||e===0||this.handleOverflow(h):y=!1,c&&i%c&&(y=!1),y&&Bs(h.y)?(h.opacity=e,o[this.isNewLabel?"attr":"animate"](h).show(!0),this.isNewLabel=!1):(o.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let h=this.label,t=this.axis;h&&!this.isNew&&(h.animate({opacity:0},void 0,h.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:Dr}=Kt,{xAxis:Ns,yAxis:Yn}=Pa,{defaultOptions:Br}=ae,{registerEventOptions:$n}=qi,{deg2rad:Na}=W,{arrayMax:Nr,arrayMin:Ia,clamp:Ir,correctFloat:he,defined:Mt,destroyObjectProperties:Fa,erase:Un,error:Is,extend:Fs,fireEvent:Ot,getClosestDistance:Fr,insertItem:Ra,isArray:Rs,isNumber:rt,isString:Zi,merge:Qi,normalizeTickInterval:Rr,objectEach:Ji,pick:dt,relativeLength:Je,removeEvent:zs,splat:za,syncTimeout:Ha}=st,Kn=(h,t)=>Rr(t,void 0,void 0,dt(h.options.allowDecimals,t<.5||h.tickAmount!==void 0),!!h.tickAmount);Fs(Br,{xAxis:Ns,yAxis:Qi(Ns,Yn)});class Ti{constructor(t,e,i){this.init(t,e,i)}init(t,e,i=this.coll){let s=i==="xAxis",r=this.isZAxis||(t.inverted?!s:s);this.chart=t,this.horiz=r,this.isXAxis=s,this.coll=i,Ot(this,"init",{userOptions:e}),this.opposite=dt(e.opposite,this.opposite),this.side=dt(e.side,this.side,r?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);let n=this.options,o=n.labels;this.type??(this.type=n.type||"linear"),this.uniqueNames??(this.uniqueNames=n.uniqueNames??!0),Ot(this,"afterSetType"),this.userOptions=e,this.minPixelPadding=0,this.reversed=dt(n.reversed,this.reversed),this.visible=n.visible,this.zoomEnabled=n.zoomEnabled,this.hasNames=this.type==="category"||n.categories===!0,this.categories=Rs(n.categories)&&n.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Mt(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.max=void 0,this.min=void 0;let l=dt(n.crosshair,za(t.options.tooltip.crosshairs)[s?0:1]);this.crosshair=l===!0?{}:l,t.axes.indexOf(this)===-1&&(s?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),Ra(this,t[this.coll])),t.orderItems(this.coll),this.series=this.series||[],t.inverted&&!this.isZAxis&&s&&!Mt(this.reversed)&&(this.reversed=!0),this.labelRotation=rt(o.rotation)?o.rotation:void 0,$n(this,n),Ot(this,"afterInit")}setOptions(t){let e=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Qi(e,Br[this.coll],t),Ot(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(){let t=this.axis,{numberFormatter:e}=this.chart,i=rt(this.value)?this.value:NaN,s=t.chart.time,r=t.categories,n=this.dateTimeLabelFormat,o=Br.lang,l=o.numericSymbols,c=o.numericSymbolMagnitude||1e3,g=t.logarithmic?Math.abs(i):t.tickInterval,u=l&&l.length,b,y;if(r)y=`${this.value}`;else if(n)y=s.dateFormat(n,i,!0);else if(u&&l&&g>=1e3)for(;u--&&y===void 0;)g>=(b=Math.pow(c,u+1))&&10*i%b==0&&l[u]!==null&&i!==0&&(y=e(i/b,-1)+l[u]);return y===void 0&&(y=Math.abs(i)>=1e4?e(i,-1):e(i,-1,void 0,"")),y}getSeriesExtremes(){let t,e=this;Ot(this,"getSeriesExtremes",null,function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=void 0,e.softThreshold=!e.isXAxis,e.series.forEach(i=>{if(i.reserveSpace()){let s=i.options,r,n=s.threshold,o,l;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=(n||0)&&(n=void 0),e.isXAxis)(r=i.getColumn("x")).length&&(r=e.logarithmic?r.filter(c=>c>0):r,o=(t=i.getXExtremes(r)).min,l=t.max,rt(o)||o instanceof Date||(r=r.filter(rt),o=(t=i.getXExtremes(r)).min,l=t.max),r.length&&(e.dataMin=Math.min(dt(e.dataMin,o),o),e.dataMax=Math.max(dt(e.dataMax,l),l)));else{let c=i.applyExtremes();rt(c.dataMin)&&(o=c.dataMin,e.dataMin=Math.min(dt(e.dataMin,o),o)),rt(c.dataMax)&&(l=c.dataMax,e.dataMax=Math.max(dt(e.dataMax,l),l)),Mt(n)&&(e.threshold=n),(!s.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}})}),Ot(this,"afterGetSeriesExtremes")}translate(t,e,i,s,r,n){let o=this.linkedParent||this,l=s&&o.old?o.old.min:o.min;if(!rt(l))return NaN;let c=o.minPixelPadding,g=(o.isOrdinal||o.brokenAxis?.hasBreaks||o.logarithmic&&r)&&o.lin2val,u=1,b=0,y=s&&o.old?o.old.transA:o.transA,w=0;return y||(y=o.transA),i&&(u*=-1,b=o.len),o.reversed&&(u*=-1,b-=u*(o.sector||o.len)),e?(w=(t=t*u+b-c)/y+l,g&&(w=o.lin2val(w))):(g&&(t=o.val2lin(t)),w=u*(t-l)*y+b+u*c+(rt(n)?y*n:0),o.isRadial||(w=he(w))),w}toPixels(t,e){return this.translate(this.chart?.time.parse(t)??NaN,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){let e=this,i=e.chart,s=e.left,r=e.top,n=t.old,o=t.value,l=t.lineWidth,c=n&&i.oldChartHeight||i.chartHeight,g=n&&i.oldChartWidth||i.chartWidth,u=e.transB,b=t.translatedValue,y=t.force,w,M,T,k,O;function P(z,R,N){return y!=="pass"&&(z<R||z>N)&&(y?z=Ir(z,R,N):O=!0),z}let F={value:o,lineWidth:l,old:n,force:y,acrossPanes:t.acrossPanes,translatedValue:b};return Ot(this,"getPlotLinePath",F,function(z){w=T=(b=Ir(b=dt(b,e.translate(o,void 0,void 0,n)),-1e9,1e9))+u,M=k=c-b-u,rt(b)?e.horiz?(M=r,k=c-e.bottom+(e.options.isInternal?0:i.scrollablePixelsY||0),w=T=P(w,s,s+e.width)):(w=s,T=g-e.right+(i.scrollablePixelsX||0),M=k=P(M,r,r+e.height)):(O=!0,y=!1),z.path=O&&!y?void 0:i.renderer.crispLine([["M",w,M],["L",T,k]],l||1)}),F.path}getLinearTickPositions(t,e,i){let s,r,n,o=he(Math.floor(e/t)*t),l=he(Math.ceil(i/t)*t),c=[];if(he(o+t)===o&&(n=20),this.single)return[e];for(s=o;s<=l&&(c.push(s),(s=he(s+t,n))!==r);)r=s;return c}getMinorTickInterval(){let{minorTicks:t,minorTickInterval:e}=this.options;return t===!0?dt(e,"auto"):t!==!1?e:void 0}getMinorTickPositions(){let t=this.options,e=this.tickPositions,i=this.minorTickInterval,s=this.pointRangePadding||0,r=(this.min||0)-s,n=(this.max||0)+s,o=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:n-r,l=[],c;if(o&&o/i<this.len/3){let g=this.logarithmic;if(g)this.paddedTicks.forEach(function(u,b,y){b&&l.push.apply(l,g.getLogTickPositions(i,y[b-1],y[b],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")l=l.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),r,n,t.startOfWeek));else for(c=r+(e[0]-r)%i;c<=n&&c!==l[0];c+=i)l.push(c)}return l.length!==0&&this.trimTicks(l),l}adjustForMinRange(){let t=this.options,e=this.logarithmic,i=this.chart.time,{max:s,min:r,minRange:n}=this,o,l,c,g;this.isXAxis&&n===void 0&&!e&&(n=Mt(t.min)||Mt(t.max)||Mt(t.floor)||Mt(t.ceiling)?null:Math.min(5*(Fr(this.series.map(u=>{let b=u.getColumn("x");return u.xIncrement?b.slice(0,2):b}))||0),this.dataMax-this.dataMin)),rt(s)&&rt(r)&&rt(n)&&s-r<n&&(l=this.dataMax-this.dataMin>=n,o=(n-s+r)/2,c=[r-o,i.parse(t.min)??r-o],l&&(c[2]=e?e.log2lin(this.dataMin):this.dataMin),g=[(r=Nr(c))+n,i.parse(t.max)??r+n],l&&(g[2]=e?e.log2lin(this.dataMax):this.dataMax),(s=Ia(g))-r<n&&(c[0]=s-n,c[1]=i.parse(t.min)??s-n,r=Nr(c))),this.minRange=n,this.min=r,this.max=s}getClosest(){let t,e;if(this.categories)e=1;else{let i=[];this.series.forEach(function(s){let r=s.closestPointRange,n=s.getColumn("x");n.length===1?i.push(n[0]):s.sorted&&Mt(r)&&s.reserveSpace()&&(e=Mt(e)?Math.min(e,r):r)}),i.length&&(i.sort((s,r)=>s-r),t=Fr([i]))}return t&&e?Math.min(t,e):t||e}nameToX(t){let e=Rs(this.options.categories),i=e?this.categories:this.names,s=t.options.x,r;return t.series.requireSorting=!1,Mt(s)||(s=this.uniqueNames&&i?e?i.indexOf(t.name):dt(i.keys[t.name],-1):t.series.autoIncrement()),s===-1?!e&&i&&(r=i.length):rt(s)&&(r=s),r!==void 0?(this.names[r]=t.name,this.names.keys[t.name]=r):t.x&&(r=t.x),r}updateNames(){let t=this,e=this.names;e.length>0&&(Object.keys(e.keys).forEach(function(i){delete e.keys[i]}),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(i=>{i.xIncrement=null,(!i.points||i.isDirtyData)&&(t.max=Math.max(t.max||0,i.dataTable.rowCount-1),i.processData(),i.generatePoints());let s=i.getColumn("x").slice();i.data.forEach((r,n)=>{let o=s[n];r?.options&&r.name!==void 0&&(o=t.nameToX(r))!==void 0&&o!==r.x&&(s[n]=r.x=o)}),i.dataTable.setColumn("x",s)}))}setAxisTranslation(){let t=this,e=t.max-t.min,i=t.linkedParent,s=!!t.categories,r=t.isXAxis,n=t.axisPointRange||0,o,l=0,c=0,g,u=t.transA;(r||s||n)&&(o=t.getClosest(),i?(l=i.minPointOffset,c=i.pointRangePadding):t.series.forEach(function(b){let y=s?1:r?dt(b.options.pointRange,o,0):t.axisPointRange||0,w=b.options.pointPlacement;if(n=Math.max(n,y),!t.single||s){let M=b.is("xrange")?!r:r;l=Math.max(l,M&&Zi(w)?0:y/2),c=Math.max(c,M&&w==="on"?0:y)}}),g=t.ordinal&&t.ordinal.slope&&o?t.ordinal.slope/o:1,t.minPointOffset=l*=g,t.pointRangePadding=c*=g,t.pointRange=Math.min(n,t.single&&s?1:e),r&&o&&(t.closestPointRange=o)),t.translationSlope=t.transA=u=t.staticScale||t.len/(e+c||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=u*l,Ot(this,"afterSetAxisTranslation")}minFromRange(){let{max:t,min:e}=this;return rt(t)&&rt(e)&&t-e||void 0}setTickInterval(t){let{categories:e,chart:i,dataMax:s,dataMin:r,dateTime:n,isXAxis:o,logarithmic:l,options:c,softThreshold:g}=this,u=i.time,b=rt(this.threshold)?this.threshold:void 0,y=this.minRange||0,{ceiling:w,floor:M,linkedTo:T,softMax:k,softMin:O}=c,P=rt(T)&&i[this.coll]?.[T],F=c.tickPixelInterval,z=c.maxPadding,R=c.minPadding,N=0,H,Y=rt(c.tickInterval)&&c.tickInterval>=0?c.tickInterval:void 0,U,K,Z,Q;if(n||e||P||this.getTickAmount(),Z=dt(this.userMin,u.parse(c.min)),Q=dt(this.userMax,u.parse(c.max)),P?(this.linkedParent=P,H=P.getExtremes(),this.min=dt(H.min,H.dataMin),this.max=dt(H.max,H.dataMax),this.type!==P.type&&Is(11,!0,i)):(g&&Mt(b)&&rt(s)&&rt(r)&&(r>=b?(U=b,R=0):s<=b&&(K=b,z=0)),this.min=dt(Z,U,r),this.max=dt(Q,K,s)),rt(this.max)&&rt(this.min)&&(l&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,dt(r,this.min))&&Is(10,!0,i),this.min=he(l.log2lin(this.min),16),this.max=he(l.log2lin(this.max),16)),this.range&&rt(r)&&(this.userMin=this.min=Z=Math.max(r,this.minFromRange()||0),this.userMax=Q=this.max,this.range=void 0)),Ot(this,"foundExtremes"),this.adjustForMinRange(),rt(this.min)&&rt(this.max)){if(!rt(this.userMin)&&rt(O)&&O<this.min&&(this.min=Z=O),!rt(this.userMax)&&rt(k)&&k>this.max&&(this.max=Q=k),e||this.axisPointRange||this.stacking?.usePercentage||P||!(N=this.max-this.min)||(!Mt(Z)&&R&&(this.min-=N*R),Mt(Q)||!z||(this.max+=N*z)),!rt(this.userMin)&&rt(M)&&(this.min=Math.max(this.min,M)),!rt(this.userMax)&&rt(w)&&(this.max=Math.min(this.max,w)),g&&rt(r)&&rt(s)){let J=b||0;!Mt(Z)&&this.min<J&&r>=J?this.min=c.minRange?Math.min(J,this.max-y):J:!Mt(Q)&&this.max>J&&s<=J&&(this.max=c.minRange?Math.max(J,this.min+y):J)}!i.polar&&this.min>this.max&&(Mt(c.min)?this.max=this.min:Mt(c.max)&&(this.min=this.max)),N=this.max-this.min}if(this.min!==this.max&&rt(this.min)&&rt(this.max)?P&&!Y&&F===P.options.tickPixelInterval?this.tickInterval=Y=P.tickInterval:this.tickInterval=dt(Y,this.tickAmount?N/Math.max(this.tickAmount-1,1):void 0,e?1:N*F/Math.max(this.len,F)):this.tickInterval=1,o&&!t){let J=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(et){et.forceCrop=et.forceCropping?.(),et.processData(J)}),Ot(this,"postProcessData",{hasExtremesChanged:J})}this.setAxisTranslation(),Ot(this,"initialAxisTranslation"),this.pointRange&&!Y&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let tt=dt(c.minTickInterval,n&&!this.series.some(J=>!J.sorted)?this.closestPointRange:0);!Y&&this.tickInterval<tt&&(this.tickInterval=tt),n||l||Y||(this.tickInterval=Kn(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let t=this.options,e=t.tickPositions,i=t.tickPositioner,s=this.getMinorTickInterval(),r=!this.isPanning,n=r&&t.startOnTick,o=r&&t.endOnTick,l=[],c;if(this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Mt(this.min)&&!this.tickAmount&&(this.min%1==0||t.allowDecimals!==!1),e)l=e.slice();else if(rt(this.min)&&rt(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))l=[this.min,this.max],Is(19,!1,this.chart);else if(this.dateTime)l=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)l=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let g=this.tickInterval,u=g;for(;u<=2*g&&(l=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&l.length>this.tickAmount);)this.tickInterval=Kn(this,u*=1.1)}l.length>this.len&&(l=[l[0],l[l.length-1]])[0]===l[1]&&(l.length=1),i&&(this.tickPositions=l,(c=i.apply(this,[this.min,this.max]))&&(l=c))}this.tickPositions=l,this.minorTickInterval=s==="auto"&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:s,this.paddedTicks=l.slice(0),this.trimTicks(l,n,o),!this.isLinked&&rt(this.min)&&rt(this.max)&&(this.single&&l.length<2&&!this.categories&&!this.series.some(g=>g.is("heatmap")&&g.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),e||c||this.adjustTickAmount()),Ot(this,"afterSetTickPositions")}trimTicks(t,e,i){let s=t[0],r=t[t.length-1],n=!this.isOrdinal&&this.minPointOffset||0;if(Ot(this,"trimTicks"),!this.isLinked){if(e&&s!==-1/0)this.min=s;else for(;this.min-n>t[0];)t.shift();if(i)this.max=r;else for(;this.max+n<t[t.length-1];)t.pop();t.length===0&&Mt(s)&&!this.options.tickPositions&&t.push((r+s)/2)}}alignToOthers(){let t,e=this,i=e.chart,s=[this],r=e.options,n=i.options.chart,o=this.coll==="yAxis"&&n.alignThresholds,l=[];if(e.thresholdAlignment=void 0,(n.alignTicks!==!1&&r.alignTicks||o)&&r.startOnTick!==!1&&r.endOnTick!==!1&&!e.logarithmic){let c=u=>{let{horiz:b,options:y}=u;return[b?y.left:y.top,y.width,y.height,y.pane].join(",")},g=c(this);i[this.coll].forEach(function(u){let{series:b}=u;b.length&&b.some(y=>y.visible)&&u!==e&&c(u)===g&&(t=!0,s.push(u))})}if(t&&o){s.forEach(g=>{let u=g.getThresholdAlignment(e);rt(u)&&l.push(u)});let c=l.length>1?l.reduce((g,u)=>g+=u,0)/l.length:void 0;s.forEach(g=>{g.thresholdAlignment=c})}return t}getThresholdAlignment(t){if((!rt(this.dataMin)||this!==t&&this.series.some(e=>e.isDirty||e.isDirtyData))&&this.getSeriesExtremes(),rt(this.threshold)){let e=Ir((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(e=1-e),e}}getTickAmount(){let t=this.options,e=t.tickPixelInterval,i=t.tickAmount;Mt(t.tickInterval)||i||!(this.len<e)||this.isRadial||this.logarithmic||!t.startOnTick||!t.endOnTick||(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),i<4&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){let t=this,{finalTickAmt:e,max:i,min:s,options:r,tickPositions:n,tickAmount:o,thresholdAlignment:l}=t,c=n?.length,g=dt(t.threshold,t.softThreshold?0:null),u,b,y=t.tickInterval,w,M=()=>n.push(he(n[n.length-1]+y)),T=()=>n.unshift(he(n[0]-y));if(rt(l)&&(w=l<.5?Math.ceil(l*(o-1)):Math.floor(l*(o-1)),r.reversed&&(w=o-1-w)),t.hasData()&&rt(s)&&rt(i)){let k=()=>{t.transA*=(c-1)/(o-1),t.min=r.startOnTick?n[0]:Math.min(s,n[0]),t.max=r.endOnTick?n[n.length-1]:Math.max(i,n[n.length-1])};if(rt(w)&&rt(t.threshold)){for(;n[w]!==g||n.length!==o||n[0]>s||n[n.length-1]<i;){for(n.length=0,n.push(t.threshold);n.length<o;)n[w]===void 0||n[w]>t.threshold?T():M();if(y>8*t.tickInterval)break;y*=2}k()}else if(c<o){for(;n.length<o;)n.length%2||s===g?M():T();k()}if(Mt(e)){for(b=u=n.length;b--;)(e===3&&b%2==1||e<=2&&b>0&&b<u-1)&&n.splice(b,1);t.finalTickAmt=void 0}}}setScale(){let{coll:t,stacking:e}=this,i=!1,s=!1;this.series.forEach(n=>{i=i||n.isDirtyData||n.isDirty,s=s||n.xAxis&&n.xAxis.isDirty||!1}),this.setAxisSize();let r=this.len!==(this.old&&this.old.len);r||i||s||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(e&&t==="yAxis"&&e.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),e&&t==="xAxis"&&e.buildStacks(),this.isDirty||(this.isDirty=r||this.min!==this.old?.min||this.max!==this.old?.max)):e&&e.cleanStacks(),i&&delete this.allExtremes,Ot(this,"afterSetScale")}setExtremes(t,e,i=!0,s,r){let n=this.chart;this.series.forEach(o=>{delete o.kdTree}),t=n.time.parse(t),e=n.time.parse(e),Ot(this,"setExtremes",r=Fs(r,{min:t,max:e}),o=>{this.userMin=o.min,this.userMax=o.max,this.eventArgs=o,i&&n.redraw(s)})}setAxisSize(){let t=this.chart,e=this.options,i=e.offsets||[0,0,0,0],s=this.horiz,r=this.width=Math.round(Je(dt(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),n=this.height=Math.round(Je(dt(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),o=this.top=Math.round(Je(dt(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop)),l=this.left=Math.round(Je(dt(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-n-o,this.right=t.chartWidth-r-l,this.len=Math.max(s?r:n,0),this.pos=s?l:o}getExtremes(){let t=this.logarithmic;return{min:t?he(t.lin2log(this.min)):this.min,max:t?he(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){let e=this.logarithmic,i=e?e.lin2log(this.min):this.min,s=e?e.lin2log(this.max):this.max;return t===null||t===-1/0?t=i:t===1/0?t=s:i>t?t=i:s<t&&(t=s),this.translate(t,0,1,0,1)}autoLabelAlign(t){let e=(dt(t,0)-90*this.side+720)%360,i={align:"center"};return Ot(this,"autoLabelAlign",i,function(s){e>15&&e<165?s.align="right":e>195&&e<345&&(s.align="left")}),i.align}tickSize(t){let e=this.options,i=dt(e[t==="tick"?"tickWidth":"minorTickWidth"],t==="tick"&&this.isXAxis&&!this.categories?1:0),s=e[t==="tick"?"tickLength":"minorTickLength"],r;i&&s&&(e[t+"Position"]==="inside"&&(s=-s),r=[s,i]);let n={tickSize:r};return Ot(this,"afterTickSize",n),n.tickSize}labelMetrics(){let t=this.chart.renderer,e=this.ticks,i=e[Object.keys(e)[0]]||{};return this.chart.renderer.fontMetrics(i.label||i.movedLabel||t.box)}unsquish(){let t=this.options.labels,e=t.padding||0,i=this.horiz,s=this.tickInterval,r=this.len/(((this.categories?1:0)+this.max-this.min)/s),n=t.rotation,o=he(.8*this.labelMetrics().h),l=Math.max(this.max-this.min,0),c=function(w){let M=(w+2*e)/(r||1);return(M=M>1?Math.ceil(M):1)*s>l&&w!==1/0&&r!==1/0&&l&&(M=Math.ceil(l/s)),he(M*s)},g=s,u,b=Number.MAX_VALUE,y;if(i){if(!t.staggerLines&&(rt(n)?y=[n]:r<t.autoRotationLimit&&(y=t.autoRotation)),y){let w,M;for(let T of y)(T===n||T&&T>=-90&&T<=90)&&(M=(w=c(Math.abs(o/Math.sin(Na*T))))+Math.abs(T/360))<b&&(b=M,u=T,g=w)}}else g=c(.75*o);return this.autoRotation=y,this.labelRotation=dt(u,rt(n)?n:0),t.step?s:g}getSlotWidth(t){let e=this.chart,i=this.horiz,s=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=e.margin[3];if(t&&rt(t.slotWidth))return t.slotWidth;if(i&&s.step<2&&!this.isRadial)return s.rotation?0:(this.staggerLines||1)*this.len/r;if(!i){let o=s.style.width;if(o!==void 0)return parseInt(String(o),10);if(n)return n-e.spacing[3]}return .33*e.chartWidth}renderUnsquish(){let t=this.chart,e=t.renderer,i=this.tickPositions,s=this.ticks,r=this.options.labels,n=r.style,o=this.horiz,l=this.getSlotWidth(),c=Math.max(1,Math.round(l-(o?2*(r.padding||0):r.distance||0))),g={},u=this.labelMetrics(),b=n.lineClamp,y,w=b??(Math.floor(this.len/(i.length*u.h))||1),M=0;Zi(r.rotation)||(g.rotation=r.rotation||0),i.forEach(function(T){let k=s[T];k.movedLabel&&k.replaceMovedLabel();let O=k.label?.textPxLength||0;O>M&&(M=O)}),this.maxLabelLength=M,this.autoRotation?M>c&&M>u.h?g.rotation=this.labelRotation:this.labelRotation=0:l&&(y=c),g.rotation&&(y=M>.5*t.chartHeight?.33*t.chartHeight:M,b||(w=1)),this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(g.align=this.labelAlign),i.forEach(function(T){let k=s[T],O=k&&k.label,P=n.width,F={};O&&(O.attr(g),k.shortenLabel?k.shortenLabel():y&&!P&&n.whiteSpace!=="nowrap"&&(y<(O.textPxLength||0)||O.element.tagName==="SPAN")?O.css(Fs(F,{width:`${y}px`,lineClamp:w})):!O.styles.width||F.width||P||O.css({width:"auto"}),k.rotation=g.rotation)},this),this.tickRotCorr=e.rotCorr(u.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(t){return t.hasData()})||this.options.showEmpty&&Mt(this.min)&&Mt(this.max)}addTitle(t){let e,i=this.chart.renderer,s=this.horiz,r=this.opposite,n=this.options.title,o=this.chart.styledMode;this.axisTitle||((e=n.textAlign)||(e=(s?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[n.align]),this.axisTitle=i.text(n.text||"",0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation||0,align:e}).addClass("highcharts-axis-title"),o||this.axisTitle.css(Qi(n.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||n.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){let e=this.ticks;e[t]?e[t].addLabel():e[t]=new We(this,t)}createGroups(){let{axisParent:t,chart:e,coll:i,options:s}=this,r=e.renderer,n=(o,l,c)=>r.g(o).attr({zIndex:c}).addClass(`highcharts-${i.toLowerCase()}${l} `+(this.isRadial?`highcharts-radial-axis${l} `:"")+(s.className||"")).add(t);this.axisGroup||(this.gridGroup=n("grid","-grid",s.gridZIndex),this.axisGroup=n("axis","",s.zIndex),this.labelGroup=n("axis-labels","-labels",s.labels.zIndex))}getOffset(){let t=this,{chart:e,horiz:i,options:s,side:r,ticks:n,tickPositions:o,coll:l}=t,c=e.inverted&&!t.isZAxis?[1,0,3,2][r]:r,g=t.hasData(),u=s.title,b=s.labels,y=rt(s.crossing),w=e.axisOffset,M=e.clipOffset,T=[-1,1,1,-1][r],k,O=0,P,F=0,z=0,R,N;if(t.showAxis=k=g||s.showEmpty,t.staggerLines=t.horiz&&b.staggerLines||void 0,t.createGroups(),g||t.isLinked?(o.forEach(function(H){t.generateTick(H)}),t.renderUnsquish(),t.reserveSpaceDefault=r===0||r===2||{1:"left",3:"right"}[r]===t.labelAlign,dt(b.reserveSpace,!y&&null,t.labelAlign==="center"||null,t.reserveSpaceDefault)&&o.forEach(function(H){z=Math.max(n[H].getLabelSize(),z)}),t.staggerLines&&(z*=t.staggerLines),t.labelOffset=z*(t.opposite?-1:1)):Ji(n,function(H,Y){H.destroy(),delete n[Y]}),u?.text&&u.enabled!==!1&&(t.addTitle(k),k&&!y&&u.reserveSpace!==!1&&(t.titleOffset=O=t.axisTitle.getBBox()[i?"height":"width"],F=Mt(P=u.offset)?0:dt(u.margin,i?5:10))),t.renderLine(),t.offset=T*dt(s.offset,w[r]?w[r]+(s.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},N=r===0?-t.labelMetrics().h:r===2?t.tickRotCorr.y:0,R=Math.abs(z)+F,z&&(R-=N,R+=T*(i?dt(b.y,t.tickRotCorr.y+T*b.distance):dt(b.x,T*b.distance))),t.axisTitleMargin=dt(P,R),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(n,o)),l!=="colorAxis"&&M){let H=this.tickSize("tick");w[r]=Math.max(w[r],(t.axisTitleMargin||0)+O+T*t.offset,R,o&&o.length&&H?H[0]+T*t.offset:0);let Y=!t.axisLine||s.offset?0:t.axisLine.strokeWidth()/2;M[c]=Math.max(M[c],Y)}Ot(this,"afterGetOffset")}getLinePath(t){let e=this.chart,i=this.opposite,s=this.offset,r=this.horiz,n=this.left+(i?this.width:0)+s,o=e.chartHeight-this.bottom-(i?this.height:0)+s;return i&&(t*=-1),e.renderer.crispLine([["M",r?this.left:n,r?o:this.top],["L",r?e.chartWidth-this.right:n,r?o:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){let e=this.horiz,i=this.left,s=this.top,r=this.len,n=this.options.title,o=e?i:s,l=this.opposite,c=this.offset,g=n.x,u=n.y,b=this.chart.renderer.fontMetrics(t),y=t?Math.max(t.getBBox(!1,0).height-b.h-1,0):0,w={low:o+(e?0:r),middle:o+r/2,high:o+(e?r:0)}[n.align],M=(e?s+this.height:i)+(e?1:-1)*(l?-1:1)*(this.axisTitleMargin||0)+[-y,y,b.f,-y][this.side],T={x:e?w+g:M+(l?this.width:0)+c+g,y:e?M+u-(l?this.height:0)+c:w+u};return Ot(this,"afterGetTitlePosition",{titlePosition:T}),T}renderMinorTick(t,e){let i=this.minorTicks;i[t]||(i[t]=new We(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){let s=this.isLinked,r=this.ticks;(!s||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(r[t]||(r[t]=new We(this,t)),i&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))}render(){let t,e,i=this,s=i.chart,r=i.logarithmic,n=s.renderer,o=i.options,l=i.isLinked,c=i.tickPositions,g=i.axisTitle,u=i.ticks,b=i.minorTicks,y=i.alternateBands,w=o.stackLabels,M=o.alternateGridColor,T=o.crossing,k=i.tickmarkOffset,O=i.axisLine,P=i.showAxis,F=Dr(n.globalAnimation);if(i.labelEdge.length=0,i.overlap=!1,[u,b,y].forEach(function(z){Ji(z,function(R){R.isActive=!1})}),rt(T)){let z=this.isXAxis?s.yAxis[0]:s.xAxis[0],R=[1,-1,-1,1][this.side];if(z){let N=z.toPixels(T,!0);i.horiz&&(N=z.len-N),i.offset=R*N}}if(i.hasData()||l){let z=i.chart.hasRendered&&i.old&&rt(i.old.min);i.minorTickInterval&&!i.categories&&i.getMinorTickPositions().forEach(function(R){i.renderMinorTick(R,z)}),c.length&&(c.forEach(function(R,N){i.renderTick(R,N,z)}),k&&(i.min===0||i.single)&&(u[-1]||(u[-1]=new We(i,-1,null,!0)),u[-1].render(-1))),M&&c.forEach(function(R,N){e=c[N+1]!==void 0?c[N+1]+k:i.max-k,N%2==0&&R<i.max&&e<=i.max+(s.polar?-k:k)&&(y[R]||(y[R]=new W.PlotLineOrBand(i,{})),t=R+k,y[R].options={from:r?r.lin2log(t):t,to:r?r.lin2log(e):e,color:M,className:"highcharts-alternate-grid"},y[R].render(),y[R].isActive=!0)}),i._addedPlotLB||(i._addedPlotLB=!0,(o.plotLines||[]).concat(o.plotBands||[]).forEach(function(R){i.addPlotBandOrLine(R)}))}[u,b,y].forEach(function(z){let R=[],N=F.duration;Ji(z,function(H,Y){H.isActive||(H.render(Y,!1,0),H.isActive=!1,R.push(Y))}),Ha(function(){let H=R.length;for(;H--;)z[R[H]]&&!z[R[H]].isActive&&(z[R[H]].destroy(),delete z[R[H]])},z!==y&&s.hasRendered&&N?N:0)}),O&&(O[O.isPlaced?"animate":"attr"]({d:this.getLinePath(O.strokeWidth())}),O.isPlaced=!0,O[P?"show":"hide"](P)),g&&P&&(g[g.isNew?"attr":"animate"](i.getTitlePosition(g)),g.isNew=!1),w&&w.enabled&&i.stacking&&i.stacking.renderStackTotals(),i.old={len:i.len,max:i.max,min:i.min,transA:i.transA,userMax:i.userMax,userMin:i.userMin},i.isDirty=!1,Ot(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})}getKeepProps(){return this.keepProps||Ti.keepProps}destroy(t){let e=this,i=e.plotLinesAndBands,s=this.eventOptions;if(Ot(this,"destroy",{keepEvents:t}),t||zs(e),[e.ticks,e.minorTicks,e.alternateBands].forEach(function(r){Fa(r)}),i){let r=i.length;for(;r--;)i[r].destroy()}for(let r in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(n){e[n]&&(e[n]=e[n].destroy())}),e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[r]=e.plotLinesAndBandsGroups[r].destroy();Ji(e,function(r,n){e.getKeepProps().indexOf(n)===-1&&delete e[n]}),this.eventOptions=s}drawCrosshair(t,e){let i=this.crosshair,s=dt(i&&i.snap,!0),r=this.chart,n,o,l,c=this.cross,g;if(Ot(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),i&&(Mt(e)||!s)!==!1){if(s?Mt(e)&&(o=dt(this.coll!=="colorAxis"?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):o=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),Mt(o)&&(g={value:e&&(this.isXAxis?e.x:dt(e.stackY,e.y)),translatedValue:o},r.polar&&Fs(g,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),n=this.getPlotLinePath(g)||null),!Mt(n)){this.hideCrosshair();return}l=this.categories&&!this.isRadial,c||(this.cross=c=r.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(l?"category ":"thin ")+(i.className||"")).attr({zIndex:dt(i.zIndex,2)}).add(),!r.styledMode&&(c.attr({stroke:i.color||(l?zt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":dt(i.width,1)}).css({"pointer-events":"none"}),i.dashStyle&&c.attr({dashstyle:i.dashStyle}))),c.show().attr({d:n}),l&&!i.width&&c.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();Ot(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),Ot(this,"afterHideCrosshair")}update(t,e){let i=this.chart;t=Qi(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,dt(e,!0)&&i.redraw()}remove(t){let e=this.chart,i=this.coll,s=this.series,r=s.length;for(;r--;)s[r]&&s[r].remove(!1);Un(e.axes,this),Un(e[i]||[],this),e.orderItems(i),this.destroy(),e.isDirtyBox=!0,dt(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}Ti.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Wa,getMagnitude:ja,normalizeTickInterval:qn,timeUnits:Hs}=st;(function(h){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function e(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new i(this))}h.compose=function(s){return s.keepProps.includes("dateTime")||(s.keepProps.push("dateTime"),s.prototype.getTimeTicks=t,Wa(s,"afterSetType",e)),s};class i{constructor(r){this.axis=r}normalizeTimeTickInterval(r,n){let o=n||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],l=o[o.length-1],c=Hs[l[0]],g=l[1],u;for(u=0;u<o.length&&(c=Hs[(l=o[u])[0]],g=l[1],!o[u+1]||!(r<=(c*g[g.length-1]+Hs[o[u+1][0]])/2));u++);c===Hs.year&&r<5*c&&(g=[1,2,5]);let b=qn(r/c,g,l[0]==="year"?Math.max(ja(r/c),1):1);return{unitRange:c,count:b,unitName:l[0]}}getXDateFormat(r,n){let{axis:o}=this,l=o.chart.time;return o.closestPointRange?l.getDateFormat(o.closestPointRange,r,o.options.startOfWeek,n)||l.resolveDTLFormat(n.year).main:l.resolveDTLFormat(n.day).main}}h.Additions=i})(xt||(xt={}));let Te=xt,{addEvent:_n,normalizeTickInterval:Xa,pick:Ga}=st;(function(h){function t(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new i(this))}function e(){let s=this.logarithmic;s&&(this.lin2val=function(r){return s.lin2log(r)},this.val2lin=function(r){return s.log2lin(r)})}h.compose=function(s){return s.keepProps.includes("logarithmic")||(s.keepProps.push("logarithmic"),_n(s,"afterSetType",t),_n(s,"afterInit",e)),s};class i{constructor(r){this.axis=r}getLogTickPositions(r,n,o,l){let c=this.axis,g=c.len,u=c.options,b=[];if(l||(this.minorAutoInterval=void 0),r>=.5)r=Math.round(r),b=c.getLinearTickPositions(r,n,o);else if(r>=.08){let y,w,M,T,k,O,P,F=Math.floor(n);for(y=r>.3?[1,2,4]:r>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],w=F;w<o+1&&!P;w++)for(M=0,T=y.length;M<T&&!P;M++)(k=this.log2lin(this.lin2log(w)*y[M]))>n&&(!l||O<=o)&&O!==void 0&&b.push(O),O>o&&(P=!0),O=k}else{let y=this.lin2log(n),w=this.lin2log(o),M=l?c.getMinorTickInterval():u.tickInterval,T=u.tickPixelInterval/(l?5:1),k=l?g/c.tickPositions.length:g;r=Xa(r=Ga(M==="auto"?null:M,this.minorAutoInterval,(w-y)*T/(k||1))),b=c.getLinearTickPositions(r,y,w).map(this.log2lin),l||(this.minorAutoInterval=r/5)}return l||(c.tickInterval=r),b}lin2log(r){return Math.pow(10,r)}log2lin(r){return Math.log(r)/Math.LN10}}h.Additions=i})(Tt||(Tt={}));let Va=Tt,{erase:Zn,extend:ts,isNumber:Si}=st;(function(h){let t;function e(c){return this.addPlotBandOrLine(c,"plotBands")}function i(c,g){let u=this.userOptions,b=new t(this,c);if(this.visible&&(b=b.render()),b){if(this._addedPlotLB||(this._addedPlotLB=!0,(u.plotLines||[]).concat(u.plotBands||[]).forEach(y=>{this.addPlotBandOrLine(y)})),g){let y=u[g]||[];y.push(c),u[g]=y}this.plotLinesAndBands.push(b)}return b}function s(c){return this.addPlotBandOrLine(c,"plotLines")}function r(c,g,u){u=u||this.options;let b=this.getPlotLinePath({value:g,force:!0,acrossPanes:u.acrossPanes}),y=[],w=this.horiz,M=!Si(this.min)||!Si(this.max)||c<this.min&&g<this.min||c>this.max&&g>this.max,T=this.getPlotLinePath({value:c,force:!0,acrossPanes:u.acrossPanes}),k,O=1,P;if(T&&b)for(M&&(P=T.toString()===b.toString(),O=0),k=0;k<T.length;k+=2){let F=T[k],z=T[k+1],R=b[k],N=b[k+1];(F[0]==="M"||F[0]==="L")&&(z[0]==="M"||z[0]==="L")&&(R[0]==="M"||R[0]==="L")&&(N[0]==="M"||N[0]==="L")&&(w&&R[1]===F[1]?(R[1]+=O,N[1]+=O):w||R[2]!==F[2]||(R[2]+=O,N[2]+=O),y.push(["M",F[1],F[2]],["L",z[1],z[2]],["L",N[1],N[2]],["L",R[1],R[2]],["Z"])),y.isFlat=P}return y}function n(c){this.removePlotBandOrLine(c)}function o(c){let g=this.plotLinesAndBands,u=this.options,b=this.userOptions;if(g){let y=g.length;for(;y--;)g[y].id===c&&g[y].destroy();[u.plotLines||[],b.plotLines||[],u.plotBands||[],b.plotBands||[]].forEach(function(w){for(y=w.length;y--;)(w[y]||{}).id===c&&Zn(w,w[y])})}}function l(c){this.removePlotBandOrLine(c)}h.compose=function(c,g){let u=g.prototype;return u.addPlotBand||(t=c,ts(u,{addPlotBand:e,addPlotLine:s,addPlotBandOrLine:i,getPlotBandPath:r,removePlotBand:n,removePlotLine:l,removePlotBandOrLine:o})),g}})($t||($t={}));let Ws=$t,{addEvent:Qn,arrayMax:js,arrayMin:Xs,defined:be,destroyObjectProperties:Ya,erase:$a,fireEvent:Jn,merge:to,objectEach:zr,pick:Ua}=st;class Gs{static compose(t,e){return Qn(t,"afterInit",function(){this.labelCollectors.push(()=>{let i=[];for(let s of this.axes)for(let{label:r,options:n}of s.plotLinesAndBands)r&&!n?.label?.allowOverlap&&i.push(r);return i})}),Ws.compose(Gs,e)}constructor(t,e){this.axis=t,this.options=e,this.id=e.id}render(){Jn(this,"render");let{axis:t,options:e}=this,{horiz:i,logarithmic:s}=t,{color:r,events:n,zIndex:o=0}=e,{renderer:l,time:c}=t.chart,g={},u=c.parse(e.to),b=c.parse(e.from),y=c.parse(e.value),w=e.borderWidth,M=e.label,{label:T,svgElem:k}=this,O=[],P,F=be(b)&&be(u),z=be(y),R=!k,N={class:"highcharts-plot-"+(F?"band ":"line ")+(e.className||"")},H=F?"bands":"lines";if(!t.chart.styledMode&&(z?(N.stroke=r||"#999999",N["stroke-width"]=Ua(e.width,1),e.dashStyle&&(N.dashstyle=e.dashStyle)):F&&(N.fill=r||"#e6e9ff",w&&(N.stroke=e.borderColor,N["stroke-width"]=w))),g.zIndex=o,H+="-"+o,(P=t.plotLinesAndBandsGroups[H])||(t.plotLinesAndBandsGroups[H]=P=l.g("plot-"+H).attr(g).add()),k||(this.svgElem=k=l.path().attr(N).add(P)),be(y))O=t.getPlotLinePath({value:s?.log2lin(y)??y,lineWidth:k.strokeWidth(),acrossPanes:e.acrossPanes});else{if(!(be(b)&&be(u)))return;O=t.getPlotBandPath(s?.log2lin(b)??b,s?.log2lin(u)??u,e)}return!this.eventsAdded&&n&&(zr(n,(Y,U)=>{k?.on(U,K=>{n[U].apply(this,[K])})}),this.eventsAdded=!0),(R||!k.d)&&O?.length?k.attr({d:O}):k&&(O?(k.show(),k.animate({d:O})):k.d&&(k.hide(),T&&(this.label=T=T.destroy()))),M&&(be(M.text)||be(M.formatter))&&O?.length&&t.width>0&&t.height>0&&!O.isFlat?(M=to({align:i&&F?"center":void 0,x:i?!F&&4:10,verticalAlign:!i&&F?"middle":void 0,y:i?F?16:10:F?6:-4,rotation:i&&!F?90:0,...F?{inside:!0}:{}},M),this.renderLabel(M,O,F,o)):T&&T.hide(),this}renderLabel(t,e,i,s){let r=this.axis,n=r.chart.renderer,o=t.inside,l=this.label;l||(this.label=l=n.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||""),zIndex:s}),r.chart.styledMode||l.css(to({fontSize:"0.8em",textOverflow:i&&!o?"":"ellipsis"},t.style)),l.add());let c=e.xBounds||[e[0][1],e[1][1],i?e[2][1]:e[0][1]],g=e.yBounds||[e[0][2],e[1][2],i?e[2][2]:e[0][2]],u=Xs(c),b=Xs(g),y=js(c)-u;l.align(t,!1,{x:u,y:b,width:y,height:js(g)-b}),(!l.alignValue||l.alignValue==="left"||be(o))&&l.css({width:(t.style?.width||(i&&o?y:l.rotation===90?r.height-(l.alignAttr.y-r.top):(t.clip?r.width:r.chart.chartWidth)-(l.alignAttr.x-r.left)))+"px"}),l.show(!0)}getLabelText(t){return be(t.formatter)?t.formatter.call(this):t.text}destroy(){$a(this.axis.plotLinesAndBands,this),delete this.axis,Ya(this)}}let{animObject:Ka}=Kt,{format:Vs}=le,{composed:qa,dateFormats:ti,doc:Hr,isSafari:Ys}=W,{distribute:_a}=Ae,{addEvent:eo,clamp:je,css:io,discardElement:Za,extend:Qa,fireEvent:Xe,isArray:Ja,isNumber:Wr,isObject:so,isString:jr,merge:Xr,pick:ei,pushUnique:ue,splat:Gr,syncTimeout:m}=st;class a{constructor(t,e,i){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=t,this.init(t,e),this.pointer=i}bodyFormatter(t){return t.map(e=>{let i=e.series.tooltipOptions,s=e.formatPrefix||"point";return(i[s+"Formatter"]||e.tooltipFormatter).call(e,i[s+"Format"]||"")})}cleanSplit(t){this.chart.series.forEach(function(e){let i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})}defaultFormatter(t){let e,i=this.points||Gr(this);return(e=(e=[t.headerFooterFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.headerFooterFormatter(i[0],!0)),e}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Za(this.container)),st.clearTimeout(this.hideTimer)}getAnchor(t,e){let i,{chart:s,pointer:r}=this,n=s.inverted,o=s.plotTop,l=s.plotLeft;if((t=Gr(t))[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)e.chartX===void 0&&(e=r.normalize(e)),i=[e.chartX-l,e.chartY-o];else if(t[0].tooltipPos)i=t[0].tooltipPos;else{let c=0,g=0;t.forEach(function(u){let b=u.pos(!0);b&&(c+=b[0],g+=b[1])}),c/=t.length,g/=t.length,this.shared&&t.length>1&&e&&(n?c=e.chartX:g=e.chartY),i=[c-l,g-o]}return i.map(Math.round)}getClassName(t,e,i){let s=this.options,r=t.series,n=r.options;return[s.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+ei(t.colorIndex,r.colorIndex),n&&n.className].filter(jr).join(" ")}getLabel({anchorX:t,anchorY:e}={anchorX:0,anchorY:0}){let i=this,s=this.chart.styledMode,r=this.options,n=this.split&&this.allowShared,o=this.container,l=this.chart.renderer;if(this.label){let c=!this.label.hasClass("highcharts-label");(!n&&c||n&&!c)&&this.destroy()}if(!this.label){if(this.outside){let c=this.chart,g=c.options.chart.style,u=Ke.getRendererType();this.container=o=W.doc.createElement("div"),o.className="highcharts-tooltip-container "+(c.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),io(o,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(g&&g.zIndex||0)+3)}),this.renderer=l=new u(o,0,0,g,void 0,void 0,l.styledMode)}if(n?this.label=l.g("tooltip"):(this.label=l.label("",t,e,r.shape,void 0,void 0,r.useHTML,void 0,"tooltip").attr({padding:r.padding,r:r.borderRadius}),s||this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth||0}).css(r.style).css({pointerEvents:r.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),i.outside){let c=this.label;[c.xSetter,c.ySetter].forEach((g,u)=>{c[u?"ySetter":"xSetter"]=b=>{g.call(c,i.distance),c[u?"y":"x"]=b,o&&(o.style[u?"top":"left"]=`${b}px`)}})}this.label.attr({zIndex:8}).shadow(r.shadow).add()}return o&&!o.parentElement&&W.doc.body.appendChild(o),this.label}getPlayingField(){let{body:t,documentElement:e}=Hr,{chart:i,distance:s,outside:r}=this;return{width:r?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*s-2:i.chartWidth,height:r?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){let{distance:s,chart:r,outside:n,pointer:o}=this,{inverted:l,plotLeft:c,plotTop:g,polar:u}=r,{plotX:b=0,plotY:y=0}=i,w={},M=l&&i.h||0,{height:T,width:k}=this.getPlayingField(),O=o.getChartPosition(),P=J=>J*O.scaleX,F=J=>J*O.scaleY,z=J=>{let et=J==="x";return[J,et?k:T,et?t:e].concat(n?[et?P(t):F(e),et?O.left-s+P(b+c):O.top-s+F(y+g),0,et?k:T]:[et?t:e,et?b+c:y+g,et?c:g,et?c+r.plotWidth:g+r.plotHeight])},R=z("y"),N=z("x"),H,Y=!!i.negative;!u&&r.hoverSeries?.yAxis?.reversed&&(Y=!Y);let U=!this.followPointer&&ei(i.ttBelow,!u&&!l===Y),K=function(J,et,pt,lt,ht,gt,at){let jt=n?J==="y"?F(s):P(s):s,Nt=(pt-lt)/2,vt=lt<ht-s,St=ht+s+lt<et,Vt=ht-jt-pt+Nt,Bt=ht+jt-Nt;if(U&&St)w[J]=Bt;else if(!U&&vt)w[J]=Vt;else if(vt)w[J]=Math.min(at-lt,Vt-M<0?Vt:Vt-M);else{if(!St)return!1;w[J]=Math.max(gt,Bt+M+pt>et?Bt:Bt+M)}},Z=function(J,et,pt,lt,ht){if(ht<s||ht>et-s)return!1;ht<pt/2?w[J]=1:ht>et-lt/2?w[J]=et-lt-2:w[J]=ht-pt/2},Q=function(J){[R,N]=[N,R],H=J},tt=()=>{K.apply(0,R)!==!1?Z.apply(0,N)!==!1||H||(Q(!0),tt()):H?w.x=w.y=0:(Q(!0),tt())};return(l&&!u||this.len>1)&&Q(),tt(),w}hide(t){let e=this;st.clearTimeout(this.hideTimer),t=ei(t,this.options.hideDelay),this.isHidden||(this.hideTimer=m(function(){let i=e.getLabel();e.getLabel().animate({opacity:0},{duration:t&&150,complete:()=>{i.hide(),e.container&&e.container.remove()}}),e.isHidden=!0},t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=ei(e.outside,!!(t.scrollablePixelsX||t.scrollablePixelsY))}shouldStickOnContact(t){return!!(!this.followPointer&&this.options.stickOnContact&&(!t||this.pointer.inClass(t.target,"highcharts-tooltip")))}move(t,e,i,s){let r=this,n=Ka(!r.isHidden&&r.options.animation),o=r.followPointer||(r.len||0)>1,l={x:t,y:e};o||(l.anchorX=i,l.anchorY=s),n.step=()=>r.drawTracker(),r.getLabel().animate(l,n)}refresh(t,e){let{chart:i,options:s,pointer:r,shared:n}=this,o=Gr(t),l=o[0],c=s.format,g=s.formatter||this.defaultFormatter,u=i.styledMode,b=this.allowShared;if(!s.enabled||!l.series)return;st.clearTimeout(this.hideTimer),this.allowShared=!(!Ja(t)&&t.series&&t.series.noSharedTooltip),b=b&&!this.allowShared,this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;let y=this.getAnchor(t,e),w=y[0],M=y[1];n&&this.allowShared&&(r.applyInactiveState(o),o.forEach(O=>O.setState("hover")),l.points=o),this.len=o.length;let T=jr(c)?Vs(c,l,i):g.call(l,this);l.points=void 0;let k=l.series;if(this.distance=ei(k.tooltipOptions.distance,16),T===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(T,o);else{let O=w,P=M;if(e&&r.isDirectTouch&&(O=e.chartX-i.plotLeft,P=e.chartY-i.plotTop),i.polar||k.options.clip===!1||o.some(F=>r.isDirectTouch||F.series.shouldShowTooltip(O,P))){let F=this.getLabel(b&&this.tt||{});(!s.style.width||u)&&F.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),F.attr({class:this.getClassName(l),text:T&&T.join?T.join(""):T}),this.outside&&F.attr({x:je(F.x||0,0,this.getPlayingField().width-(F.width||0)-1)}),u||F.attr({stroke:s.borderColor||l.color||k.color||"#666666"}),this.updatePosition({plotX:w,plotY:M,negative:l.negative,ttBelow:l.ttBelow,h:y[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}Xe(this,"refresh")}renderSplit(t,e){let i=this,{chart:s,chart:{chartWidth:r,chartHeight:n,plotHeight:o,plotLeft:l,plotTop:c,scrollablePixelsY:g=0,scrollablePixelsX:u,styledMode:b},distance:y,options:w,options:{positioner:M},pointer:T}=i,{scrollLeft:k=0,scrollTop:O=0}=s.scrollablePlotArea?.scrollingContainer||{},P=i.outside&&typeof u!="number"?Hr.documentElement.getBoundingClientRect():{left:k,right:k+r,top:O,bottom:O+n},F=i.getLabel(),z=this.renderer||s.renderer,R=!!(s.xAxis[0]&&s.xAxis[0].opposite),{left:N,top:H}=T.getChartPosition(),Y=c+O,U=0,K=o-g;function Z(lt,ht,gt,at,jt=!0){let Nt,vt;return gt?(Nt=R?0:K,vt=je(lt-at/2,P.left,P.right-at-(i.outside?N:0))):(Nt=ht-Y,vt=je(vt=jt?lt-at-y:lt+y,jt?vt:P.left,P.right)),{x:vt,y:Nt}}jr(t)&&(t=[!1,t]);let Q=t.slice(0,e.length+1).reduce(function(lt,ht,gt){if(ht!==!1&&ht!==""){let at=e[gt-1]||{isHeader:!0,plotX:e[0].plotX,plotY:o,series:{}},jt=at.isHeader,Nt=jt?i:at.series,vt=Nt.tt=function(Yt,ce,Ve){let Ni=Yt,{isHeader:Qr,series:So}=ce;if(!Ni){let Qs={padding:w.padding,r:w.borderRadius};b||(Qs.fill=w.backgroundColor,Qs["stroke-width"]=w.borderWidth??1),Ni=z.label("",0,0,w[Qr?"headerShape":"shape"],void 0,void 0,w.useHTML).addClass(i.getClassName(ce,!0,Qr)).attr(Qs).add(F)}return Ni.isActive=!0,Ni.attr({text:Ve}),b||Ni.css(w.style).attr({stroke:w.borderColor||ce.color||So.color||"#333333"}),Ni}(Nt.tt,at,ht.toString()),St=vt.getBBox(),Vt=St.width+vt.strokeWidth();jt&&(U=St.height,K+=U,R&&(Y-=U));let{anchorX:Bt,anchorY:ne}=function(Yt){let ce,Ve,{isHeader:Ni,plotX:Qr=0,plotY:So=0,series:Qs}=Yt;if(Ni)ce=Math.max(l+Qr,l),Ve=c+o/2;else{let{xAxis:Mc,yAxis:Tc}=Qs;ce=Mc.pos+je(Qr,-y,Mc.len+y),Qs.shouldShowTooltip(0,Tc.pos-c+So,{ignoreX:!0})&&(Ve=Tc.pos+So)}return{anchorX:ce=je(ce,P.left-y,P.right+y),anchorY:Ve}}(at);if(typeof ne=="number"){let Yt=St.height+1,ce=M?M.call(i,Vt,Yt,at):Z(Bt,ne,jt,Vt);lt.push({align:M?0:void 0,anchorX:Bt,anchorY:ne,boxWidth:Vt,point:at,rank:ei(ce.rank,jt?1:0),size:Yt,target:ce.y,tt:vt,x:ce.x})}else vt.isActive=!1}return lt},[]);!M&&Q.some(lt=>{let{outside:ht}=i,gt=(ht?N:0)+lt.anchorX;return gt<P.left&&gt+lt.boxWidth<P.right||gt<N-P.left+lt.boxWidth&&P.right-gt>gt})&&(Q=Q.map(lt=>{let{x:ht,y:gt}=Z(lt.anchorX,lt.anchorY,lt.point.isHeader,lt.boxWidth,!1);return Qa(lt,{target:gt,x:ht})})),i.cleanSplit(),_a(Q,K);let tt={left:N,right:N};Q.forEach(function(lt){let{x:ht,boxWidth:gt,isHeader:at}=lt;!at&&(i.outside&&N+ht<tt.left&&(tt.left=N+ht),!at&&i.outside&&tt.left+gt>tt.right&&(tt.right=N+ht))}),Q.forEach(function(lt){let{x:ht,anchorX:gt,anchorY:at,pos:jt,point:{isHeader:Nt}}=lt,vt={visibility:jt===void 0?"hidden":"inherit",x:ht,y:(jt||0)+Y,anchorX:gt,anchorY:at};if(i.outside&&ht<gt){let St=N-tt.left;St>0&&(Nt||(vt.x=ht+St,vt.anchorX=gt+St),Nt&&(vt.x=(tt.right-tt.left)/2,vt.anchorX=gt+St))}lt.tt.attr(vt)});let{container:J,outside:et,renderer:pt}=i;if(et&&J&&pt){let{width:lt,height:ht,x:gt,y:at}=F.getBBox();pt.setSize(lt+gt,ht+at,!1),J.style.left=tt.left+"px",J.style.top=H+"px"}Ys&&F.attr({opacity:F.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(!e||!i)return;let s={x:0,y:0,width:0,height:0},r=this.getAnchor(i),n=e.getBBox();r[0]+=t.plotLeft-(e.translateX||0),r[1]+=t.plotTop-(e.translateY||0),s.x=Math.min(0,r[0]),s.y=Math.min(0,r[1]),s.width=r[0]<0?Math.max(Math.abs(r[0]),n.width-r[0]):Math.max(Math.abs(r[0]),n.width),s.height=r[1]<0?Math.max(Math.abs(r[1]),n.height-Math.abs(r[1])):Math.max(Math.abs(r[1]),n.height),this.tracker?this.tracker.attr(s):(this.tracker=e.renderer.rect(s).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(t,e){let i=t.series,s=i.tooltipOptions,r=i.xAxis,n=r&&r.dateTime,o={isFooter:e,point:t},l=s.xDateFormat||"",c=s[e?"footerFormat":"headerFormat"];return Xe(this,"headerFormatter",o,function(g){if(n&&!l&&Wr(t.key)&&(l=n.getXDateFormat(t.key,s.dateTimeLabelFormats)),n&&l){if(so(l)){let u=l;ti[0]=b=>i.chart.time.dateFormat(u,b),l="%0"}(t.tooltipDateKeys||["key"]).forEach(u=>{c=c.replace(RegExp("point\\."+u+"([ \\)}])",""),`(point.${u}:${l})$1`)})}i.chart.styledMode&&(c=this.styledModeFormat(c)),g.text=Vs(c,t,this.chart)}),o.text||""}update(t){this.destroy(),this.init(this.chart,Xr(!0,this.options,t))}updatePosition(t){let{chart:e,container:i,distance:s,options:r,pointer:n,renderer:o}=this,{height:l=0,width:c=0}=this.getLabel(),{left:g,top:u,scaleX:b,scaleY:y}=n.getChartPosition(),w=(r.positioner||this.getPosition).call(this,c,l,t),M=W.doc,T=(t.plotX||0)+e.plotLeft,k=(t.plotY||0)+e.plotTop,O;o&&i&&(r.positioner&&(w.x+=g-s,w.y+=u-s),O=(r.borderWidth||0)+2*s+2,o.setSize(je(c+O,0,M.documentElement.clientWidth)-1,l+O,!1),(b!==1||y!==1)&&(io(i,{transform:`scale(${b}, ${y})`}),T*=b,k*=y),T+=g-w.x,k+=u-w.y),this.move(Math.round(w.x),Math.round(w.y||0),T,k)}}(function(h){h.compose=function(t){ue(qa,"Core.Tooltip")&&eo(t,"afterInit",function(){let e=this.chart;e.options.tooltip&&(e.tooltip=new h(e,e.options.tooltip,this))})}})(a||(a={}));let d=a,{animObject:f}=Kt,{defaultOptions:v}=ae,{format:E}=le,{addEvent:A,crisp:C,erase:D,extend:B,fireEvent:I,getNestedProperty:G,isArray:X,isFunction:V,isNumber:$,isObject:_,merge:ut,pick:ct,syncTimeout:wt,removeEvent:ft,uniqueKey:nt}=st;class ot{animateBeforeDestroy(){let t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach(function(s){t[s]=t[s].animate(s==="dataLabel"?{x:t[s].startXPos,y:t[s].startYPos,opacity:0}:e)}),i.plural.forEach(function(s){t[s].forEach(function(r){r.element&&r.animate(B({x:t.startXPos},r.startYPos?{x:r.startXPos,y:r.startYPos}:{}))})})}applyOptions(t,e){let i=this.series,s=i.options.pointValKey||i.pointValKey;return B(this,t=ot.prototype.optionsToObject.call(this,t)),this.options=this.options?B(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,s&&(this.y=ot.prototype.getNestedProperty.call(this,s)),this.selected&&(this.state="select"),"name"in this&&e===void 0&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),this.x===void 0&&i?this.x=e??i.autoIncrement():$(t.x)&&i.options.relativeXValue?this.x=i.autoIncrement(t.x):typeof this.x=="string"&&(e??(e=i.chart.time.parse(this.x)),$(e)&&(this.x=e)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,e=t.series,i=e.chart,s=e.options.dataSorting,r=i.hoverPoints,n=f(t.series.chart.renderer.globalAnimation),o=()=>{for(let l in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(ft(t),t.destroyElements()),t)delete t[l]};t.legendItem&&i.legend.destroyItem(t),r&&(t.setState(),D(r,t),r.length||(i.hoverPoints=null)),t===i.hoverPoint&&t.onMouseOut(),s&&s.enabled?(this.animateBeforeDestroy(),wt(o,n.duration)):o(),i.pointCount--}this.destroyed=!0}destroyElements(t){let e=this,i=e.getGraphicalProps(t);i.singular.forEach(function(s){e[s]=e[s].destroy()}),i.plural.forEach(function(s){e[s].forEach(function(r){r&&r.element&&r.destroy()}),delete e[s]})}firePointEvent(t,e,i){let s=this,r=this.series.options;s.manageEvent(t),t==="click"&&r.allowPointSelect&&(i=function(n){!s.destroyed&&s.select&&s.select(null,n.ctrlKey||n.metaKey||n.shiftKey)}),I(s,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let e,i,s=this,r=[],n={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","connector"),t.dataLabel&&r.push("dataLabel","dataLabelPath","dataLabelUpper"),i=r.length;i--;)s[e=r[i]]&&n.singular.push(e);return["graphic","dataLabel"].forEach(function(o){let l=o+"s";t[o]&&s[l]&&n.plural.push(l)}),n}getNestedProperty(t){return t?t.indexOf("custom.")===0?G(t,this.options):this[t]:void 0}getZone(){let t=this.series,e=t.zones,i=t.zoneAxis||"y",s,r=0;for(s=e[0];this[i]>=s.value;)s=e[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),s&&s.color&&!this.options.color?this.color=s.color:this.color=this.nonZonedColor,s}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(t,e,i){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=t,this.applyOptions(e,i),this.id??(this.id=nt()),this.resolveColor(),t.chart.pointCount++,I(this,"afterInit")}isValid(){return($(this.x)||this.x instanceof Date)&&$(this.y)}optionsToObject(t){let e=this.series,i=e.options.keys,s=i||e.pointArrayMap||["y"],r=s.length,n={},o,l=0,c=0;if($(t)||t===null)n[s[0]]=t;else if(X(t))for(!i&&t.length>r&&((o=typeof t[0])=="string"?e.xAxis?.dateTime?n.x=e.chart.time.parse(t[0]):n.name=t[0]:o==="number"&&(n.x=t[0]),l++);c<r;)i&&t[l]===void 0||(s[c].indexOf(".")>0?ot.prototype.setNestedProperty(n,t[l],s[c]):n[s[c]]=t[l]),l++,c++;else typeof t=="object"&&(n=t,t.dataLabels&&(e.hasDataLabels=()=>!0),t.marker&&(e._hasPointMarkers=!0));return n}pos(t,e=this.plotY){if(!this.destroyed){let{plotX:i,series:s}=this,{chart:r,xAxis:n,yAxis:o}=s,l=0,c=0;if($(i)&&$(e))return t&&(l=n?n.pos:r.plotLeft,c=o?o.pos:r.plotTop),r.inverted&&n&&o?[o.len-e+c,n.len-i+l]:[i+l,e+c]}}resolveColor(){let t=this.series,e=t.chart.options.chart,i=t.chart.styledMode,s,r,n=e.colorCount,o;delete this.nonZonedColor,t.options.colorByPoint?(i||(s=(r=t.options.colors||t.chart.options.colors)[t.colorCounter],n=r.length),o=t.colorCounter,t.colorCounter++,t.colorCounter===n&&(t.colorCounter=0)):(i||(s=t.color),o=t.colorIndex),this.colorIndex=ct(this.options.colorIndex,o),this.color=ct(this.options.color,s)}setNestedProperty(t,e,i){return i.split(".").reduce(function(s,r,n,o){let l=o.length-1===n;return s[r]=l?e:_(s[r],!0)?s[r]:{},s[r]},t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){let{chart:e,pointArrayMap:i=["y"],tooltipOptions:s}=this.series,{valueDecimals:r="",valuePrefix:n="",valueSuffix:o=""}=s;return e.styledMode&&(t=e.tooltip?.styledModeFormat(t)||t),i.forEach(l=>{l="{point."+l,(n||o)&&(t=t.replace(RegExp(l+"}","g"),n+l+"}"+o)),t=t.replace(RegExp(l+"}","g"),l+":,."+r+"f}")}),E(t,this,e)}update(t,e,i,s){let r,n=this,o=n.series,l=n.graphic,c=o.chart,g=o.options;function u(){n.applyOptions(t);let b=l&&n.hasMockGraphic,y=n.y===null?!b:b;l&&y&&(n.graphic=l.destroy(),delete n.hasMockGraphic),_(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol!==void 0&&(n.graphic=l.destroy()),t?.dataLabels&&n.dataLabel&&(n.dataLabel=n.dataLabel.destroy())),r=n.index;let w={};for(let M of o.dataColumnKeys())w[M]=n[M];o.dataTable.setRow(w,r),g.data[r]=_(g.data[r],!0)||_(t,!0)?n.options:ct(t,g.data[r]),o.isDirty=o.isDirtyData=!0,!o.fixedBox&&o.hasCartesianSeries&&(c.isDirtyBox=!0),g.legendType==="point"&&(c.isDirtyLegend=!0),e&&c.redraw(i)}e=ct(e,!0),s===!1?u():n.firePointEvent("update",{options:t},u)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){let i=this,s=i.series,r=s.chart;t=ct(t,!i.selected),this.selectedStaging=t,i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,s.options.data[s.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||r.getSelectedPoints().forEach(function(n){let o=n.series;n.selected&&n!==i&&(n.selected=n.options.selected=!1,o.options.data[o.data.indexOf(n)]=n.options,n.setState(r.hoverPoints&&o.options.inactiveOtherPoints?"inactive":""),n.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(t){let{inverted:e,pointer:i}=this.series.chart;i&&(t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e),i.runPointActions(t,this))}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(e){e.setState()}),t.hoverPoints=t.hoverPoint=null}manageEvent(t){let e=ut(this.series.options.point,this.options),i=e.events?.[t];V(i)&&(!this.hcEvents?.[t]||this.hcEvents?.[t]?.map(s=>s.fn).indexOf(i)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=A(this,t,i),this.hcEvents&&(this.hcEvents[t].userEvent=!0)):this.importedUserEvent&&!i&&this.hcEvents?.[t]&&this.hcEvents?.[t].userEvent&&(ft(this,t),delete this.hcEvents[t],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(t,e){let i=this.series,s=this.state,r=i.options.states[t||"normal"]||{},n=v.plotOptions[i.type].marker&&i.options.marker,o=n&&n.enabled===!1,l=n&&n.states&&n.states[t||"normal"]||{},c=l.enabled===!1,g=this.marker||{},u=i.chart,b=n&&i.markerAttribs,y=i.halo,w,M,T,k=i.stateMarkerGraphic,O;if((t=t||"")===this.state&&!e||this.selected&&t!=="select"||r.enabled===!1||t&&(c||o&&l.enabled===!1)||t&&g.states&&g.states[t]&&g.states[t].enabled===!1)return;if(this.state=t,b&&(w=i.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(s&&this.graphic.removeClass("highcharts-point-"+s),t&&this.graphic.addClass("highcharts-point-"+t),!u.styledMode){M=i.pointAttribs(this,t),T=ct(u.options.chart.animation,r.animation);let R=M.opacity;i.options.inactiveOtherPoints&&$(R)&&(this.dataLabels||[]).forEach(function(N){N&&!N.hasClass("highcharts-data-label-hidden")&&(N.animate({opacity:R},T),N.connector&&N.connector.animate({opacity:R},T))}),this.graphic.animate(M,T)}w&&this.graphic.animate(w,ct(u.options.chart.animation,l.animation,n.animation)),k&&k.hide()}else t&&l&&(O=g.symbol||i.symbol,k&&k.currentSymbol!==O&&(k=k.destroy()),w&&(k?k[e?"animate":"attr"]({x:w.x,y:w.y}):O&&(i.stateMarkerGraphic=k=u.renderer.symbol(O,w.x,w.y,w.width,w.height,ut(n,l)).add(i.markerGroup),k.currentSymbol=O)),!u.styledMode&&k&&this.state!=="inactive"&&k.attr(i.pointAttribs(this,t))),k&&(k[t&&this.isInside?"show":"hide"](),k.element.point=this,k.addClass(this.getClassName(),!0));let P=r.halo,F=this.graphic||k,z=F&&F.visibility||"inherit";P&&P.size&&F&&z!=="hidden"&&!this.isCluster?(y||(i.halo=y=u.renderer.path().add(F.parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(P.size)}),y.attr({class:"highcharts-halo highcharts-color-"+ct(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:z,zIndex:-1}),y.point=this,u.styledMode||y.attr(B({fill:this.color||i.color,"fill-opacity":P.opacity},Ct.filterUserAttributes(P.attributes||{})))):y?.point?.haloPath&&!y.point.destroyed&&y.animate({d:y.point.haloPath(0)},null,y.hide),I(this,"afterSetState",{state:t})}haloPath(t){let e=this.pos();return e?this.series.chart.renderer.symbols.circle(C(e[0],1)-t,e[1]-t,2*t,2*t):[]}}let bt=ot,{parse:At}=zt,{charts:Ht,composed:Wt,isTouchDevice:Ge}=W,{addEvent:ee,attr:tl,css:Se,extend:ii,find:Vr,fireEvent:Ci,isNumber:ro,isObject:no,objectEach:qc,offset:_c,pick:Ce,pushUnique:Zc,splat:gh}=st;class Zt{applyInactiveState(t){let e=[],i;(t||[]).forEach(function(s){i=s.series,e.push(i),i.linkedParent&&e.push(i.linkedParent),i.linkedSeries&&(e=e.concat(i.linkedSeries)),i.navigatorSeries&&e.push(i.navigatorSeries)}),this.chart.series.forEach(function(s){e.indexOf(s)===-1?s.setState("inactive",!0):s.options.inactiveOtherPoints&&s.setAllPointsToState("inactive")})}destroy(){let t=this;this.eventsToUnbind.forEach(e=>e()),this.eventsToUnbind=[],!W.chartCount&&(Zt.unbindDocumentMouseUp.forEach(e=>e.unbind()),Zt.unbindDocumentMouseUp.length=0,Zt.unbindDocumentTouchEnd&&(Zt.unbindDocumentTouchEnd=Zt.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),qc(t,function(e,i){t[i]=void 0})}getSelectionMarkerAttrs(t,e){let i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return Ci(this,"getSelectionMarkerAttrs",i,s=>{let r,{chart:n,zoomHor:o,zoomVert:l}=this,{mouseDownX:c=0,mouseDownY:g=0}=n,u=s.attrs;u.x=n.plotLeft,u.y=n.plotTop,u.width=o?1:n.plotWidth,u.height=l?1:n.plotHeight,o&&(r=t-c,u.width=Math.max(1,Math.abs(r)),u.x=(r>0?0:r)+c),l&&(r=e-g,u.height=Math.max(1,Math.abs(r)),u.y=(r>0?0:r)+g)}),i}drag(t){let{chart:e}=this,{mouseDownX:i=0,mouseDownY:s=0}=e,{panning:r,panKey:n,selectionMarkerFill:o}=e.options.chart,l=e.plotLeft,c=e.plotTop,g=e.plotWidth,u=e.plotHeight,b=no(r)?r.enabled:r,y=n&&t[`${n}Key`],w=t.chartX,M=t.chartY,T,k=this.selectionMarker;if((!k||!k.touch)&&(w<l?w=l:w>l+g&&(w=l+g),M<c?M=c:M>c+u&&(M=c+u),this.hasDragged=Math.sqrt(Math.pow(i-w,2)+Math.pow(s-M,2)),this.hasDragged>10)){T=e.isInsidePlot(i-l,s-c,{visiblePlotOnly:!0});let{shapeType:O,attrs:P}=this.getSelectionMarkerAttrs(w,M);(e.hasCartesianSeries||e.mapView)&&this.hasZoom&&T&&!y&&!k&&(this.selectionMarker=k=e.renderer[O](),k.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||k.attr({fill:o||At("#334eff").setOpacity(.25).get()})),k&&k.attr(P),T&&!k&&b&&e.pan(t,r)}}dragStart(t){let e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=t.chartX,e.mouseDownY=t.chartY}getSelectionBox(t){let e={args:{marker:t},result:t.getBBox()};return Ci(this,"getSelectionBox",e),e.result}drop(t){let e,{chart:i,selectionMarker:s}=this;for(let r of i.axes)r.isPanning&&(r.isPanning=!1,(r.options.startOnTick||r.options.endOnTick||r.series.some(n=>n.boosted))&&(r.forceRedraw=!0,r.setExtremes(r.userMin,r.userMax,!1),e=!0));if(e&&i.redraw(),s&&t){if(this.hasDragged){let r=this.getSelectionBox(s);i.transform({axes:i.axes.filter(n=>n.zoomEnabled&&(n.coll==="xAxis"&&this.zoomX||n.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:t,xAxis:[],yAxis:[],...r},from:r})}ro(i.index)&&(this.selectionMarker=s.destroy())}i&&ro(i.index)&&(Se(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(t,e,i){let s;return t.forEach(function(r){let n=!(r.noSharedTooltip&&e)&&0>r.options.findNearestPointBy.indexOf("y"),o=r.searchPoint(i,n);no(o,!0)&&o.series&&(!no(s,!0)||function(l,c){let g=l.distX-c.distX,u=l.dist-c.dist,b=c.series.group?.zIndex-l.series.group?.zIndex;return g!==0&&e?g:u!==0?u:b!==0?b:l.series.index>c.series.index?-1:1}(s,o)>0)&&(s=o)}),s}getChartCoordinatesFromPoint(t,e){let{xAxis:i,yAxis:s}=t.series,r=t.shapeArgs;if(i&&s){let n=t.clientX??t.plotX??0,o=t.plotY||0;return t.isNode&&r&&ro(r.x)&&ro(r.y)&&(n=r.x,o=r.y),e?{chartX:s.len+s.pos-o,chartY:i.len+i.pos-n}:{chartX:n+i.pos,chartY:o+s.pos}}if(r&&r.x&&r.y)return{chartX:r.x,chartY:r.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,e=_c(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};let{offsetHeight:i,offsetWidth:s}=t;return s>2&&i>2&&(this.chartPosition.scaleX=e.width/s,this.chartPosition.scaleY=e.height/i),this.chartPosition}getCoordinates(t){let e={xAxis:[],yAxis:[]};for(let i of this.chart.axes)e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])});return e}getHoverData(t,e,i,s,r,n){let o=[],l=function(y){return y.visible&&!(!r&&y.directTouch)&&Ce(y.options.enableMouseTracking,!0)},c=e,g,u={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:r};Ci(this,"beforeGetHoverData",u),g=c&&!c.stickyTracking?[c]:i.filter(y=>y.stickyTracking&&(u.filter||l)(y));let b=s&&t||!n?t:this.findNearestKDPoint(g,r,n);return c=b&&b.series,b&&(r&&!c.noSharedTooltip?(g=i.filter(function(y){return u.filter?u.filter(y):l(y)&&!y.noSharedTooltip})).forEach(function(y){let w=Vr(y.points,function(M){return M.x===b.x&&!M.isNull});no(w)&&(y.boosted&&y.boost&&(w=y.boost.getPoint(w)),o.push(w))}):o.push(b)),Ci(this,"afterGetHoverData",u={hoverPoint:b}),{hoverPoint:u.hoverPoint,hoverSeries:c,hoverPoints:o}}getPointFromEvent(t){let e=t.target,i;for(;e&&!i;)i=e.point,e=e.parentNode;return i}onTrackerMouseOut(t){let e=this.chart,i=t.relatedTarget,s=e.hoverSeries;this.isDirectTouch=!1,!s||!i||s.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+s.index)&&this.inClass(i,"highcharts-tracker")||s.onMouseOut()}inClass(t,e){let i=t,s;for(;i;){if(s=tl(i,"class")){if(s.indexOf(e)!==-1)return!0;if(s.indexOf("highcharts-container")!==-1)return!1}i=i.parentElement}}constructor(t,e){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=e,this.chart=t,this.runChartClick=!!e.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Ci(this,"afterInit")}normalize(t,e){let i=t.touches,s=i?i.length?i.item(0):Ce(i.changedTouches,t.changedTouches)[0]:t;e||(e=this.getChartPosition());let r=s.pageX-e.left,n=s.pageY-e.top;return ii(t,{chartX:Math.round(r/=e.scaleX),chartY:Math.round(n/=e.scaleY)})}onContainerClick(t){let e=this.chart,i=e.hoverPoint,s=this.normalize(t),r=e.plotLeft,n=e.plotTop;!e.cancelClick&&(i&&this.inClass(s.target,"highcharts-tracker")?(Ci(i.series,"click",ii(s,{point:i})),e.hoverPoint&&i.firePointEvent("click",s)):(ii(s,this.getCoordinates(s)),e.isInsidePlot(s.chartX-r,s.chartY-n,{visiblePlotOnly:!0})&&Ci(e,"click",s)))}onContainerMouseDown(t){let e=(1&(t.buttons||t.button))==1;t=this.normalize(t),W.isFirefox&&t.button!==0&&this.onContainerMouseMove(t),(t.button===void 0||e)&&(this.zoomOption(t),e&&t.preventDefault?.(),this.dragStart(t))}onContainerMouseLeave(t){let{pointer:e}=Ht[Ce(Zt.hoverChartIndex,-1)]||{};t=this.normalize(t),this.onContainerMouseMove(t),e&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.reset(),e.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(t){let e=this.chart,i=e.tooltip,s=this.normalize(t);this.setHoverChartIndex(t),(e.mouseIsDown==="mousedown"||this.touchSelect(s))&&this.drag(s),!e.openMenu&&(this.inClass(s.target,"highcharts-tracker")||e.isInsidePlot(s.chartX-e.plotLeft,s.chartY-e.plotTop,{visiblePlotOnly:!0}))&&!(i&&i.shouldStickOnContact(s))&&(this.inClass(s.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(s))}onDocumentTouchEnd(t){this.onDocumentMouseUp(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let e=this.chart,i=e.tooltip,s=this.chartPosition,r=this.normalize(t,s);!s||e.isInsidePlot(r.chartX-e.plotLeft,r.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(r)||r.target!==e.container.ownerDocument&&this.inClass(r.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){Ht[Ce(Zt.hoverChartIndex,-1)]?.pointer?.drop(t)}pinch(t){let e=this,{chart:i,hasZoom:s,lastTouches:r}=e,n=[].map.call(t.touches||[],u=>e.normalize(u)),o=n.length,l=o===1&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),c=i.tooltip,g=o===1&&Ce(c?.options.followTouchMove,!0);o>1?e.initiated=!0:g&&(e.initiated=!1),s&&e.initiated&&!l&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchstart"?(e.pinchDown=n,e.res=!0,i.mouseDownX=t.chartX):g?this.runPointActions(e.normalize(t)):r&&(Ci(i,"touchpan",{originalEvent:t,touches:n},()=>{let u=b=>{let y=b[0],w=b[1]||y;return{x:y.chartX,y:y.chartY,width:w.chartX-y.chartX,height:w.chartY-y.chartY}};i.transform({axes:i.axes.filter(b=>b.zoomEnabled&&(this.zoomHor&&b.horiz||this.zoomVert&&!b.horiz)),to:u(n),from:u(r),trigger:t.type})}),e.res&&(e.res=!1,this.reset(!1,0))),e.lastTouches=n}reset(t,e){let i=this.chart,s=i.hoverSeries,r=i.hoverPoint,n=i.hoverPoints,o=i.tooltip,l=o&&o.shared?n:r;t&&l&&gh(l).forEach(function(c){c.series.isCartesian&&c.plotX===void 0&&(t=!1)}),t?o&&l&&gh(l).length&&(o.refresh(l),o.shared&&n?n.forEach(function(c){c.setState(c.state,!0),c.series.isCartesian&&(c.series.xAxis.crosshair&&c.series.xAxis.drawCrosshair(null,c),c.series.yAxis.crosshair&&c.series.yAxis.drawCrosshair(null,c))}):r&&(r.setState(r.state,!0),i.axes.forEach(function(c){c.crosshair&&r.series[c.coll]===c&&c.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),n&&n.forEach(function(c){c.setState()}),s&&s.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(c){c.hideCrosshair()}),i.hoverPoints=i.hoverPoint=void 0)}runPointActions(t,e,i){let s=this.chart,r=s.series,n=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,o=!!n&&n.shared,l=e||s.hoverPoint,c=l&&l.series||s.hoverSeries,g=(!t||t.type!=="touchmove")&&(!!e||c&&c.directTouch&&this.isDirectTouch),u=this.getHoverData(l,c,r,g,o,t);l=u.hoverPoint,c=u.hoverSeries;let b=u.hoverPoints,y=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split,w=o&&c&&!c.noSharedTooltip;if(l&&(i||l!==s.hoverPoint||n&&n.isHidden)){if((s.hoverPoints||[]).forEach(function(M){b.indexOf(M)===-1&&M.setState()}),s.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(b),(b||[]).forEach(function(M){M.setState("hover")}),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!l.series)return;s.hoverPoints=b,s.hoverPoint=l,l.firePointEvent("mouseOver",void 0,()=>{n&&l&&n.refresh(w?b:l,t)})}else if(y&&n&&!n.isHidden){let M=n.getAnchor([{}],t);s.isInsidePlot(M[0],M[1],{visiblePlotOnly:!0})&&n.updatePosition({plotX:M[0],plotY:M[1]})}this.unDocMouseMove||(this.unDocMouseMove=ee(s.container.ownerDocument,"mousemove",M=>Ht[Zt.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(M)),this.eventsToUnbind.push(this.unDocMouseMove)),s.axes.forEach(function(M){let T,k=Ce((M.crosshair||{}).snap,!0);!k||(T=s.hoverPoint)&&T.series[M.coll]===M||(T=Vr(b,O=>O.series&&O.series[M.coll]===M)),T||!k?M.drawCrosshair(t,T):M.hideCrosshair()})}setDOMEvents(){let t=this.chart.container,e=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ee(t,"mouseenter",this.onContainerMouseEnter.bind(this)),ee(t,"mouseleave",this.onContainerMouseLeave.bind(this))),Zt.unbindDocumentMouseUp.some(s=>s.doc===e)||Zt.unbindDocumentMouseUp.push({doc:e,unbind:ee(e,"mouseup",this.onDocumentMouseUp.bind(this))});let i=this.chart.renderTo.parentElement;for(;i&&i.tagName!=="BODY";)this.eventsToUnbind.push(ee(i,"scroll",()=>{delete this.chartPosition})),i=i.parentElement;this.eventsToUnbind.push(ee(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ee(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Zt.unbindDocumentTouchEnd||(Zt.unbindDocumentTouchEnd=ee(e,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ee(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!Ge)return;let t=this.pointerCaptureEventsToUnbind,e=this.chart,i=e.container,s=Ce(e.options.tooltip?.followTouchMove,!0)&&e.series.some(r=>r.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&s?(t.push(ee(i,"pointerdown",r=>{r.target?.hasPointerCapture(r.pointerId)&&r.target?.releasePointerCapture(r.pointerId)}),ee(i,"pointermove",r=>{e.pointer?.getPointFromEvent(r)?.onMouseOver(r)})),e.styledMode||Se(i,{"touch-action":"none"}),i.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!s&&(t.forEach(r=>r()),t.length=0,e.styledMode||Se(i,{"touch-action":Ce(e.options.chart.style?.["touch-action"],"manipulation")}),i.className=i.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(t){let e=this.chart,i=W.charts[Ce(Zt.hoverChartIndex,-1)];if(i&&i!==e){let s={relatedTarget:e.container};t&&!t?.relatedTarget&&Object.assign({},t,s),i.pointer?.onContainerMouseLeave(t||s)}i&&i.mouseIsDown||(Zt.hoverChartIndex=e.index)}touch(t,e){let i,{chart:s,pinchDown:r=[]}=this;this.setHoverChartIndex(),(t=this.normalize(t)).touches.length===1?s.isInsidePlot(t.chartX-s.plotLeft,t.chartY-s.plotTop,{visiblePlotOnly:!0})&&!s.openMenu?(e&&this.runPointActions(t),t.type==="touchmove"&&(i=!!r[0]&&Math.pow(r[0].chartX-t.chartX,2)+Math.pow(r[0].chartY-t.chartY,2)>=16),Ce(i,!0)&&this.pinch(t)):e&&this.reset():t.touches.length===2&&this.pinch(t)}touchSelect(t){return!!(this.chart.zooming.singleTouch&&t.touches&&t.touches.length===1)}zoomOption(t){let e=this.chart,i=e.inverted,s=e.zooming.type||"",r,n;/touch/.test(t.type)&&(s=Ce(e.zooming.pinchType,s)),this.zoomX=r=/x/.test(s),this.zoomY=n=/y/.test(s),this.zoomHor=r&&!i||n&&i,this.zoomVert=n&&!i||r&&i,this.hasZoom=r||n}}Zt.unbindDocumentMouseUp=[],function(h){h.compose=function(t){Zc(Wt,"Core.Pointer")&&ee(t,"beforeRender",function(){this.pointer=new h(this,this.options)})}}(Zt||(Zt={}));let mh=Zt,{fireEvent:fh,isArray:Qc,objectEach:oo,uniqueKey:ao}=st,lo=class{constructor(h={}){this.autoId=!h.id,this.columns={},this.id=h.id||ao(),this.modified=this,this.rowCount=0,this.versionTag=ao();let t=0;oo(h.columns||{},(e,i)=>{this.columns[i]=e.slice(),t=Math.max(t,e.length)}),this.applyRowCount(t)}applyRowCount(h){this.rowCount=h,oo(this.columns,t=>{Qc(t)&&(t.length=h)})}getColumn(h,t){return this.columns[h]}getColumns(h,t){return(h||Object.keys(this.columns)).reduce((e,i)=>(e[i]=this.columns[i],e),{})}getRow(h,t){return(t||Object.keys(this.columns)).map(e=>this.columns[e]?.[h])}setColumn(h,t=[],e=0,i){this.setColumns({[h]:t},e,i)}setColumns(h,t,e){let i=this.rowCount;oo(h,(s,r)=>{this.columns[r]=s.slice(),i=s.length}),this.applyRowCount(i),e?.silent||(fh(this,"afterSetColumns"),this.versionTag=ao())}setRow(h,t=this.rowCount,e,i){let{columns:s}=this,r=e?this.rowCount+1:t+1;oo(h,(n,o)=>{let l=s[o]||i?.addColumns!==!1&&Array(r);l&&(e?l.splice(t,0,n):l[t]=n,s[o]=l)}),r>this.rowCount&&this.applyRowCount(r),i?.silent||(fh(this,"afterSetRows"),this.versionTag=ao())}},{extend:Jc,merge:td,pick:bh}=st;(function(h){function t(e,i,s){let r=this.legendItem=this.legendItem||{},{chart:n,options:o}=this,{baseline:l=0,symbolWidth:c,symbolHeight:g}=e,u=this.symbol||"circle",b=g/2,y=n.renderer,w=r.group,M=l-Math.round((e.fontMetrics?.b||g)*(s?.4:.3)),T={},k,O=o.marker,P=0;if(n.styledMode||(T["stroke-width"]=Math.min(o.lineWidth||0,24),o.dashStyle?T.dashstyle=o.dashStyle:o.linecap==="square"||(T["stroke-linecap"]="round")),r.line=y.path().addClass("highcharts-graph").attr(T).add(w),s&&(r.area=y.path().addClass("highcharts-area").add(w)),T["stroke-linecap"]&&(P=Math.min(r.line.strokeWidth(),c)/2),c){let F=[["M",P,M],["L",c-P,M]];r.line.attr({d:F}),r.area?.attr({d:[...F,["L",c-P,l],["L",P,l]]})}if(O&&O.enabled!==!1&&c){let F=Math.min(bh(O.radius,b),b);u.indexOf("url")===0&&(O=td(O,{width:g,height:g}),F=0),r.symbol=k=y.symbol(u,c/2-F,M-F,2*F,2*F,Jc({context:"legend"},O)).addClass("highcharts-point").add(w),k.isMarker=!0}}h.areaMarker=function(e,i){t.call(this,e,i,!0)},h.lineMarker=t,h.rectangle=function(e,i){let s=i.legendItem||{},r=e.options,n=e.symbolHeight,o=r.squareSymbol,l=o?n:e.symbolWidth;s.symbol=this.chart.renderer.rect(o?(e.symbolWidth-n)/2:0,e.baseline-n+1,l,n,bh(e.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(s.group)}})(pe||(pe={}));let xh=pe,{defaultOptions:yh}=ae,{extend:ed,extendClass:id,merge:sd}=st;(function(h){function t(e,i){let s=yh.plotOptions||{},r=i.defaultOptions,n=i.prototype;return n.type=e,n.pointClass||(n.pointClass=bt),!h.seriesTypes[e]&&(r&&(s[e]=r),h.seriesTypes[e]=i,!0)}h.seriesTypes=W.seriesTypes,h.registerSeriesType=t,h.seriesType=function(e,i,s,r,n){let o=yh.plotOptions||{};if(i=i||"",o[e]=sd(o[i],s),delete h.seriesTypes[e],t(e,id(h.seriesTypes[i]||function(){},r)),h.seriesTypes[e].prototype.type=e,n){class l extends bt{}ed(l.prototype,n),h.seriesTypes[e].prototype.pointClass=l}return h.seriesTypes[e]}})(Et||(Et={}));let Ft=Et,{animObject:vh,setAnimation:rd}=Kt,{defaultOptions:ho}=ae,{registerEventOptions:nd}=qi,{svg:od,win:ad}=W,{seriesTypes:$s}=Ft,{arrayMax:el,arrayMin:wh,clamp:kh,correctFloat:Ah,crisp:ld,defined:Qt,destroyObjectProperties:hd,diffObjects:cd,erase:Eh,error:co,extend:Us,find:dd,fireEvent:Lt,getClosestDistance:ud,getNestedProperty:Mh,insertItem:Th,isArray:Sh,isNumber:ie,isString:pd,merge:Ks,objectEach:il,pick:Dt,removeEvent:gd,syncTimeout:Ch}=st;class qs{constructor(){this.zoneAxis="y"}init(t,e){let i;Lt(this,"init",{options:e}),this.dataTable??(this.dataTable=new lo);let s=t.series;this.eventsToUnbind=[],this.chart=t,this.options=this.setOptions(e);let r=this.options,n=r.visible!==!1;this.linkedSeries=[],this.bindAxes(),Us(this,{name:r.name,state:"",visible:n,selected:r.selected===!0}),nd(this,r);let o=r.events;(o&&o.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(i=s[s.length-1]),this._i=Dt(i&&i._i,-1)+1,this.opacity=this.options.opacity,t.orderItems("series",Th(this,s)),r.dataSorting&&r.dataSorting.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(r.data,!1),Lt(this,"afterInit")}is(t){return $s[t]&&this instanceof $s[t]}bindAxes(){let t,e=this,i=e.options,s=e.chart;Lt(this,"bindAxes",null,function(){(e.axisTypes||[]).forEach(function(r){(s[r]||[]).forEach(function(n){t=n.options,(Dt(i[r],0)===n.index||i[r]!==void 0&&i[r]===t.id)&&(Th(e,n.series),e[r]=n,n.isDirty=!0)}),e[r]||e.optionalAxis===r||co(18,!0,s)})}),Lt(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(t,e){let i=t.marker,s=e.marker||{};return i&&(s.enabled&&!i.enabled||s.symbol!==i.symbol||s.height!==i.height||s.width!==i.width)}autoIncrement(t){let e,i=this.options,{pointIntervalUnit:s,relativeXValue:r}=this.options,n=this.chart.time,o=this.xIncrement??n.parse(i.pointStart)??0;if(this.pointInterval=e=Dt(this.pointInterval,i.pointInterval,1),r&&ie(t)&&(e*=t),s){let l=n.toParts(o);s==="day"?l[2]+=e:s==="month"?l[1]+=e:s==="year"&&(l[0]+=e),e=n.makeTime.apply(n,l)-o}return r&&ie(t)?o+e:(this.xIncrement=o+e,o)}setDataSortingOptions(){let t=this.options;Us(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Qt(t.pointRange)||(t.pointRange=1)}setOptions(t){let e,i=this.chart,s=i.options.plotOptions,r=i.userOptions||{},n=Ks(t),o=i.styledMode,l={plotOptions:s,userOptions:n};Lt(this,"setOptions",l);let c=l.plotOptions[this.type],g=r.plotOptions||{},u=g.series||{},b=ho.plotOptions[this.type]||{},y=g[this.type]||{};this.userOptions=l.userOptions;let w=Ks(c,s.series,y,n);this.tooltipOptions=Ks(ho.tooltip,ho.plotOptions.series?.tooltip,b?.tooltip,i.userOptions.tooltip,g.series?.tooltip,y.tooltip,n.tooltip),this.stickyTracking=Dt(n.stickyTracking,y.stickyTracking,u.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||w.stickyTracking),c.marker===null&&delete w.marker,this.zoneAxis=w.zoneAxis||"y";let M=this.zones=(w.zones||[]).map(T=>({...T}));return(w.negativeColor||w.negativeFillColor)&&!w.zones&&(e={value:w[this.zoneAxis+"Threshold"]||w.threshold||0,className:"highcharts-negative"},o||(e.color=w.negativeColor,e.fillColor=w.negativeFillColor),M.push(e)),M.length&&Qt(M[M.length-1].value)&&M.push(o?{}:{color:this.color,fillColor:this.fillColor}),Lt(this,"afterSetOptions",{options:w}),w}getName(){return Dt(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){let s,r,n=this.chart,o=`${t}Index`,l=`${t}Counter`,c=i?.length||n.options.chart.colorCount;!e&&(Qt(r=Dt(t==="color"?this.options.colorIndex:void 0,this[o]))?s=r:(n.series.length||(n[l]=0),s=n[l]%c,n[l]+=1),i&&(e=i[s])),s!==void 0&&(this[o]=s),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||ho.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}getColumn(t,e){return(e?this.dataTable.modified:this.dataTable).getColumn(t,!0)||[]}findPointIndex(t,e){let i,s,r,n=t.id,o=t.x,l=this.points,c=this.options.dataSorting;if(n){let g=this.chart.get(n);g instanceof bt&&(i=g)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let g=u=>!u.touched&&u.index===t.index;if(c&&c.matchByName?g=u=>!u.touched&&u.name===t.name:this.options.relativeXValue&&(g=u=>!u.touched&&u.options.x===t.x),!(i=dd(l,g)))return}return i&&(r=i&&i.index)!==void 0&&(s=!0),r===void 0&&ie(o)&&(r=this.getColumn("x").indexOf(o,e)),r!==-1&&r!==void 0&&this.cropped&&(r=r>=this.cropStart?r-this.cropStart:r),!s&&ie(r)&&l[r]&&l[r].touched&&(r=void 0),r}updateData(t,e){let i=this.options,s=i.dataSorting,r=this.points,n=[],o=this.requireSorting,l=t.length===r.length,c,g,u,b,y=!0;if(this.xIncrement=null,t.forEach(function(M,T){let k,O=Qt(M)&&this.pointClass.prototype.optionsToObject.call({series:this},M)||{},P=O.x;O.id||ie(P)?((k=this.findPointIndex(O,b))===-1||k===void 0?n.push(M):r[k]&&M!==i.data[k]?(r[k].update(M,!1,null,!1),r[k].touched=!0,o&&(b=k+1)):r[k]&&(r[k].touched=!0),(!l||T!==k||s&&s.enabled||this.hasDerivedData)&&(c=!0)):n.push(M)},this),c)for(g=r.length;g--;)(u=r[g])&&!u.touched&&u.remove&&u.remove(!1,e);else!l||s&&s.enabled?y=!1:(t.forEach(function(M,T){M===r[T].y||r[T].destroyed||r[T].update(M,!1,null,!1)}),n.length=0);if(r.forEach(function(M){M&&(M.touched=!1)}),!y)return!1;n.forEach(function(M){this.addPoint(M,!1,null,null,!1)},this);let w=this.getColumn("x");return this.xIncrement===null&&w.length&&(this.xIncrement=el(w),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(t,e=!0,i,s){let r=this.points,n=r&&r.length||0,o=this.options,l=this.chart,c=o.dataSorting,g=this.xAxis,u=o.turboThreshold,b=this.dataTable,y=this.dataColumnKeys(),w=this.pointValKey||"y",M=(this.pointArrayMap||[]).length,T=o.keys,k,O,P=0,F=1,z;l.options.chart.allowMutatingData||(o.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,z=Ks(!0,t));let R=(t=z||t||[]).length;if(c&&c.enabled&&(t=this.sortData(t)),l.options.chart.allowMutatingData&&s!==!1&&R&&n&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(O=this.updateData(t,i)),!O){this.xIncrement=null,this.colorCounter=0;let N=u&&R>u;if(N){let H=this.getFirstValidPoint(t),Y=this.getFirstValidPoint(t,R-1,-1),U=K=>!!(Sh(K)&&(T||ie(K[0])));if(ie(H)&&ie(Y)){let K=[],Z=[];for(let Q of t)K.push(this.autoIncrement()),Z.push(Q);b.setColumns({x:K,[w]:Z})}else if(U(H)&&U(Y))if(M){let K=H.length===M?1:0,Z=Array(y.length).fill(0).map(()=>[]);for(let Q of t){K&&Z[0].push(this.autoIncrement());for(let tt=K;tt<=M;tt++)Z[tt]?.push(Q[tt-K])}b.setColumns(y.reduce((Q,tt,J)=>(Q[tt]=Z[J],Q),{}))}else{T&&(P=T.indexOf("x"),F=T.indexOf("y"),P=P>=0?P:0,F=F>=0?F:1),H.length===1&&(F=0);let K=[],Z=[];if(P===F)for(let Q of t)K.push(this.autoIncrement()),Z.push(Q[F]);else for(let Q of t)K.push(Q[P]),Z.push(Q[F]);b.setColumns({x:K,[w]:Z})}else N=!1}if(!N){let H=y.reduce((Y,U)=>(Y[U]=[],Y),{});for(k=0;k<R;k++){let Y=this.pointClass.prototype.applyOptions.apply({series:this},[t[k]]);for(let U of y)H[U][k]=Y[U]}b.setColumns(H)}for(pd(this.getColumn("y")[0])&&co(14,!0,l),this.data=[],this.options.data=this.userOptions.data=t,k=n;k--;)r[k]?.destroy();g&&(g.minRange=g.userMinRange),this.isDirty=l.isDirtyBox=!0,this.isDirtyData=!!r,i=!1}o.legendType==="point"&&(this.processData(),this.generatePoints()),e&&l.redraw(i)}sortData(t){let e=this,i=e.options.dataSorting.sortKey||"y",s=function(r,n){return Qt(n)&&r.pointClass.prototype.optionsToObject.call({series:r},n)||{}};return t.forEach(function(r,n){t[n]=s(e,r),t[n].index=n},this),t.concat().sort((r,n)=>{let o=Mh(i,r),l=Mh(i,n);return l<o?-1:l>o?1:0}).forEach(function(r,n){r.x=n},this),e.linkedSeries&&e.linkedSeries.forEach(function(r){let n=r.options,o=n.data;n.dataSorting&&n.dataSorting.enabled||!o||(o.forEach(function(l,c){o[c]=s(r,l),t[c]&&(o[c].x=t[c].x,o[c].index=c)}),r.setData(o,!1))}),t}getProcessedData(t){let e=this,{dataTable:i,isCartesian:s,options:r,xAxis:n}=e,o=r.cropThreshold,l=t||e.getExtremesFromAll,c=n?.logarithmic,g=i.rowCount,u,b,y=0,w,M,T,k=e.getColumn("x"),O=i,P=!1;return n&&(M=(w=n.getExtremes()).min,T=w.max,P=!!(n.categories&&!n.names.length),s&&e.sorted&&!l&&(!o||g>o||e.forceCrop)&&(k[g-1]<M||k[0]>T?O=new lo:e.getColumn(e.pointValKey||"y").length&&(k[0]<M||k[g-1]>T)&&(O=(u=this.cropData(i,M,T)).modified,y=u.start,b=!0))),k=O.getColumn("x")||[],{modified:O,cropped:b,cropStart:y,closestPointRange:ud([c?k.map(c.log2lin):k],()=>e.requireSorting&&!P&&co(15,!1,e.chart))}}processData(t){let e=this.xAxis,i=this.dataTable;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;let s=this.getProcessedData();i.modified=s.modified,this.cropped=s.cropped,this.cropStart=s.cropStart,this.closestPointRange=this.basePointRange=s.closestPointRange,Lt(this,"afterProcessData")}cropData(t,e,i){let s=t.getColumn("x",!0)||[],r=s.length,n={},o,l,c=0,g=r;for(o=0;o<r;o++)if(s[o]>=e){c=Math.max(0,o-1);break}for(l=o;l<r;l++)if(s[l]>i){g=l+1;break}for(let u of this.dataColumnKeys()){let b=t.getColumn(u,!0);b&&(n[u]=b.slice(c,g))}return{modified:new lo({columns:n}),start:c,end:g}}generatePoints(){let t=this.options,e=this.processedData||t.data,i=this.dataTable.modified,s=this.getColumn("x",!0),r=this.pointClass,n=i.rowCount,o=this.cropStart||0,l=this.hasGroupedData,c=t.keys,g=[],u=t.dataGrouping&&t.dataGrouping.groupAll?o:0,b=this.xAxis?.categories,y=this.pointArrayMap||["y"],w=this.dataColumnKeys(),M,T,k,O,P=this.data,F;if(!P&&!l){let z=[];z.length=e?.length||0,P=this.data=z}for(c&&l&&(this.options.keys=!1),O=0;O<n;O++)T=o+O,l?((k=new r(this,i.getRow(O,w)||[])).dataGroup=this.groupMap[u+O],k.dataGroup?.options&&(k.options=k.dataGroup.options,Us(k,k.dataGroup.options),delete k.dataLabels)):(k=P[T],F=e?e[T]:i.getRow(O,y),k||F===void 0||(P[T]=k=new r(this,F,s[O]))),k&&(k.index=l?u+O:T,g[O]=k,k.category=b?.[k.x]??k.x,k.key=k.name??k.category);if(this.options.keys=c,P&&(n!==(M=P.length)||l))for(O=0;O<M;O++)O!==o||l||(O+=n),P[O]&&(P[O].destroyElements(),P[O].plotX=void 0);this.data=P,this.points=g,Lt(this,"afterGeneratePoints")}getXExtremes(t){return{min:wh(t),max:el(t)}}getExtremes(t,e){let{xAxis:i,yAxis:s}=this,r=e||this.getExtremesFromAll||this.options.getExtremesFromAll,n=r&&this.cropped?this.dataTable:this.dataTable.modified,o=n.rowCount,l=t||this.stackedYData,c=l?[l]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(z=>n.getColumn(z,!0)||[])||[],g=this.getColumn("x",!0),u=[],b=this.requireSorting&&!this.is("column")?1:0,y=!!s&&s.positiveValuesOnly,w=r||this.cropped||!i,M,T,k,O=0,P=0;for(i&&(O=(M=i.getExtremes()).min,P=M.max),k=0;k<o;k++)if(T=g[k],w||(g[k+b]||T)>=O&&(g[k-b]||T)<=P)for(let z of c){let R=z[k];ie(R)&&(R>0||!y)&&u.push(R)}let F={activeYData:u,dataMin:wh(u),dataMax:el(u)};return Lt(this,"afterGetExtremes",{dataExtremes:F}),F}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,e=0,i=1){let s=t.length,r=e;for(;r>=0&&r<s;){if(Qt(t[r]))return t[r];r+=i}}translate(){this.generatePoints();let t=this.options,e=t.stacking,i=this.xAxis,s=this.enabledDataSorting,r=this.yAxis,n=this.points,o=n.length,l=this.pointPlacementToXValue(),c=!!l,g=t.threshold,u=t.startFromThreshold?g:0,b,y,w,M,T=Number.MAX_VALUE;function k(O){return kh(O,-1e9,1e9)}for(b=0;b<o;b++){let O,P=n[b],F=P.x,z,R,N=P.y,H=P.low,Y=e&&r.stacking?.stacks[(this.negStacks&&N<(u?0:g)?"-":"")+this.stackKey];y=i.translate(F,!1,!1,!1,!0,l),P.plotX=ie(y)?Ah(k(y)):void 0,e&&this.visible&&Y&&Y[F]&&(M=this.getStackIndicator(M,F,this.index),!P.isNull&&M.key&&(R=(z=Y[F]).points[M.key]),z&&Sh(R)&&(H=R[0],N=R[1],H===u&&M.key===Y[F].base&&(H=Dt(ie(g)?g:r.min)),r.positiveValuesOnly&&Qt(H)&&H<=0&&(H=void 0),P.total=P.stackTotal=Dt(z.total),P.percentage=Qt(P.y)&&z.total?P.y/z.total*100:void 0,P.stackY=N,this.irregularWidths||z.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),P.yBottom=Qt(H)?k(r.translate(H,!1,!0,!1,!0)):void 0,this.dataModify&&(N=this.dataModify.modifyValue(N,b)),ie(N)&&P.plotX!==void 0&&(O=ie(O=r.translate(N,!1,!0,!1,!0))?k(O):void 0),P.plotY=O,P.isInside=this.isPointInside(P),P.clientX=c?Ah(i.translate(F,!1,!1,!1,!0,l)):y,P.negative=(P.y||0)<(g||0),P.isNull||P.visible===!1||(w!==void 0&&(T=Math.min(T,Math.abs(y-w))),w=y),P.zone=this.zones.length?P.getZone():void 0,!P.graphic&&this.group&&s&&(P.isNew=!0)}this.closestPointRangePx=T,Lt(this,"afterTranslate")}getValidPoints(t,e,i){let s=this.chart;return(t||this.points||[]).filter(function(r){let{plotX:n,plotY:o}=r;return!!((i||!r.isNull&&ie(o))&&(!e||s.isInsidePlot(n,o,{inverted:s.inverted})))&&r.visible!==!1})}getClipBox(){let{chart:t,xAxis:e,yAxis:i}=this,{x:s,y:r,width:n,height:o}=Ks(t.clipBox);return e&&e.len!==t.plotSizeX&&(n=e.len),i&&i.len!==t.plotSizeY&&(o=i.len),t.inverted&&!this.invertible&&([n,o]=[o,n]),{x:s,y:r,width:n,height:o}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:e,markerGroup:i}=this,s=t.sharedClips,r=t.renderer,n=this.getClipBox(),o=this.getSharedClipKey(),l=s[o];l?l.animate(n):s[o]=l=r.clipRect(n),e&&e.clip(this.options.clip===!1?void 0:l),i&&i.clip()}animate(t){let{chart:e,group:i,markerGroup:s}=this,r=e.inverted,n=vh(this.options.animation),o=[this.getSharedClipKey(),n.duration,n.easing,n.defer].join(","),l=e.sharedClips[o],c=e.sharedClips[o+"m"];if(t&&i){let g=this.getClipBox();if(l)l.attr("height",g.height);else{g.width=0,r&&(g.x=e.plotHeight),l=e.renderer.clipRect(g),e.sharedClips[o]=l;let u={x:-99,y:-99,width:r?e.plotWidth+199:99,height:r?99:e.plotHeight+199};c=e.renderer.clipRect(u),e.sharedClips[o+"m"]=c}i.clip(l),s?.clip(c)}else if(l&&!l.hasClass("highcharts-animating")){let g=this.getClipBox(),u=n.step;(s?.element.childNodes.length||e.series.length>1)&&(n.step=function(b,y){u&&u.apply(y,arguments),y.prop==="width"&&c?.element&&c.attr(r?"height":"width",b+99)}),l.addClass("highcharts-animating").animate(g,n)}}afterAnimate(){this.setClip(),il(this.chart.sharedClips,(t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])}),this.finishedAnimating=!0,Lt(this,"afterAnimate")}drawPoints(t=this.points){let e,i,s,r,n,o,l,c=this.chart,g=c.styledMode,{colorAxis:u,options:b}=this,y=b.marker,w=this[this.specialGroup||"markerGroup"],M=this.xAxis,T=Dt(y.enabled,!M||!!M.isRadial||null,this.closestPointRangePx>=y.enabledThreshold*y.radius);if(y.enabled!==!1||this._hasPointMarkers)for(e=0;e<t.length;e++)if(r=(s=(i=t[e]).graphic)?"animate":"attr",n=i.marker||{},o=!!i.marker,(T&&n.enabled===void 0||n.enabled)&&!i.isNull&&i.visible!==!1){let k=Dt(n.symbol,this.symbol,"rect");l=this.markerAttribs(i,i.selected&&"select"),this.enabledDataSorting&&(i.startXPos=M.reversed?-(l.width||0):M.width);let O=i.isInside!==!1;if(!s&&O&&((l.width||0)>0||i.hasImage)&&(i.graphic=s=c.renderer.symbol(k,l.x,l.y,l.width,l.height,o?n:y).add(w),this.enabledDataSorting&&c.hasRendered&&(s.attr({x:i.startXPos}),r="animate")),s&&r==="animate"&&s[O?"show":"hide"](O).animate(l),s){let P=this.pointAttribs(i,g||!i.selected?void 0:"select");g?u&&s.css({fill:P.fill}):s[r](P)}s&&s.addClass(i.getClassName(),!0)}else s&&(i.graphic=s.destroy())}markerAttribs(t,e){let i=this.options,s=i.marker,r=t.marker||{},n=r.symbol||s.symbol,o={},l,c,g=Dt(r.radius,s&&s.radius);e&&(l=s.states[e],g=Dt((c=r.states&&r.states[e])&&c.radius,l&&l.radius,g&&g+(l&&l.radiusPlus||0))),t.hasImage=n&&n.indexOf("url")===0,t.hasImage&&(g=0);let u=t.pos();return ie(g)&&u&&(i.crisp&&(u[0]=ld(u[0],t.hasImage?0:n==="rect"?s?.lineWidth||0:1)),o.x=u[0]-g,o.y=u[1]-g),g&&(o.width=o.height=2*g),o}pointAttribs(t,e){let i=this.options.marker,s=t&&t.options,r=s&&s.marker||{},n=s&&s.color,o=t&&t.color,l=t&&t.zone&&t.zone.color,c,g,u=this.color,b,y,w=Dt(r.lineWidth,i.lineWidth),M=1;return u=n||l||o||u,b=r.fillColor||i.fillColor||u,y=r.lineColor||i.lineColor||u,e=e||"normal",c=i.states[e]||{},w=Dt((g=r.states&&r.states[e]||{}).lineWidth,c.lineWidth,w+Dt(g.lineWidthPlus,c.lineWidthPlus,0)),b=g.fillColor||c.fillColor||b,{stroke:y=g.lineColor||c.lineColor||y,"stroke-width":w,fill:b,opacity:M=Dt(g.opacity,c.opacity,M)}}destroy(t){let e,i,s,r=this,n=r.chart,o=/AppleWebKit\/533/.test(ad.navigator.userAgent),l=r.data||[];for(Lt(r,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(r.axisTypes||[]).forEach(function(c){(s=r[c])&&s.series&&(Eh(s.series,r),s.isDirty=s.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();for(let c of r.zones)hd(c,void 0,!0);st.clearTimeout(r.animationTimeout),il(r,function(c,g){c instanceof ve&&!c.survive&&c[o&&g==="group"?"hide":"destroy"]()}),n.hoverSeries===r&&(n.hoverSeries=void 0),Eh(n.series,r),n.orderItems("series"),il(r,function(c,g){t&&g==="hcEvents"||delete r[g]})}applyZones(){let{area:t,chart:e,graph:i,zones:s,points:r,xAxis:n,yAxis:o,zoneAxis:l}=this,{inverted:c,renderer:g}=e,u=this[`${l}Axis`],{isXAxis:b,len:y=0,minPointOffset:w=0}=u||{},M=(i?.strokeWidth()||0)/2+1,T=(k,O=0,P=0)=>{c&&(P=y-P);let{translated:F=0,lineClip:z}=k,R=P-F;z?.push(["L",O,Math.abs(R)<M?P-M*(R<=0?-1:1):F])};if(s.length&&(i||t)&&u&&ie(u.min)){let k=u.getExtremes().max+w,O=z=>{z.forEach((R,N)=>{(R[0]==="M"||R[0]==="L")&&(z[N]=[R[0],b?y-R[1]:R[1],b?R[2]:y-R[2]])})};if(s.forEach(z=>{z.lineClip=[],z.translated=kh(u.toPixels(Dt(z.value,k),!0)||0,0,y)}),i&&!this.showLine&&i.hide(),t&&t.hide(),l==="y"&&r.length<n.len)for(let z of r){let{plotX:R,plotY:N,zone:H}=z,Y=H&&s[s.indexOf(H)-1];H&&T(H,R,N),Y&&T(Y,R,N)}let P=[],F=u.toPixels(u.getExtremes().min-w,!0);s.forEach(z=>{let R=z.lineClip||[],N=Math.round(z.translated||0);n.reversed&&R.reverse();let{clip:H,simpleClip:Y}=z,U=0,K=0,Z=n.len,Q=o.len;b?(U=N,Z=F):(K=N,Q=F);let tt=[["M",U,K],["L",Z,K],["L",Z,Q],["L",U,Q],["Z"]],J=[tt[0],...R,tt[1],tt[2],...P,tt[3],tt[4]];P=R.reverse(),F=N,c&&(O(J),t&&O(tt)),H?(H.animate({d:J}),Y?.animate({d:tt})):(H=z.clip=g.path(J),t&&(Y=z.simpleClip=g.path(tt))),i&&z.graph?.clip(H),t&&z.area?.clip(Y)})}else this.visible&&(i&&i.show(),t&&t.show())}plotGroup(t,e,i,s,r){let n=this[t],o=!n,l={visibility:i,zIndex:s||.1};return Qt(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(l.opacity=this.opacity),n||(this[t]=n=this.chart.renderer.g().add(r)),n.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Qt(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(n.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),n.attr(l)[o?"attr":"animate"](this.getPlotBox(e)),n}getPlotBox(t){let e=this.xAxis,i=this.yAxis,s=this.chart,r=s.inverted&&!s.polar&&e&&this.invertible&&t==="series";return s.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:s.plotLeft,translateY:i?i.top:s.plotTop,rotation:r?90:0,rotationOriginX:r?(e.len-i.len)/2:0,rotationOriginY:r?(e.len+i.len)/2:0,scaleX:r?-1:1,scaleY:1}}removeEvents(t){let{eventsToUnbind:e}=this;t||gd(this),e.length&&(e.forEach(i=>{i()}),e.length=0)}render(){let t=this,{chart:e,options:i,hasRendered:s}=t,r=vh(i.animation),n=t.visible?"inherit":"hidden",o=i.zIndex,l=e.seriesGroup,c=t.finishedAnimating?0:r.duration;Lt(this,"render"),t.plotGroup("group","series",n,o,l),t.markerGroup=t.plotGroup("markerGroup","markers",n,o,l),i.clip!==!1&&t.setClip(),c&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),i.enableMouseTracking&&t.drawTracker?.(),c&&t.animate?.(),s||(c&&r.defer&&(c+=r.defer),t.animationTimeout=Ch(()=>{t.afterAnimate()},c||0)),t.isDirty=!1,t.hasRendered=!0,Lt(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,e){let{xAxis:i,yAxis:s}=this,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?s.len-t.chartX+s.pos:t.chartY-s.pos},e,t)}buildKDTree(t){this.buildingKdTree=!0;let e=this,i=e.options.findNearestPointBy.indexOf("y")>-1?2:1;delete e.kdTree,Ch(function(){e.kdTree=function s(r,n,o){let l,c,g=r?.length;if(g)return l=e.kdAxisArray[n%o],r.sort((u,b)=>(u[l]||0)-(b[l]||0)),{point:r[c=Math.floor(g/2)],left:s(r.slice(0,c),n+1,o),right:s(r.slice(c+1),n+1,o)}}(e.getValidPoints(void 0,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow||t?.type==="touchstart"?0:1)}searchKDTree(t,e,i,s,r){let n=this,[o,l]=this.kdAxisArray,c=e?"distX":"dist",g=(n.options.findNearestPointBy||"").indexOf("y")>-1?2:1,u=!!n.isBubble,b=s||((w,M,T)=>[(w[T]||0)<(M[T]||0)?w:M,!1]),y=r||((w,M)=>w<M);if(this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function w(M,T,k,O){let P=T.point,F=n.kdAxisArray[k%O],z=P,R=!1;(function(U,K){let Z=U[o],Q=K[o],tt=Qt(Z)&&Qt(Q)?Z-Q:null,J=U[l],et=K[l],pt=Qt(J)&&Qt(et)?J-et:0,lt=u&&K.marker?.radius||0;K.dist=Math.sqrt((tt&&tt*tt||0)+pt*pt)-lt,K.distX=Qt(tt)?Math.abs(tt)-lt:Number.MAX_VALUE})(M,P);let N=(M[F]||0)-(P[F]||0)+(u&&P.marker?.radius||0),H=N<0?"left":"right",Y=N<0?"right":"left";return T[H]&&([z,R]=b(P,w(M,T[H],k+1,O),c)),T[Y]&&y(Math.sqrt(N*N),z[c],R)&&(z=b(z,w(M,T[Y],k+1,O),c)[0]),z}(t,this.kdTree,g,g)}pointPlacementToXValue(){let{options:t,xAxis:e}=this,i=t.pointPlacement;return i==="between"&&(i=e.reversed?-.5:.5),ie(i)?i*(t.pointRange||e.pointRange):0}isPointInside(t){let{chart:e,xAxis:i,yAxis:s}=this,{plotX:r=-1,plotY:n=-1}=t;return n>=0&&n<=(s?s.len:e.plotHeight)&&r>=0&&r<=(i?i.len:e.plotWidth)}drawTracker(){let t=this,e=t.options,i=e.trackByArea,s=[].concat((i?t.areaPath:t.graphPath)||[]),r=t.chart,n=r.pointer,o=r.renderer,l=r.options.tooltip?.snap||0,c=()=>{e.enableMouseTracking&&r.hoverSeries!==t&&t.onMouseOver()},g="rgba(192,192,192,"+(od?1e-4:.002)+")",u=t.tracker;u?u.attr({d:s}):t.graph&&(t.tracker=u=o.path(s).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),r.styledMode||u.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:g,fill:i?g:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*l)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(b=>{b&&(b.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",y=>{n?.onTrackerMouseOut(y)}),e.cursor&&!r.styledMode&&b.css({cursor:e.cursor}),b.on("touchstart",c))})),Lt(this,"afterDrawTracker")}addPoint(t,e,i,s,r){let n,o,l=this.options,{chart:c,data:g,dataTable:u,xAxis:b}=this,y=b&&b.hasNames&&b.names,w=l.data,M=this.getColumn("x");e=Dt(e,!0);let T={series:this};this.pointClass.prototype.applyOptions.apply(T,[t]);let k=T.x;if(o=M.length,this.requireSorting&&k<M[o-1])for(n=!0;o&&M[o-1]>k;)o--;u.setRow(T,o,!0,{addColumns:!1}),y&&T.name&&(y[k]=T.name),w?.splice(o,0,t),(n||this.processedData)&&(this.data.splice(o,0,null),this.processData()),l.legendType==="point"&&this.generatePoints(),i&&(g[0]&&g[0].remove?g[0].remove(!1):([g,w,...Object.values(u.getColumns())].filter(Qt).forEach(O=>{O.shift()}),u.rowCount-=1,Lt(u,"afterDeleteRows"))),r!==!1&&Lt(this,"addPoint",{point:T}),this.isDirty=!0,this.isDirtyData=!0,e&&c.redraw(s)}removePoint(t,e,i){let s=this,{chart:r,data:n,points:o,dataTable:l}=s,c=n[t],g=function(){[o?.length===n.length?o:void 0,n,s.options.data,...Object.values(l.getColumns())].filter(Qt).forEach(u=>{u.splice(t,1)}),l.rowCount-=1,Lt(l,"afterDeleteRows"),c?.destroy(),s.isDirty=!0,s.isDirtyData=!0,e&&r.redraw()};rd(i,r),e=Dt(e,!0),c?c.firePointEvent("remove",null,g):g()}remove(t,e,i,s){let r=this,n=r.chart;function o(){r.destroy(s),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(s),Dt(t,!0)&&n.redraw(e)}i!==!1?Lt(r,"remove",null,o):o()}update(t,e){Lt(this,"update",{options:t=cd(t,this.userOptions)});let i=this,s=i.chart,r=i.userOptions,n=i.initialType||i.type,o=s.options.plotOptions,l=$s[n].prototype,c=i.finishedAnimating&&{animation:!1},g={},u,b,y=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],w=t.type||r.type||s.options.chart.type,M=!(this.hasDerivedData||w&&w!==this.type||t.keys!==void 0||t.pointStart!==void 0||t.pointInterval!==void 0||t.relativeXValue!==void 0||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(k=>i.hasOptionChanged(k)));w=w||n,M?(y.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),t.visible!==!1&&y.push("area","graph"),i.parallelArrays.forEach(function(k){y.push(k+"Data")}),t.data&&(t.dataSorting&&Us(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))):this.dataTable.modified=this.dataTable,t=Ks(r,{index:r.index===void 0?i.index:r.index,pointStart:o?.series?.pointStart??r.pointStart??i.getColumn("x")[0]},!M&&{data:i.options.data},t,c),M&&t.data&&(t.data=i.options.data),(y=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(y)).forEach(function(k){y[k]=i[k],delete i[k]});let T=!1;if($s[w]){if(T=w!==i.type,i.remove(!1,!1,!1,!0),T)if(s.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(i,$s[w].prototype);else{let k=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents;for(b in l)i[b]=void 0;Us(i,$s[w].prototype),k?i.hcEvents=k:delete i.hcEvents}}else co(17,!0,s,{missingModuleFor:w});if(y.forEach(function(k){i[k]=y[k]}),i.init(s,t),M&&this.points)for(let k of((u=i.options).visible===!1?(g.graphic=1,g.dataLabel=1):(this.hasMarkerChanged(u,r)&&(g.graphic=1),i.hasDataLabels?.()||(g.dataLabel=1)),this.points))k&&k.series&&(k.resolveColor(),Object.keys(g).length&&k.destroyElements(g),u.showInLegend===!1&&k.legendItem&&s.legend.destroyItem(k));i.initialType=n,s.linkSeries(),s.setSortedData(),T&&i.linkedSeries.length&&(i.isDirtyData=!0),Lt(this,"afterUpdate"),Dt(e,!0)&&s.redraw(!!M&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){let e=this.chart,i=this.options[t],s=e.options.plotOptions,r=this.userOptions[t],n=Dt(s?.[this.type]?.[t],s?.series?.[t]);return r&&!Qt(n)?i!==r:i!==Dt(n,i)}onMouseOver(){let t=this.chart,e=t.hoverSeries;t.pointer?.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Lt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;e.hoverSeries=null,s&&s.onMouseOut(),this&&t.events.mouseOut&&Lt(this,"mouseOut"),i&&!this.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),e.series.forEach(function(r){r.setState("",!0)})}setState(t,e){let i=this,s=i.options,r=i.graph,n=s.inactiveOtherPoints,o=s.states,l=Dt(o[t||"normal"]&&o[t||"normal"].animation,i.chart.options.chart.animation),c=s.lineWidth,g=s.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(u){u&&(i.state&&u.removeClass("highcharts-series-"+i.state),t&&u.addClass("highcharts-series-"+t))}),i.state=t,!i.chart.styledMode)){if(o[t]&&o[t].enabled===!1)return;if(t&&(c=o[t].lineWidth||c+(o[t].lineWidthPlus||0),g=Dt(o[t].opacity,g)),r&&!r.dashstyle&&ie(c))for(let u of[r,...this.zones.map(b=>b.graph)])u?.animate({"stroke-width":c},l);n||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(u){u&&u.animate({opacity:g},l)})}e&&n&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach(function(e){e.setState&&e.setState(t)})}setVisible(t,e){let i=this,s=i.chart,r=s.options.chart.ignoreHiddenSeries,n=i.visible;i.visible=t=i.options.visible=i.userOptions.visible=t===void 0?!n:t;let o=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(l=>{i[l]?.[o]()}),(s.hoverSeries===i||s.hoverPoint?.series===i)&&i.onMouseOut(),i.legendItem&&s.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&s.series.forEach(l=>{l.options.stacking&&l.visible&&(l.isDirty=!0)}),i.linkedSeries.forEach(l=>{l.setVisible(t,!1)}),r&&(s.isDirtyBox=!0),Lt(i,o),e!==!1&&s.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=t===void 0?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Lt(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){xh[this.options.legendSymbol||"rectangle"]?.call(this,t,e)}}qs.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:h}=this.series.chart;return typeof this.y!="number"?"":h(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},qs.types=Ft.seriesTypes,qs.registerType=Ft.registerSeriesType,Us(qs.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:bt,requireSorting:!0,sorted:!0}),Ft.series=qs;let xe=qs,{animObject:md,setAnimation:fd}=Kt,{registerEventOptions:Oh}=qi,{composed:bd,marginNames:Ph}=W,{distribute:xd}=Ae,{format:yd}=le,{addEvent:uo,createElement:vd,css:wd,defined:sl,discardElement:kd,find:Ad,fireEvent:si,isNumber:Lh,merge:es,pick:we,pushUnique:Ed,relativeLength:Md,stableSort:Td,syncTimeout:Sd}=st;class rl{constructor(t,e){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.setOptions(e),e.enabled&&(this.render(),Oh(this,e),uo(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),uo(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(t){let e=we(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=es(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=we(t.symbolWidth,16),this.pages=[],this.proximate=t.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(t,e){let i=this.chart;this.setOptions(es(!0,this.options,t)),"events"in this.options&&Oh(this,this.options),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,we(e,!0)&&i.redraw(),si(this,"afterUpdate",{redraw:e})}colorizeItem(t,e){let i=t.color,{area:s,group:r,label:n,line:o,symbol:l}=t.legendItem||{};if((t instanceof xe||t instanceof bt)&&(t.color=t.options?.legendSymbolColor||i),r?.[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:c={}}=this,g=c.color,{fillColor:u,fillOpacity:b,lineColor:y,marker:w}=t.options,M=T=>(!e&&(T.fill&&(T.fill=g),T.stroke&&(T.stroke=g)),T);n?.css(es(e?this.itemStyle:c)),o?.attr(M({stroke:y||t.color})),l&&l.attr(M(w&&l.isMarker?t.pointAttribs():{fill:t.color})),s?.attr(M({fill:u||t.color,"fill-opacity":u?1:b??.75}))}t.color=i,si(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:e,x:i=0,y:s=0}=t.legendItem||{},r=this.options,n=r.symbolPadding,o=!r.rtl,l=t.checkbox;if(e&&e.element){let c={translateX:o?i:this.legendWidth-i-2*n-4,translateY:s};e[sl(e.translateY)?"animate":"attr"](c,void 0,()=>{si(this,"afterPositionItem",{item:t})})}l&&(l.x=i,l.y=s)}destroyItem(t){let e=t.checkbox,i=t.legendItem||{};for(let s of["group","label","line","symbol"])i[s]&&(i[s]=i[s].destroy());e&&kd(e),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){let t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,s=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach(function(r){let n,o=r.checkbox;o&&(n=t+s+o.y+(this.scrollOffset||0)+3,wd(o,{left:e.translateX+r.checkboxOffset+o.x-20+"px",top:n+"px",display:this.proximate||n>t-6&&n<t+i-6?"":"none"}))},this))}renderTitle(){let t=this.options,e=this.padding,i=t.title,s,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(s=this.title.getBBox()).height,this.offsetWidth=s.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r}setText(t){let e=this.options;t.legendItem.label.attr({text:e.labelFormat?yd(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){let e=t.legendItem=t.legendItem||{},i=this.chart,s=i.renderer,r=this.options,n=r.layout==="horizontal",o=this.symbolWidth,l=r.symbolPadding||0,c=this.itemStyle,g=this.itemHiddenStyle,u=n?we(r.itemDistance,20):0,b=!r.rtl,y=!t.series,w=!y&&t.series.drawLegendSymbol?t.series:t,M=w.options,T=!!this.createCheckboxForItem&&M&&M.showCheckbox,k=r.useHTML,O=t.options.className,P=e.label,F=o+l+u+(T?20:0);!P&&(e.group=s.g("legend-item").addClass("highcharts-"+w.type+"-series highcharts-color-"+t.colorIndex+(O?" "+O:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=P=s.text("",b?o+l:-l,this.baseline||0,k),i.styledMode||P.css(es(t.visible?c:g)),P.attr({align:b?"left":"right",zIndex:2}).add(e.group),!this.baseline&&(this.fontMetrics=s.fontMetrics(P),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,P.attr("y",this.baseline),this.symbolHeight=we(r.symbolHeight,this.fontMetrics.f),r.squareSymbol&&(this.symbolWidth=we(r.symbolWidth,Math.max(this.symbolHeight,16)),F=this.symbolWidth+l+u+(T?20:0),b&&P.attr("x",this.symbolWidth+l))),w.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,P,k)),T&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(i.styledMode||!c.width)&&P.css({width:(r.itemWidth||this.widthOption||i.spacingBox.width)-F+"px"}),this.setText(t);let z=P.getBBox(),R=this.fontMetrics&&this.fontMetrics.h||0;t.itemWidth=t.checkboxOffset=r.itemWidth||e.labelWidth||z.width+F,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(z.height>1.5*R?z.height:R))}layoutItem(t){let e=this.options,i=this.padding,s=e.layout==="horizontal",r=t.itemHeight,n=this.itemMarginBottom,o=this.itemMarginTop,l=s?we(e.itemDistance,20):0,c=this.maxLegendWidth,g=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth,u=t.legendItem||{};s&&this.itemX-i+g>c&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=o+this.lastLineHeight+n),this.lastLineHeight=0),this.lastItemY=o+this.itemY+n,this.lastLineHeight=Math.max(r,this.lastLineHeight),u.x=this.itemX,u.y=this.itemY,s?this.itemX+=g:(this.itemY+=o+r+n,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((s?this.itemX-i-(t.checkbox?0:l):g)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach(function(e){let i=e&&e.options;e&&we(i.showInLegend,!sl(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||(i.legendType==="point"?e.data:e)))}),si(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){let i=this.chart,s=this.options,r=this.getAlignment();r&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(n,o){n.test(r)&&!sl(t[o])&&(i[Ph[o]]=Math.max(i[Ph[o]],i.legend[(o+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][o]*s[o%2?"x":"y"]+we(s.margin,12)+e[o]+(i.titleOffset[o]||0)))})}proximatePositions(){let t,e=this.chart,i=[],s=this.options.align==="left";for(let r of(this.allItems.forEach(function(n){let o,l,c=s,g,u;n.yAxis&&(n.xAxis.options.reversed&&(c=!c),n.points&&(o=Ad(c?n.points:n.points.slice(0).reverse(),function(b){return Lh(b.plotY)})),l=this.itemMarginTop+n.legendItem.label.getBBox().height+this.itemMarginBottom,u=n.yAxis.top-e.plotTop,g=n.visible?(o?o.plotY:n.yAxis.height)+(u-.3*l):u+n.yAxis.height,i.push({target:g,size:l,item:n}))},this),xd(i,e.plotHeight)))t=r.item.legendItem||{},Lh(r.pos)&&(t.y=e.plotTop-e.spacing[0]+r.pos)}render(){let t=this.chart,e=t.renderer,i=this.options,s=this.padding,r=this.getAllItems(),n,o,l,c=this.group,g,u=this.box;this.itemX=s,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Md(i.width,t.spacingBox.width-s),g=t.spacingBox.width-2*s-i.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(g/=2),this.maxLegendWidth=this.widthOption||g,c||(this.group=c=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(c),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),Td(r,(b,y)=>(b.options&&b.options.legendIndex||0)-(y.options&&y.options.legendIndex||0)),i.reversed&&r.reverse(),this.allItems=r,this.display=n=!!r.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,r.forEach(this.renderItem,this),r.forEach(this.layoutItem,this),o=(this.widthOption||this.offsetWidth)+s,l=this.lastItemY+this.lastLineHeight+this.titleHeight,l=this.handleOverflow(l)+s,u||(this.box=u=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(c)),t.styledMode||u.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),o>0&&l>0&&u[u.placed?"animate":"attr"](u.crisp.call({},{x:0,y:0,width:o,height:l},u.strokeWidth())),c[n?"show":"hide"](),t.styledMode&&c.getStyle("display")==="none"&&(o=l=0),this.legendWidth=o,this.legendHeight=l,n&&this.align(),this.proximate||this.positionItems(),si(this,"afterRender")}align(t=this.chart.spacingBox){let e=this.chart,i=this.options,s=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&e.titleOffset[0]>0?s+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&e.titleOffset[2]>0&&(s-=e.titleOffset[2]),s!==t.y&&(t=es(t,{y:s})),e.hasRendered||(this.group.placed=!1),this.group.align(es(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){let e=this,i=this.chart,s=i.renderer,r=this.options,n=r.y,o=r.verticalAlign==="top",l=this.padding,c=r.maxHeight,g=r.navigation,u=we(g.animation,!0),b=g.arrowSize||12,y=this.pages,w=this.allItems,M=function(N){typeof N=="number"?R.attr({height:N}):R&&(e.clipRect=R.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=N?"rect("+l+"px,9999px,"+(l+N)+"px,0)":"auto")},T=function(N){return e[N]=s.circle(0,0,1.3*b).translate(b/2,b/2).add(z),i.styledMode||e[N].attr("fill","rgba(0,0,0,0.0001)"),e[N]},k,O,P,F=i.spacingBox.height+(o?-n:n)-l,z=this.nav,R=this.clipRect;return r.layout!=="horizontal"||r.verticalAlign==="middle"||r.floating||(F/=2),c&&(F=Math.min(F,c)),y.length=0,t&&F>0&&t>F&&g.enabled!==!1?(this.clipHeight=k=Math.max(F-20-this.titleHeight-l,0),this.currentPage=we(this.currentPage,1),this.fullHeight=t,w.forEach((N,H)=>{let Y=(P=N.legendItem||{}).y||0,U=Math.round(P.label.getBBox().height),K=y.length;(!K||Y-y[K-1]>k&&(O||Y)!==y[K-1])&&(y.push(O||Y),K++),P.pageIx=K-1,O&&((w[H-1].legendItem||{}).pageIx=K-1),H===w.length-1&&Y+U-y[K-1]>k&&Y>y[K-1]&&(y.push(Y),P.pageIx=K),Y!==O&&(O=Y)}),R||(R=e.clipRect=s.clipRect(0,l-2,9999,0),e.contentGroup.clip(R)),M(k),z||(this.nav=z=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,b,b).add(z),T("upTracker").on("click",function(){e.scroll(-1,u)}),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&g.style&&this.pager.css(g.style),this.pager.add(z),this.down=s.symbol("triangle-down",0,0,b,b).add(z),T("downTracker").on("click",function(){e.scroll(1,u)})),e.scroll(0),t=F):z&&(M(),this.nav=z.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){let i=this.chart,s=this.pages,r=s.length,n=this.clipHeight,o=this.options.navigation,l=this.pager,c=this.padding,g=this.currentPage+t;g>r&&(g=r),g>0&&(e!==void 0&&fd(e,i),this.nav.attr({translateX:c,translateY:n+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(u){u.attr({class:g===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),l.attr({text:g+"/"+r}),[this.down,this.downTracker].forEach(function(u){u.attr({x:18+this.pager.getBBox().width,class:g===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),i.styledMode||(this.up.attr({fill:g===1?o.inactiveColor:o.activeColor}),this.upTracker.css({cursor:g===1?"default":"pointer"}),this.down.attr({fill:g===r?o.inactiveColor:o.activeColor}),this.downTracker.css({cursor:g===r?"default":"pointer"})),this.scrollOffset=-s[g-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=g,this.positionCheckboxes(),Sd(()=>{si(this,"afterScroll",{currentPage:g})},md(we(e,i.renderer.globalAnimation,!0)).duration))}setItemEvents(t,e,i){let s=this,r=t.legendItem||{},n=s.chart.renderer.boxWrapper,o=t instanceof bt,l=t instanceof xe,c="highcharts-legend-"+(o?"point":"series")+"-active",g=s.chart.styledMode,u=i?[e,r.symbol]:[r.group],b=y=>{s.allItems.forEach(w=>{t!==w&&[w].concat(w.linkedSeries||[]).forEach(M=>{M.setState(y,!o)})})};for(let y of u)y&&y.on("mouseover",function(){t.visible&&b("inactive"),t.setState("hover"),t.visible&&n.addClass(c),g||e.css(s.options.itemHoverStyle)}).on("mouseout",function(){s.chart.styledMode||e.css(es(t.visible?s.itemStyle:s.itemHiddenStyle)),b(""),n.removeClass(c),t.setState()}).on("click",function(w){let M=function(){t.setVisible&&t.setVisible(),b(t.visible?"inactive":"")};n.removeClass(c),si(s,"itemClick",{browserEvent:w,legendItem:t},M),o?t.firePointEvent("legendItemClick",{browserEvent:w}):l&&si(t,"legendItemClick",{browserEvent:w})})}createCheckboxForItem(t){t.checkbox=vd("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),uo(t.checkbox,"click",function(e){let i=e.target;si(t.series||t,"checkboxClick",{checked:i.checked,item:t},function(){t.select()})})}}(function(h){h.compose=function(t){Ed(bd,"Core.Legend")&&uo(t,"beforeMargins",function(){this.legend=new h(this,this.options.legend)})}})(rl||(rl={}));let Dh=rl,{animate:nl,animObject:Cd,setAnimation:ol}=Kt,{defaultOptions:al}=ae,{numberFormat:Od}=le,{registerEventOptions:Bh}=qi,{charts:is,doc:Yr,marginNames:Nh,svg:Pd,win:Ih}=W,{seriesTypes:ll}=Ft,{addEvent:hl,attr:Fh,createElement:cl,css:Oe,defined:Oi,diffObjects:Rh,discardElement:Ld,erase:Dd,error:dl,extend:Pi,find:ul,fireEvent:kt,getAlignFactor:Bd,getStyle:pl,isArray:Nd,isNumber:_s,isObject:Id,isString:po,merge:ri,objectEach:gl,pick:re,pInt:Fd,relativeLength:zh,removeEvent:Hh,splat:go,syncTimeout:Rd,uniqueKey:zd}=st;class Li{static chart(t,e,i){return new Li(t,e,i)}constructor(t,e,i){this.sharedClips={};let s=[...arguments];(po(t)||t.nodeName)&&(this.renderTo=s.shift()),this.init(s[0],s[1])}setZoomOptions(){let t=this.options.chart,e=t.zooming;this.zooming={...e,type:re(t.zoomType,e.type),key:re(t.zoomKey,e.key),pinchType:re(t.pinchType,e.pinchType),singleTouch:re(t.zoomBySingleTouch,e.singleTouch,!1),resetButton:ri(e.resetButton,t.resetZoomButton)}}init(t,e){kt(this,"init",{args:arguments},function(){let i=ri(al,t),s=i.chart,r=this.renderTo||s.renderTo;this.userOptions=Pi({},t),(this.renderTo=po(r)?Yr.getElementById(r):r)||dl(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.locale=i.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new lr(Pi(i.time||{},{locale:this.locale})),i.time=this.time.options,this.numberFormatter=(s.numberFormatter||Od).bind(this),this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes,this.index=is.length,is.push(this),W.chartCount++,Bh(this,s),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),kt(this,"afterInit"),this.firstRender()})}initSeries(t){let e=this.options.chart,i=t.type||e.type,s=ll[i];s||dl(17,!0,this,{missingModuleFor:i});let r=new s;return typeof r.init=="function"&&r.init(this,t),r}setSortedData(){this.getSeriesOrderByLinks().forEach(function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0})}orderItems(t,e=0){let i=this[t],s=this.options[t]=go(this.options[t]).slice(),r=this.userOptions[t]=this.userOptions[t]?go(this.userOptions[t]).slice():[];if(this.hasRendered&&(s.splice(e),r.splice(e)),i)for(let n=e,o=i.length;n<o;++n){let l=i[n];l&&(l.index=n,l instanceof xe&&(l.name=l.getName()),l.options.isInternal||(s[n]=l.options,r[n]=l.userOptions))}}isInsidePlot(t,e,i={}){let{inverted:s,plotBox:r,plotLeft:n,plotTop:o,scrollablePlotBox:l}=this,{scrollLeft:c=0,scrollTop:g=0}=i.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},u=i.series,b=i.visiblePlotOnly&&l||r,y=i.inverted?e:t,w=i.inverted?t:e,M={x:y,y:w,isInsidePlot:!0,options:i};if(!i.ignoreX){let T=u&&(s&&!this.polar?u.yAxis:u.xAxis)||{pos:n,len:1/0},k=i.paneCoordinates?T.pos+y:n+y;k>=Math.max(c+n,T.pos)&&k<=Math.min(c+n+b.width,T.pos+T.len)||(M.isInsidePlot=!1)}if(!i.ignoreY&&M.isInsidePlot){let T=!s&&i.axis&&!i.axis.isXAxis&&i.axis||u&&(s?u.xAxis:u.yAxis)||{pos:o,len:1/0},k=i.paneCoordinates?T.pos+w:o+w;k>=Math.max(g+o,T.pos)&&k<=Math.min(g+o+b.height,T.pos+T.len)||(M.isInsidePlot=!1)}return kt(this,"afterIsInsidePlot",M),M.isInsidePlot}redraw(t){kt(this,"beforeRedraw");let e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,s=this.pointer,r=this.legend,n=this.userOptions.legend,o=this.renderer,l=o.isHidden(),c=[],g,u,b,y=this.isDirtyBox,w=this.isDirtyLegend,M;for(o.rootFontSize=o.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),ol(!!this.hasRendered&&t,this),l&&this.temporaryDisplay(),this.layOutTitles(!1),b=i.length;b--;)if(((M=i[b]).options.stacking||M.options.centerInCategory)&&(u=!0,M.isDirty)){g=!0;break}if(g)for(b=i.length;b--;)(M=i[b]).options.stacking&&(M.isDirty=!0);i.forEach(function(T){T.isDirty&&(T.options.legendType==="point"?(typeof T.updateTotals=="function"&&T.updateTotals(),w=!0):n&&(n.labelFormatter||n.labelFormat)&&(w=!0)),T.isDirtyData&&kt(T,"updatedData")}),w&&r&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),u&&this.getStacks(),e.forEach(function(T){T.updateNames(),T.setScale()}),this.getMargins(),e.forEach(function(T){T.isDirty&&(y=!0)}),e.forEach(function(T){let k=T.min+","+T.max;T.extKey!==k&&(T.extKey=k,c.push(function(){kt(T,"afterSetExtremes",Pi(T.eventArgs,T.getExtremes())),delete T.eventArgs})),(y||u)&&T.redraw()}),y&&this.drawChartBox(),kt(this,"predraw"),i.forEach(function(T){(y||T.isDirty)&&T.visible&&T.redraw(),T.isDirtyData=!1}),s&&s.reset(!0),o.draw(),kt(this,"redraw"),kt(this,"render"),l&&this.temporaryDisplay(!0),c.forEach(function(T){T.call()})}get(t){let e=this.series;function i(r){return r.id===t||r.options&&r.options.id===t}let s=ul(this.axes,i)||ul(this.series,i);for(let r=0;!s&&r<e.length;r++)s=ul(e[r].points||[],i);return s}createAxes(){let t=this.userOptions;for(let e of(kt(this,"createAxes"),["xAxis","yAxis"]))for(let i of t[e]=go(t[e]||{}))new Ti(this,i,e);kt(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((t,e)=>(e.getPointsCollection().forEach(i=>{re(i.selectedStaging,i.selected)&&t.push(i)}),t),[])}getSelectedSeries(){return this.series.filter(t=>t.selected)}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){let i=this,s=this.options[t]=ri(this.options[t],e),r=this[t];r&&e&&(this[t]=r=r.destroy()),s&&!r&&((r=this.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+t,zIndex:s.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(n,o){i.applyDescription(t,n),i.layOutTitles(o)},this.styledMode||r.css(Pi(t==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},s.style)),r.textPxLength=r.getBBox().width,r.css({whiteSpace:s.style?.whiteSpace}),this[t]=r)}layOutTitles(t=!0){let e=[0,0,0],{options:i,renderer:s,spacingBox:r}=this;["title","subtitle","caption"].forEach(o=>{let l=this[o],c=this.options[o],g=ri(r),u=l?.textPxLength||0;if(l&&c){kt(this,"layOutTitle",{alignTo:g,key:o,textPxLength:u});let b=s.fontMetrics(l),y=b.b,w=b.h,M=c.verticalAlign||"top",T=M==="top",k=T&&c.minScale||1,O=o==="title"?T?-3:0:T?e[0]+2:0,P=Math.min(g.width/u,1),F=Math.max(k,P),z=ri({y:M==="bottom"?y:O+y},{align:o==="title"?P<k?"left":"center":this.title?.alignValue},c),R=c.width||(P>k?this.chartWidth:g.width)/F;l.alignValue!==z.align&&(l.placed=!1);let N=Math.round(l.css({width:`${R}px`}).getBBox(c.useHTML).height);if(z.height=N,l.align(z,!1,g).attr({align:z.align,scaleX:F,scaleY:F,"transform-origin":`${g.x+u*F*Bd(z.align)} ${w}`}),!c.floating){let H=N*(N<1.2*w?1:F);M==="top"?e[0]=Math.ceil(e[0]+H):M==="bottom"&&(e[2]=Math.ceil(e[2]+H))}}},this),e[0]&&(i.title?.verticalAlign||"top")==="top"&&(e[0]+=i.title?.margin||0),e[2]&&i.caption?.verticalAlign==="bottom"&&(e[2]+=i.caption?.margin||0);let n=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,kt(this,"afterLayOutTitles"),!this.isDirtyBox&&n&&(this.isDirtyBox=this.isDirtyLegend=n,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){let t=[].map.call(this.renderTo.children,i=>{if(i!==this.container){let s=i.style.display;return i.style.display="none",[i,s]}}),e={width:pl(this.renderTo,"width",!0)||0,height:pl(this.renderTo,"height",!0)||0};return t.filter(Boolean).forEach(([i,s])=>{i.style.display=s}),e}getChartSize(){let t=this.options.chart,e=t.width,i=t.height,s=this.getContainerBox(),r=s.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,e||s.width||600),this.chartHeight=Math.max(0,zh(i,this.chartWidth)||(r?400:s.height)),this.containerBox=s}temporaryDisplay(t){let e=this.renderTo,i;if(t)for(;e&&e.style;)e.hcOrigStyle&&(Oe(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(Yr.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(Yr.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,Yr.body.appendChild(e)),(pl(e,"display",!1)==="none"||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},i={display:"block",overflow:"hidden"},e!==this.renderTo&&(i.height=0),Oe(e,i),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==Yr.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){let t,e=this.options,i=e.chart,s="data-highcharts-chart",r=zd(),n=this.renderTo,o=Fd(Fh(n,s));_s(o)&&is[o]&&is[o].hasRendered&&is[o].destroy(),Fh(n,s,this.index),n.innerHTML=Ct.emptyHTML,i.skipClone||n.offsetWidth||this.temporaryDisplay(),this.getChartSize();let l=this.chartHeight,c=this.chartWidth;Oe(n,{overflow:"hidden"}),this.styledMode||(t=Pi({position:"relative",overflow:"hidden",width:c+"px",height:l+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},i.style||{}));let g=cl("div",{id:r},t,n);this.container=g,this.getChartSize(),c===this.chartWidth||(c=this.chartWidth,this.styledMode||Oe(g,{width:re(i.style?.width,c+"px")})),this.containerBox=this.getContainerBox(),this._cursor=g.style.cursor;let u=i.renderer||!Pd?Ke.getRendererType(i.renderer):Os;if(this.renderer=new u(g,c,l,void 0,i.forExport,e.exporting&&e.exporting.allowHTML,this.styledMode),ol(void 0,this),this.setClassName(i.className),this.styledMode)for(let b in e.defs)this.renderer.definition(e.defs[b]);else this.renderer.setStyle(i.style);this.renderer.chartIndex=this.index,kt(this,"afterGetContainer")}getMargins(t){let{spacing:e,margin:i,titleOffset:s}=this;this.resetMargins(),s[0]&&!Oi(i[0])&&(this.plotTop=Math.max(this.plotTop,s[0]+e[0])),s[2]&&!Oi(i[2])&&(this.marginBottom=Math.max(this.marginBottom,s[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),kt(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,s=t.margin,r=function(n){n.forEach(function(o){o.visible&&o.getOffset()})};t.hasCartesianSeries?r(t.axes):i&&i.length&&r(i),Nh.forEach(function(n,o){Oi(s[o])||(t[n]+=e[o])}),t.setChartSize()}getOptions(){return Rh(this.userOptions,al)}reflow(t){let e=this,i=e.containerBox,s=e.getContainerBox();delete e.pointer?.chartPosition,!e.isPrinting&&!e.isResizing&&i&&s.width&&((s.width!==i.width||s.height!==i.height)&&(st.clearTimeout(e.reflowTimeout),e.reflowTimeout=Rd(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerBox=s)}setReflow(){let t=this,e=i=>{t.options?.chart.reflow&&t.hasLoaded&&t.reflow(i)};if(typeof ResizeObserver=="function")new ResizeObserver(e).observe(t.renderTo);else{let i=hl(Ih,"resize",e);hl(this,"destroy",i)}}setSize(t,e,i){let s=this,r=s.renderer;s.isResizing+=1,ol(i,s);let n=r.globalAnimation;s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,t!==void 0&&(s.options.chart.width=t),e!==void 0&&(s.options.chart.height=e),s.getChartSize();let{chartWidth:o,chartHeight:l,scrollablePixelsX:c=0,scrollablePixelsY:g=0}=s;(s.isDirtyBox||o!==s.oldChartWidth||l!==s.oldChartHeight)&&(s.styledMode||(n?nl:Oe)(s.container,{width:`${o+c}px`,height:`${l+g}px`},n),s.setChartSize(!0),r.setSize(o,l,n),s.axes.forEach(function(u){u.isDirty=!0,u.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(n),s.oldChartHeight=void 0,kt(s,"resize"),setTimeout(()=>{s&&kt(s,"endResize")},Cd(n).duration)),s.isResizing-=1}setChartSize(t){let e,i,s,r,{chartHeight:n,chartWidth:o,inverted:l,spacing:c,renderer:g}=this,u=this.clipOffset,b=Math[l?"floor":"round"];this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=s=Math.max(0,Math.round(o-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(n-i-this.marginBottom)),this.plotSizeX=l?r:s,this.plotSizeY=l?s:r,this.spacingBox=g.spacingBox={x:c[3],y:c[0],width:o-c[3]-c[1],height:n-c[0]-c[2]},this.plotBox=g.plotBox={x:e,y:i,width:s,height:r},u&&(this.clipBox={x:b(u[3]),y:b(u[0]),width:b(this.plotSizeX-u[1]-u[3]),height:b(this.plotSizeY-u[0]-u[2])}),t||(this.axes.forEach(function(y){y.setAxisSize(),y.setAxisTranslation()}),g.alignElements()),kt(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){kt(this,"resetMargins");let t=this,e=t.options.chart,i=e.plotBorderWidth||0,s=i/2;["margin","spacing"].forEach(function(r){let n=e[r],o=Id(n)?n:[n,n,n,n];["Top","Right","Bottom","Left"].forEach(function(l,c){t[r][c]=re(e[r+l],o[c])})}),Nh.forEach(function(r,n){t[r]=re(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[s,s,s,s],t.plotBorderWidth=i}drawChartBox(){let t=this.options.chart,e=this.renderer,i=this.chartWidth,s=this.chartHeight,r=this.styledMode,n=this.plotBGImage,o=t.backgroundColor,l=t.plotBackgroundColor,c=t.plotBackgroundImage,g=this.plotLeft,u=this.plotTop,b=this.plotWidth,y=this.plotHeight,w=this.plotBox,M=this.clipRect,T=this.clipBox,k=this.chartBackground,O=this.plotBackground,P=this.plotBorder,F,z,R,N="animate";k||(this.chartBackground=k=e.rect().addClass("highcharts-background").add(),N="attr"),r?F=z=k.strokeWidth():(z=(F=t.borderWidth||0)+(t.shadow?8:0),R={fill:o||"none"},(F||k["stroke-width"])&&(R.stroke=t.borderColor,R["stroke-width"]=F),k.attr(R).shadow(t.shadow)),k[N]({x:z/2,y:z/2,width:i-z-F%2,height:s-z-F%2,r:t.borderRadius}),N="animate",O||(N="attr",this.plotBackground=O=e.rect().addClass("highcharts-plot-background").add()),O[N](w),!r&&(O.attr({fill:l||"none"}).shadow(t.plotShadow),c&&(n?(c!==n.attr("href")&&n.attr("href",c),n.animate(w)):this.plotBGImage=e.image(c,g,u,b,y).add())),M?M.animate({width:T.width,height:T.height}):this.clipRect=e.clipRect(T),N="animate",P||(N="attr",this.plotBorder=P=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),r||P.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),P[N](P.crisp({x:g,y:u,width:b,height:y},-P.strokeWidth())),this.isDirtyBox=!1,kt(this,"afterDrawChartBox")}propFromSeries(){let t,e,i,s=this,r=s.options.chart,n=s.options.series;["inverted","angular","polar"].forEach(function(o){for(e=ll[r.type],i=r[o]||e&&e.prototype[o],t=n&&n.length;!i&&t--;)(e=ll[n[t].type])&&e.prototype[o]&&(i=!0);s[o]=i})}linkSeries(t){let e=this,i=e.series;i.forEach(function(s){s.linkedSeries.length=0}),i.forEach(function(s){let{linkedTo:r}=s.options;if(po(r)){let n;(n=r===":previous"?e.series[s.index-1]:e.get(r))&&n.linkedParent!==s&&(n.linkedSeries.push(s),s.linkedParent=n,n.enabledDataSorting&&s.setDataSortingOptions(),s.visible=re(s.options.visible,n.options.visible,s.visible))}}),kt(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach(function(t){t.translate(),t.render()})}render(){let t=this.axes,e=this.colorAxis,i=this.renderer,s=this.options.chart.axisLayoutRuns||2,r=g=>{g.forEach(u=>{u.visible&&u.render()})},n=0,o=!0,l,c=0;for(let g of(this.setTitle(),kt(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),t)){let{options:u}=g,{labels:b}=u;if(this.hasCartesianSeries&&g.horiz&&g.visible&&b.enabled&&g.series.length&&g.coll!=="colorAxis"&&!this.polar){n=u.tickLength,g.createGroups();let y=new We(g,0,"",!0),w=y.createLabel("x",b);if(y.destroy(),w&&re(b.reserveSpace,!_s(u.crossing))&&(n=w.getBBox().height+b.distance+Math.max(u.offset||0,0)),n){w?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-n,0);(o||l||s>1)&&c<s;){let g=this.plotWidth,u=this.plotHeight;for(let b of t)c===0?b.setScale():(b.horiz&&o||!b.horiz&&l)&&b.setTickInterval(!0);c===0?this.getAxisMargins():this.getMargins(),o=g/this.plotWidth>(c?1:1.1),l=u/this.plotHeight>(c?1:1.05),c++}this.drawChartBox(),this.hasCartesianSeries?r(t):e&&e.length&&r(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let e=this,i=ri(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){i.href&&(Ih.location.href=i.href)}).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(s){e.credits=e.credits.destroy(),e.addCredits(s)})}destroy(){let t,e=this,i=e.axes,s=e.series,r=e.container,n=r&&r.parentNode;for(kt(e,"destroy"),e.renderer.forExport?Dd(is,e):is[e.index]=void 0,W.chartCount--,e.renderTo.removeAttribute("data-highcharts-chart"),Hh(e),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=s.length;t--;)s[t]=s[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(o){let l=e[o];l&&l.destroy&&(e[o]=l.destroy())}),r&&(r.innerHTML=Ct.emptyHTML,Hh(r),n&&Ld(r)),gl(e,function(o,l){delete e[l]})}firstRender(){let t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.createAxes();let i=Nd(e.series)?e.series:[];e.series=[],i.forEach(function(s){t.initSeries(s)}),t.linkSeries(),t.setSortedData(),kt(t,"beforeRender"),t.render(),t.pointer?.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(t){t&&this.index!==void 0&&t.apply(this,[this])},this),kt(this,"load"),kt(this,"render"),Oi(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:e}=this;!t||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&t.accessibility.enabled===!1||dl('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){let s,r=this;return t&&(e=re(e,!0),kt(r,"addSeries",{options:t},function(){s=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),s.enabledDataSorting&&s.setData(t.data,!1),kt(r,"afterAddSeries",{series:s}),e&&r.redraw(i)})),s}addAxis(t,e,i,s){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:s})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,e){let i=new Ti(this,e.axis,t);return re(e.redraw,!0)&&this.redraw(e.animation),i}showLoading(t){let e=this,i=e.options,s=i.loading,r=function(){n&&Oe(n,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})},n=e.loadingDiv,o=e.loadingSpan;n||(e.loadingDiv=n=cl("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),o||(e.loadingSpan=o=cl("span",{className:"highcharts-loading-inner"},null,n),hl(e,"redraw",r)),n.className="highcharts-loading",Ct.setElementHTML(o,re(t,i.lang.loading,"")),e.styledMode||(Oe(n,Pi(s.style,{zIndex:10})),Oe(o,s.labelStyle),e.loadingShown||(Oe(n,{opacity:0,display:""}),nl(n,{opacity:s.style.opacity||.5},{duration:s.showDuration||0}))),e.loadingShown=!0,r()}hideLoading(){let t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||nl(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){Oe(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,s){let r,n,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},g=t.isResponsiveOptions,u=[];kt(l,"update",{options:t}),g||l.setResponsive(!1,!0),t=Rh(t,l.options),l.userOptions=ri(l.userOptions,t);let b=t.chart;b&&(ri(!0,l.options.chart,b),this.setZoomOptions(),"className"in b&&l.setClassName(b.className),("inverted"in b||"polar"in b||"type"in b)&&(l.propFromSeries(),r=!0),"alignTicks"in b&&(r=!0),"events"in b&&Bh(this,b),gl(b,function(M,T){l.propsRequireUpdateSeries.indexOf("chart."+T)!==-1&&(n=!0),l.propsRequireDirtyBox.indexOf(T)!==-1&&(l.isDirtyBox=!0),l.propsRequireReflow.indexOf(T)===-1||(l.isDirtyBox=!0,g||(o=!0))}),!l.styledMode&&b.style&&l.renderer.setStyle(l.options.chart.style||{})),!l.styledMode&&t.colors&&(this.options.colors=t.colors),gl(t,function(M,T){l[T]&&typeof l[T].update=="function"?l[T].update(M,!1):typeof l[c[T]]=="function"?l[c[T]](M):T!=="colors"&&l.collectionsWithUpdate.indexOf(T)===-1&&ri(!0,l.options[T],t[T]),T!=="chart"&&l.propsRequireUpdateSeries.indexOf(T)!==-1&&(n=!0)}),this.collectionsWithUpdate.forEach(function(M){t[M]&&(go(t[M]).forEach(function(T,k){let O,P=Oi(T.id);P&&(O=l.get(T.id)),!O&&l[M]&&(O=l[M][re(T.index,k)])&&(P&&Oi(O.options.id)||O.options.isInternal)&&(O=void 0),O&&O.coll===M&&(O.update(T,!1),i&&(O.touched=!0)),!O&&i&&l.collectionsWithInit[M]&&(l.collectionsWithInit[M][0].apply(l,[T].concat(l.collectionsWithInit[M][1]||[]).concat([!1])).touched=!0)}),i&&l[M].forEach(function(T){T.touched||T.options.isInternal?delete T.touched:u.push(T)}))}),u.forEach(function(M){M.chart&&M.remove&&M.remove(!1)}),r&&l.axes.forEach(function(M){M.update({},!1)}),n&&l.getSeriesOrderByLinks().forEach(function(M){M.chart&&M.update({},!1)},this);let y=b&&b.width,w=b&&(po(b.height)?zh(b.height,y||l.chartWidth):b.height);o||_s(y)&&y!==l.chartWidth||_s(w)&&w!==l.chartHeight?l.setSize(y,w,s):re(e,!0)&&l.redraw(s),kt(l,"afterUpdate",{options:t,redraw:e,animation:s})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){let t=this,e=al.lang,i=t.zooming.resetButton,s=i.theme,r=i.relativeTo==="chart"||i.relativeTo==="spacingBox"?null:"plotBox";function n(){t.zoomOut()}kt(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(e.resetZoom,null,null,n,s).attr({align:i.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,r)}),kt(this,"afterShowResetZoom")}zoomOut(){kt(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(t,e){let i=this,s=typeof e=="object"?e:{enabled:e,type:"x"},r=s.type,n=r&&i[{x:"xAxis",xy:"axes",y:"yAxis"}[r]].filter(l=>l.options.panningEnabled&&!l.options.isInternal),o=i.options.chart;o?.panning&&(o.panning=s),kt(this,"pan",{originalEvent:t},()=>{i.transform({axes:n,event:t,to:{x:t.chartX-(i.mouseDownX||0),y:t.chartY-(i.mouseDownY||0)},trigger:"pan"}),Oe(i.container,{cursor:"move"})})}transform(t){let{axes:e=this.axes,event:i,from:s={},reset:r,selection:n,to:o={},trigger:l}=t,{inverted:c,time:g}=this,u=!1,b,y;for(let w of(this.hoverPoints?.forEach(M=>M.setState()),e)){let{horiz:M,len:T,minPointOffset:k=0,options:O,reversed:P}=w,F=M?"width":"height",z=M?"x":"y",R=re(o[F],w.len),N=re(s[F],w.len),H=10>Math.abs(R)?1:R/N,Y=(s[z]||0)+N/2-w.pos,U=Y-((o[z]??w.pos)+R/2-w.pos)/H,K=P&&!c||!P&&c?-1:1;if(!r&&(Y<0||Y>w.len))continue;let Z=w.toValue(U,!0)+(n||w.isOrdinal?0:k*K),Q=w.toValue(U+T/H,!0)-(n||w.isOrdinal?0:k*K||0),tt=w.allExtremes;if(Z>Q&&([Z,Q]=[Q,Z]),H===1&&!r&&w.coll==="yAxis"&&!tt){for(let ce of w.series){let Ve=ce.getExtremes(ce.getProcessedData(!0).modified.getColumn("y")||[],!0);tt??(tt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),_s(Ve.dataMin)&&_s(Ve.dataMax)&&(tt.dataMin=Math.min(Ve.dataMin,tt.dataMin),tt.dataMax=Math.max(Ve.dataMax,tt.dataMax))}w.allExtremes=tt}let{dataMin:J,dataMax:et,min:pt,max:lt}=Pi(w.getExtremes(),tt||{}),ht=g.parse(O.min),gt=g.parse(O.max),at=J??ht,jt=et??gt,Nt=Q-Z,vt=w.categories?0:Math.min(Nt,jt-at),St=at-vt*(Oi(ht)?0:O.minPadding),Vt=jt+vt*(Oi(gt)?0:O.maxPadding),Bt=w.allowZoomOutside||H===1||l!=="zoom"&&H>1,ne=Math.min(ht??St,St,Bt?pt:St),Yt=Math.max(gt??Vt,Vt,Bt?lt:Vt);(!w.isOrdinal||w.options.overscroll||H!==1||r)&&(Z<ne&&(Z=ne,H>=1&&(Q=Z+Nt)),Q>Yt&&(Q=Yt,H>=1&&(Z=Q-Nt)),(r||w.series.length&&(Z!==pt||Q!==lt)&&Z>=ne&&Q<=Yt)&&(n?n[w.coll].push({axis:w,min:Z,max:Q}):(w.isPanning=l!=="zoom",w.isPanning&&(y=!0),w.setExtremes(r?void 0:Z,r?void 0:Q,!1,!1,{move:U,trigger:l,scale:H}),!r&&(Z>ne||Q<Yt)&&l!=="mousewheel"&&(b=!0)),u=!0),i&&(this[M?"mouseDownX":"mouseDownY"]=i[M?"chartX":"chartY"]))}return u&&(n?kt(this,"selection",n,()=>{delete t.selection,t.trigger="zoom",this.transform(t)}):(!b||y||this.resetZoomButton?!b&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(l==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),u}}Pi(Li.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Li.prototype.addAxis,[!0]],yAxis:[Li.prototype.addAxis,[!1]],series:[Li.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:Hd}=Kt,{composed:Wd}=W,{addEvent:Di,createElement:mo,css:ml,defined:fl,erase:jd,merge:Wh,pushUnique:jh}=st;function Xd(){let h=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!h&&(this.scrollablePlotArea=h=new $r(this)),h?.applyFixed()}function Xh(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class $r{static compose(t,e,i){jh(Wd,this.compose)&&(Di(t,"afterInit",Xh),Di(e,"afterSetChartSize",s=>this.afterSetSize(s.target,s)),Di(e,"render",Xd),Di(i,"show",Xh))}static afterSetSize(t,e){let i,s,r,{minWidth:n,minHeight:o}=t.options.chart.scrollablePlotArea||{},{clipBox:l,plotBox:c,inverted:g,renderer:u}=t;if(!u.forExport&&(n?(t.scrollablePixelsX=i=Math.max(0,n-t.chartWidth),i&&(t.scrollablePlotBox=Wh(t.plotBox),c.width=t.plotWidth+=i,l[g?"height":"width"]+=i,r=!0)):o&&(t.scrollablePixelsY=s=Math.max(0,o-t.chartHeight),fl(s)&&(t.scrollablePlotBox=Wh(t.plotBox),c.height=t.plotHeight+=s,l[g?"width":"height"]+=s,r=!1)),fl(r)&&!e.skipAxes))for(let b of t.axes)(b.horiz===r||t.hasParallelCoordinates&&b.coll==="yAxis")&&(b.setAxisSize(),b.setAxisTranslation())}constructor(t){let e,i=t.options.chart,s=Ke.getRendererType(),r=i.scrollablePlotArea||{},n=this.moveFixedElements.bind(this),o={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};t.scrollablePixelsX&&(o.overflowX="auto"),t.scrollablePixelsY&&(o.overflowY="auto"),this.chart=t;let l=this.parentDiv=mo("div",{className:"highcharts-scrolling-parent"},{position:"relative"},t.renderTo),c=this.scrollingContainer=mo("div",{className:"highcharts-scrolling"},o,l),g=this.innerContainer=mo("div",{className:"highcharts-inner-container"},void 0,c),u=this.fixedDiv=mo("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(i.style?.zIndex||0)+2,top:0},void 0,!0),b=this.fixedRenderer=new s(u,t.chartWidth,t.chartHeight,i.style);this.mask=b.path().attr({fill:i.backgroundColor||"#fff","fill-opacity":r.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),c.parentNode.insertBefore(u,c),ml(t.renderTo,{overflow:"visible"}),Di(t,"afterShowResetZoom",n),Di(t,"afterApplyDrilldown",n),Di(t,"afterLayOutTitles",n),Di(c,"scroll",()=>{let{pointer:y,hoverPoint:w}=t;y&&(delete y.chartPosition,w&&(e=w),y.runPointActions(void 0,e,!0))}),g.appendChild(t.container)}applyFixed(){let{chart:t,fixedRenderer:e,isDirty:i,scrollingContainer:s}=this,{axisOffset:r,chartWidth:n,chartHeight:o,container:l,plotHeight:c,plotLeft:g,plotTop:u,plotWidth:b,scrollablePixelsX:y=0,scrollablePixelsY:w=0}=t,{scrollPositionX:M=0,scrollPositionY:T=0}=t.options.chart.scrollablePlotArea||{},k=n+y,O=o+w;e.setSize(n,o),(i??!0)&&(this.isDirty=!1,this.moveFixedElements()),Hd(t.container),ml(l,{width:`${k}px`,height:`${O}px`}),t.renderer.boxWrapper.attr({width:k,height:O,viewBox:[0,0,k,O].join(" ")}),t.chartBackground?.attr({width:k,height:O}),ml(s,{width:`${n}px`,height:`${o}px`}),fl(i)||(s.scrollLeft=y*M,s.scrollTop=w*T);let P=u-r[0]-1,F=g-r[3]-1,z=u+c+r[2]+1,R=g+b+r[1]+1,N=g+b-y,H=u+c-w,Y=[["M",0,0]];y?Y=[["M",0,P],["L",g-1,P],["L",g-1,z],["L",0,z],["Z"],["M",N,P],["L",n,P],["L",n,z],["L",N,z],["Z"]]:w&&(Y=[["M",F,0],["L",F,u-1],["L",R,u-1],["L",R,0],["Z"],["M",F,H],["L",F,o],["L",R,o],["L",R,H],["Z"]]),t.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Y})}moveFixedElements(){let t,{container:e,inverted:i,scrollablePixelsX:s,scrollablePixelsY:r}=this.chart,n=this.fixedRenderer,o=$r.fixedSelectors;if(s&&!i?t=".highcharts-yaxis":s&&i||r&&!i?t=".highcharts-xaxis":r&&i&&(t=".highcharts-yaxis"),t&&!(this.chart.hasParallelCoordinates&&t===".highcharts-yaxis"))for(let l of[`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`])jh(o,l);else for(let l of[".highcharts-xaxis",".highcharts-yaxis"])for(let c of[`${l}:not(.highcharts-radial-axis)`,`${l}-labels:not(.highcharts-radial-axis-labels)`])jd(o,c);for(let l of o)[].forEach.call(e.querySelectorAll(l),c=>{(c.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(c),c.style.pointerEvents="auto"})}}$r.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Gd}=le,{series:Vd}=Ft,{destroyObjectProperties:Yd,fireEvent:Gh,getAlignFactor:bl,isNumber:xl,pick:Ur}=st,Vh=class{constructor(h,t,e,i,s){let r=h.chart.inverted,n=h.reversed;this.axis=h;let o=this.isNegative=!!e!=!!n;this.options=t=t||{},this.x=i,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=s,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(r?o?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":o?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(r?o?"right":"left":"center")}destroy(){Yd(this,this.axis)}render(h){let t=this.axis.chart,e=this.options,i=e.format,s=i?Gd(i,this,t):e.formatter.call(this);if(this.label)this.label.attr({text:s,visibility:"hidden"});else{this.label=t.renderer.label(s,null,void 0,e.shape,void 0,void 0,e.useHTML,!1,"stack-labels");let r={r:e.borderRadius||0,text:s,padding:Ur(e.padding,5),visibility:"hidden"};t.styledMode||(r.fill=e.backgroundColor,r.stroke=e.borderColor,r["stroke-width"]=e.borderWidth,this.label.css(e.style||{})),this.label.attr(r),this.label.added||this.label.add(h)}this.label.labelrank=t.plotSizeY,Gh(this,"afterRender")}setOffset(h,t,e,i,s,r){let{alignOptions:n,axis:o,label:l,options:c,textAlign:g}=this,u=o.chart,b=this.getStackBox({xOffset:h,width:t,boxBottom:e,boxTop:i,defaultX:s,xAxis:r}),{verticalAlign:y}=n;if(l&&b){let w=l.getBBox(void 0,0),M=l.padding,T=Ur(c.overflow,"justify")==="justify",k;n.x=c.x||0,n.y=c.y||0;let{x:O,y:P}=this.adjustStackPosition({labelBox:w,verticalAlign:y,textAlign:g});b.x-=O,b.y-=P,l.align(n,!1,b),(k=u.isInsidePlot(l.alignAttr.x+n.x+O,l.alignAttr.y+n.y+P))||(T=!1),T&&Vd.prototype.justifyDataLabel.call(o,l,n,l.alignAttr,w,b),l.attr({x:l.alignAttr.x,y:l.alignAttr.y,rotation:c.rotation,rotationOriginX:w.width*bl(c.textAlign||"center"),rotationOriginY:w.height/2}),Ur(!T&&c.crop,!0)&&(k=xl(l.x)&&xl(l.y)&&u.isInsidePlot(l.x-M+(l.width||0),l.y)&&u.isInsidePlot(l.x+M,l.y)),l[k?"show":"hide"]()}Gh(this,"afterSetOffset",{xOffset:h,width:t})}adjustStackPosition({labelBox:h,verticalAlign:t,textAlign:e}){return{x:h.width/2+h.width/2*(2*bl(e)-1),y:h.height/2*2*(1-bl(t))}}getStackBox(h){let t=this.axis,e=t.chart,{boxTop:i,defaultX:s,xOffset:r,width:n,boxBottom:o}=h,l=t.stacking.usePercentage?100:Ur(i,this.total,0),c=t.toPixels(l),g=h.xAxis||e.xAxis[0],u=Ur(s,g.translate(this.x))+r,b=Math.abs(c-t.toPixels(o||xl(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),y=e.inverted,w=this.isNegative;return y?{x:(w?c:c-b)-e.plotLeft,y:g.height-u-n+g.top-e.plotTop,width:b,height:n}:{x:u+g.transB-e.plotLeft,y:(w?c-b:c)-e.plotTop,width:n,height:b}}},{getDeferredAnimation:$d}=Kt,{series:{prototype:Ud}}=Ft,{addEvent:Yh,correctFloat:Kr,defined:$h,destroyObjectProperties:Kd,fireEvent:qd,isNumber:yl,objectEach:ss,pick:vl}=st;function _d(){let h=this.inverted;this.axes.forEach(t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),this.series.forEach(t=>{let e=t.xAxis&&t.xAxis.options||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,vl(t.options.stack,""),h?e.top:e.left,h?e.height:e.width].join(","))})}function Zd(){let h=this.stacking;if(h){let t=h.stacks;ss(t,(e,i)=>{Kd(e),delete t[i]}),h.stackTotalGroup?.destroy()}}function Qd(){this.stacking||(this.stacking=new ru(this))}function Jd(h,t,e,i){return!$h(h)||h.x!==t||i&&h.stackKey!==i?h={x:t,index:0,key:i,stackKey:i}:h.index++,h.key=[e,t,h.index].join(","),h}function tu(){let h,t=this,e=t.yAxis,i=t.stackKey||"",s=e.stacking.stacks,r=t.getColumn("x",!0),n=t.options.stacking,o=t[n+"Stacker"];o&&[i,"-"+i].forEach(l=>{let c=r.length,g,u,b;for(;c--;)g=r[c],h=t.getStackIndicator(h,g,t.index,l),u=s[l]?.[g],(b=u?.points[h.key||""])&&o.call(t,b,u,c)})}function eu(h,t,e){let i=t.total?100/t.total:0;h[0]=Kr(h[0]*i),h[1]=Kr(h[1]*i),this.stackedYData[e]=h[1]}function iu(h){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?Ud.setStackedPoints.call(this,h,"group"):h.stacking.resetStacks())}function su(h,t){let e,i,s,r,n,o,l,c=t||this.options.stacking;if(!c||!this.reserveSpace()||({group:"xAxis"}[c]||"yAxis")!==h.coll)return;let g=this.getColumn("x",!0),u=this.getColumn(this.pointValKey||"y",!0),b=[],y=u.length,w=this.options,M=w.threshold||0,T=w.startFromThreshold?M:0,k=w.stack,O=t?`${this.type},${c}`:this.stackKey||"",P="-"+O,F=this.negStacks,z=h.stacking,R=z.stacks,N=z.oldStacks;for(z.stacksTouched+=1,l=0;l<y;l++){let H=g[l]||0,Y=u[l],U=yl(Y)&&Y||0;o=(e=this.getStackIndicator(e,H,this.index)).key||"",R[n=(i=F&&U<(T?0:M))?P:O]||(R[n]={}),R[n][H]||(N[n]?.[H]?(R[n][H]=N[n][H],R[n][H].total=null):R[n][H]=new Vh(h,h.options.stackLabels,!!i,H,k)),s=R[n][H],Y!==null?(s.points[o]=s.points[this.index]=[vl(s.cumulative,T)],$h(s.cumulative)||(s.base=o),s.touched=z.stacksTouched,e.index>0&&this.singleStacks===!1&&(s.points[o][0]=s.points[this.index+","+H+",0"][0])):(delete s.points[o],delete s.points[this.index]);let K=s.total||0;c==="percent"?(r=i?O:P,K=F&&R[r]?.[H]?(r=R[r][H]).total=Math.max(r.total||0,K)+Math.abs(U):Kr(K+Math.abs(U))):c==="group"?yl(Y)&&K++:K=Kr(K+U),c==="group"?s.cumulative=(K||1)-1:s.cumulative=Kr(vl(s.cumulative,T)+U),s.total=K,Y!==null&&(s.points[o].push(s.cumulative),b[l]=s.cumulative,s.hasValidPoints=!0)}c==="percent"&&(z.usePercentage=!0),c!=="group"&&(this.stackedYData=b),z.oldStacks={}}class ru{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,e,i=this.axis,s=i.series,r=i.coll==="xAxis",n=i.options.reversedStacks,o=s.length;for(this.resetStacks(),this.usePercentage=!1,e=o;e--;)t=s[n?e:o-e-1],r&&t.setGroupedPoints(i),t.setStackedPoints(i);if(!r)for(e=0;e<o;e++)s[e].modifyStacks();qd(i,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,ss(this.stacks,t=>{ss(t,e=>{e.cumulative=e.total})}))}resetStacks(){ss(this.stacks,t=>{ss(t,(e,i)=>{yl(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)})})}renderStackTotals(){let t=this.axis,e=t.chart,i=e.renderer,s=this.stacks,r=$d(e,t.options.stackLabels?.animation||!1),n=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();n.translate(e.plotLeft,e.plotTop),ss(s,o=>{ss(o,l=>{l.render(n)})}),n.animate({opacity:1},r)}}(mt||(mt={})).compose=function(h,t,e){let i=t.prototype,s=e.prototype;i.getStacks||(Yh(h,"init",Qd),Yh(h,"destroy",Zd),i.getStacks=_d,s.getStackIndicator=Jd,s.modifyStacks=tu,s.percentStacker=eu,s.setGroupedPoints=iu,s.setStackedPoints=su)};let nu=mt,{defined:ou,merge:Uh,isObject:au}=st;class Kh extends xe{drawGraph(){let t=this.options,e=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode;[this,...this.zones].forEach((s,r)=>{let n,o=s.graph,l=o?"animate":"attr",c=s.dashStyle||t.dashStyle;o?(o.endX=this.preventGraphAnimation?null:e.xMap,o.animate({d:e})):e.length&&(s.graph=o=this.chart.renderer.path(e).addClass("highcharts-graph"+(r?` highcharts-zone-graph-${r-1} `:" ")+(r&&s.className||"")).attr({zIndex:1}).add(this.group)),o&&!i&&(n={stroke:!r&&t.lineColor||s.color||this.color||"#cccccc","stroke-width":t.lineWidth||0,fill:this.fillGraph&&this.color||"none"},c?n.dashstyle=c:t.linecap!=="square"&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),o[l](n).shadow(t.shadow&&Uh({filterUnits:"userSpaceOnUse"},au(t.shadow)?t.shadow:{}))),o&&(o.startX=e.xMap,o.isArea=e.isArea)})}getGraphPath(t,e,i){let s=this,r=s.options,n=[],o=[],l,c=r.step,g=(t=t||s.points).reversed;return g&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&g&&(c=4-c),(t=this.getValidPoints(t,!1,!(r.connectNulls&&!e&&!i))).forEach(function(u,b){let y,w=u.plotX,M=u.plotY,T=t[b-1],k=u.isNull||typeof M!="number";(u.leftCliff||T&&T.rightCliff)&&!i&&(l=!0),k&&!ou(e)&&b>0?l=!r.connectNulls:k&&!e?l=!0:(b===0||l?y=[["M",u.plotX,u.plotY]]:s.getPointSpline?y=[s.getPointSpline(t,u,b)]:c?(y=c===1?[["L",T.plotX,M]]:c===2?[["L",(T.plotX+w)/2,T.plotY],["L",(T.plotX+w)/2,M]]:[["L",w,T.plotY]]).push(["L",w,M]):y=[["L",w,M]],o.push(u.x),c&&(o.push(u.x),c===2&&o.push(u.x)),n.push.apply(n,y),l=!1)}),n.xMap=o,s.graphPath=n,n}}Kh.defaultOptions=Uh(xe.defaultOptions,{legendSymbol:"lineMarker"}),Ft.registerSeriesType("line",Kh);let{seriesTypes:{line:wl}}=Ft,{extend:lu,merge:hu,objectEach:cu,pick:fo}=st;class kl extends wl{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:t,options:e}=this;[this,...this.zones].forEach((i,s)=>{let r={},n=i.fillColor||e.fillColor,o=i.area,l=o?"animate":"attr";o?(o.endX=this.preventGraphAnimation?null:t.xMap,o.animate({d:t})):(r.zIndex=0,(o=i.area=this.chart.renderer.path(t).addClass("highcharts-area"+(s?` highcharts-zone-area-${s-1} `:" ")+(s&&i.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(r.fill=n||i.color||this.color,r["fill-opacity"]=n?1:e.fillOpacity??.75,o.css({pointerEvents:this.stickyTracking?"none":"auto"})),o[l](r),o.startX=t.xMap,o.shiftUnit=e.step?2:1})}getGraphPath(t){let e,i,s,r=wl.prototype.getGraphPath,n=this.options,o=n.stacking,l=this.yAxis,c=[],g=[],u=this.index,b=l.stacking.stacks[this.stackKey],y=n.threshold,w=Math.round(l.getThreshold(n.threshold)),M=fo(n.connectNulls,o==="percent"),T=function(R,N,H){let Y=t[R],U=o&&b[Y.x].points[u],K=Y[H+"Null"]||0,Z=Y[H+"Cliff"]||0,Q,tt,J=!0;Z||K?(Q=(K?U[0]:U[1])+Z,tt=U[0]+Z,J=!!K):!o&&t[N]&&t[N].isNull&&(Q=tt=y),Q!==void 0&&(g.push({plotX:e,plotY:Q===null?w:l.getThreshold(Q),isNull:J,isCliff:!0}),c.push({plotX:e,plotY:tt===null?w:l.getThreshold(tt),doCurve:!1}))};t=t||this.points,o&&(t=this.getStackPoints(t));for(let R=0,N=t.length;R<N;++R)o||(t[R].leftCliff=t[R].rightCliff=t[R].leftNull=t[R].rightNull=void 0),i=t[R].isNull,e=fo(t[R].rectPlotX,t[R].plotX),s=o?fo(t[R].yBottom,w):w,i&&!M||(M||T(R,R-1,"left"),i&&!o&&M||(g.push(t[R]),c.push({x:R,plotX:e,plotY:s})),M||T(R,R+1,"right"));let k=r.call(this,g,!0,!0);c.reversed=!0;let O=r.call(this,c,!0,!0),P=O[0];P&&P[0]==="M"&&(O[0]=["L",P[1],P[2]]);let F=k.concat(O);F.length&&F.push(["Z"]);let z=r.call(this,g,!1,M);return this.chart.series.length>1&&o&&g.some(R=>R.isCliff)&&(F.hasStackedCliffs=z.hasStackedCliffs=!0),F.xMap=k.xMap,this.areaPath=F,z}getStackPoints(t){let e=this,i=[],s=[],r=this.xAxis,n=this.yAxis,o=n.stacking.stacks[this.stackKey],l={},c=n.series,g=c.length,u=n.options.reversedStacks?1:-1,b=c.indexOf(e);if(t=t||this.points,this.options.stacking){for(let w=0;w<t.length;w++)t[w].leftNull=t[w].rightNull=void 0,l[t[w].x]=t[w];cu(o,function(w,M){w.total!==null&&s.push(M)}),s.sort(function(w,M){return w-M});let y=c.map(w=>w.visible);s.forEach(function(w,M){let T=0,k,O;if(l[w]&&!l[w].isNull)i.push(l[w]),[-1,1].forEach(function(P){let F=P===1?"rightNull":"leftNull",z=o[s[M+P]],R=0;if(z){let N=b;for(;N>=0&&N<g;){let H=c[N].index;!(k=z.points[H])&&(H===e.index?l[w][F]=!0:y[N]&&(O=o[w].points[H])&&(R-=O[1]-O[0])),N+=u}}l[w][P===1?"rightCliff":"leftCliff"]=R});else{let P=b;for(;P>=0&&P<g;){let F=c[P].index;if(k=o[w].points[F]){T=k[1];break}P+=u}T=fo(T,0),T=n.translate(T,0,1,0,1),i.push({isNull:!0,plotX:r.translate(w,0,0,0,1),x:w,plotY:T,yBottom:T})}})}return i}}kl.defaultOptions=hu(wl.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),lu(kl.prototype,{singleStacks:!1}),Ft.registerSeriesType("area",kl);let{line:qh}=Ft.seriesTypes,{merge:du,pick:bo}=st;class Al extends qh{getPointSpline(t,e,i){let s,r,n,o,l=e.plotX||0,c=e.plotY||0,g=t[i-1],u=t[i+1];function b(w){return w&&!w.isNull&&w.doCurve!==!1&&!e.isCliff}if(b(g)&&b(u)){let w=g.plotX||0,M=g.plotY||0,T=u.plotX||0,k=u.plotY||0,O=0;s=(1.5*l+w)/2.5,r=(1.5*c+M)/2.5,n=(1.5*l+T)/2.5,o=(1.5*c+k)/2.5,n!==s&&(O=(o-r)*(n-l)/(n-s)+c-o),r+=O,o+=O,r>M&&r>c?(r=Math.max(M,c),o=2*c-r):r<M&&r<c&&(r=Math.min(M,c),o=2*c-r),o>k&&o>c?(o=Math.max(k,c),r=2*c-o):o<k&&o<c&&(o=Math.min(k,c),r=2*c-o),e.rightContX=n,e.rightContY=o,e.controlPoints={low:[s,r],high:[n,o]}}let y=["C",bo(g.rightContX,g.plotX,0),bo(g.rightContY,g.plotY,0),bo(s,l,0),bo(r,c,0),l,c];return g.rightContX=g.rightContY=void 0,y}}Al.defaultOptions=du(qh.defaultOptions),Ft.registerSeriesType("spline",Al);let _h=Al,{area:uu,area:{prototype:El}}=Ft.seriesTypes,{extend:pu,merge:gu}=st;class Ml extends _h{}Ml.defaultOptions=gu(_h.defaultOptions,uu.defaultOptions),pu(Ml.prototype,{getGraphPath:El.getGraphPath,getStackPoints:El.getStackPoints,drawGraph:El.drawGraph}),Ft.registerSeriesType("areaspline",Ml);let{animObject:mu}=Kt,{parse:fu}=zt,{noop:bu}=W,{clamp:xo,crisp:yo,defined:Zh,extend:Qh,fireEvent:Jh,isArray:tc,isNumber:vo,merge:Tl,pick:Zs,objectEach:xu}=st;class wo extends xe{animate(t){let e,i,s=this,r=this.yAxis,n=r.pos,o=r.reversed,l=s.options,{clipOffset:c,inverted:g}=this.chart,u={},b=g?"translateX":"translateY";t&&c?(u.scaleY=.001,i=xo(r.toPixels(l.threshold||0),n,n+r.len),g?(i+=o?-Math.floor(c[0]):Math.ceil(c[2]),u.translateX=i-r.len):(i+=o?Math.ceil(c[0]):-Math.floor(c[2]),u.translateY=i),s.clipBox&&s.setClip(),s.group.attr(u)):(e=Number(s.group.attr(b)),s.group.animate({scaleY:1},Qh(mu(s.options.animation),{step:function(y,w){s.group&&(u[b]=e+w.pos*(n-e),s.group.attr(u))}})))}init(t,e){super.init.apply(this,arguments);let i=this;(t=i.chart).hasRendered&&t.series.forEach(function(s){s.type===i.type&&(s.isDirty=!0)})}getColumnMetrics(){let t=this,e=t.options,i=t.xAxis,s=t.yAxis,r=i.options.reversedStacks,n=i.reversed&&!r||!i.reversed&&r,o={},l,c=0;e.grouping===!1?c=1:t.chart.series.forEach(function(M){let T,k=M.yAxis,O=M.options;M.type===t.type&&M.reserveSpace()&&s.len===k.len&&s.pos===k.pos&&(O.stacking&&O.stacking!=="group"?(o[l=M.stackKey]===void 0&&(o[l]=c++),T=o[l]):O.grouping!==!1&&(T=c++),M.columnIndex=T)});let g=Math.min(Math.abs(i.transA)*(!i.brokenAxis?.hasBreaks&&i.ordinal?.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),u=g*e.groupPadding,b=(g-2*u)/(c||1),y=Math.min(e.maxPointWidth||i.len,Zs(e.pointWidth,b*(1-2*e.pointPadding))),w=(t.columnIndex||0)+(n?1:0);return t.columnMetrics={width:y,offset:(b-y)/2+(u+w*b-g/2)*(n?-1:1),paddedWidth:b,columnCount:c},t.columnMetrics}crispCol(t,e,i,s){let r=this.borderWidth,n=this.chart.inverted;return s=yo(e+s,r,n)-(e=yo(e,r,n)),this.options.crisp&&(i=yo(t+i,r)-(t=yo(t,r))),{x:t,y:e,width:i,height:s}}adjustForMissingColumns(t,e,i,s){if(!i.isNull&&s.columnCount>1){let r=this.xAxis.series.filter(c=>c.visible).map(c=>c.index),n=0,o=0;xu(this.xAxis.stacking?.stacks,c=>{let g=typeof i.x=="number"?c[i.x.toString()]?.points:void 0,u=g?.[this.index],b={};if(g&&tc(u)){let y=this.index,w=Object.keys(g).filter(M=>!M.match(",")&&g[M]&&g[M].length>1).map(parseFloat).filter(M=>r.indexOf(M)!==-1).filter(M=>{let T=this.chart.series[M].options,k=T.stacking&&T.stack;if(Zh(k)){if(vo(b[k]))return y===M&&(y=b[k]),!1;b[k]=M}return!0}).sort((M,T)=>T-M);n=w.indexOf(y),o=w.length}}),n=this.xAxis.reversed?o-1-n:n;let l=(o-1)*s.paddedWidth+e;t=(i.plotX||0)+l/2-e-n*s.paddedWidth}return t}translate(){let t=this,e=t.chart,i=t.options,s=t.dense=t.closestPointRange*t.xAxis.transA<2,r=t.borderWidth=Zs(i.borderWidth,s?0:1),n=t.xAxis,o=t.yAxis,l=i.threshold,c=Zs(i.minPointLength,5),g=t.getColumnMetrics(),u=g.width,b=t.pointXOffset=g.offset,y=t.dataMin,w=t.dataMax,M=t.translatedThreshold=o.getThreshold(l),T=t.barW=Math.max(u,1+2*r);i.pointPadding&&i.crisp&&(T=Math.ceil(T)),xe.prototype.translate.apply(t),t.points.forEach(function(k){let O=Zs(k.yBottom,M),P=999+Math.abs(O),F=k.plotX||0,z=xo(k.plotY,-P,o.len+P),R,N=Math.min(z,O),H=Math.max(z,O)-N,Y=u,U=F+b,K=T;c&&Math.abs(H)<c&&(H=c,R=!o.reversed&&!k.negative||o.reversed&&k.negative,vo(l)&&vo(w)&&k.y===l&&w<=l&&(o.min||0)<l&&(y!==w||(o.max||0)<=l)&&(R=!R,k.negative=!k.negative),N=Math.abs(N-M)>c?O-c:M-(R?c:0)),Zh(k.options.pointWidth)&&(U-=Math.round(((Y=K=Math.ceil(k.options.pointWidth))-u)/2)),i.centerInCategory&&(U=t.adjustForMissingColumns(U,Y,k,g)),k.barX=U,k.pointWidth=Y,k.tooltipPos=e.inverted?[xo(o.len+o.pos-e.plotLeft-z,o.pos-e.plotLeft,o.len+o.pos-e.plotLeft),n.len+n.pos-e.plotTop-U-K/2,H]:[n.left-e.plotLeft+U+K/2,xo(z+o.pos-e.plotTop,o.pos-e.plotTop,o.len+o.pos-e.plotTop),H],k.shapeType=t.pointClass.prototype.shapeType||"roundedRect",k.shapeArgs=t.crispCol(U,k.isNull?M:N,K,k.isNull?0:H)}),Jh(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let i=this.options,s=this.pointAttrToOptions||{},r=s.stroke||"borderColor",n=s["stroke-width"]||"borderWidth",o,l,c,g=t&&t.color||this.color,u=t&&t[r]||i[r]||g,b=t&&t.options.dashStyle||i.dashStyle,y=t&&t[n]||i[n]||this[n]||0,w=Zs(t&&t.opacity,i.opacity,1);t&&this.zones.length&&(l=t.getZone(),g=t.options.color||l&&(l.color||t.nonZonedColor)||this.color,l&&(u=l.borderColor||u,b=l.dashStyle||b,y=l.borderWidth||y)),e&&t&&(c=(o=Tl(i.states[e],t.options.states&&t.options.states[e]||{})).brightness,g=o.color||c!==void 0&&fu(g).brighten(o.brightness).get()||g,u=o[r]||u,y=o[n]||y,b=o.dashStyle||b,w=Zs(o.opacity,w));let M={fill:g,stroke:u,"stroke-width":y,opacity:w};return b&&(M.dashstyle=b),M}drawPoints(t=this.points){let e,i=this,s=this.chart,r=i.options,n=s.renderer,o=r.animationLimit||250;t.forEach(function(l){let c=l.plotY,g=l.graphic,u=!!g,b=g&&s.pointCount<o?"animate":"attr";vo(c)&&l.y!==null?(e=l.shapeArgs,g&&l.hasNewShapeType()&&(g=g.destroy()),i.enabledDataSorting&&(l.startXPos=i.xAxis.reversed?-(e&&e.width||0):i.xAxis.width),!g&&(l.graphic=g=n[l.shapeType](e).add(l.group||i.group),g&&i.enabledDataSorting&&s.hasRendered&&s.pointCount<o&&(g.attr({x:l.startXPos}),u=!0,b="animate")),g&&u&&g[b](Tl(e)),s.styledMode||g[b](i.pointAttribs(l,l.selected&&"select")).shadow(l.allowShadow!==!1&&r.shadow),g&&(g.addClass(l.getClassName(),!0),g.attr({visibility:l.visible?"inherit":"hidden"}))):g&&(l.graphic=g.destroy())})}drawTracker(t=this.points){let e,i=this,s=i.chart,r=s.pointer,n=function(o){r?.normalize(o);let l=r?.getPointFromEvent(o),c=!s.scrollablePlotArea||s.isInsidePlot(o.chartX-s.plotLeft,o.chartY-s.plotTop,{visiblePlotOnly:!0});r&&l&&i.options.enableMouseTracking&&c&&(r.isDirectTouch=!0,l.onMouseOver(o))};t.forEach(function(o){e=tc(o.dataLabels)?o.dataLabels:o.dataLabel?[o.dataLabel]:[],o.graphic&&(o.graphic.element.point=o),e.forEach(function(l){(l.div||l.element).point=o})}),i._hasTracking||(i.trackerGroups.forEach(function(o){i[o]&&(i[o].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(l){r?.onTrackerMouseOut(l)}).on("touchstart",n),!s.styledMode&&i.options.cursor&&i[o].css({cursor:i.options.cursor}))}),i._hasTracking=!0),Jh(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(i){i.type===t.type&&(i.isDirty=!0)}),xe.prototype.remove.apply(t,arguments)}}wo.defaultOptions=Tl(xe.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Qh(wo.prototype,{directTouch:!0,getSymbol:bu,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Ft.registerSeriesType("column",wo);let ko=wo,{getDeferredAnimation:yu}=Kt,{format:vu}=le,{defined:rs,extend:ec,fireEvent:Sl,getAlignFactor:ic,isArray:Bi,isString:Cl,merge:qr,objectEach:wu,pick:_r,pInt:ku,splat:sc}=st;(function(h){function t(){return l(this).some(g=>g?.enabled)}function e(g,u,b,y,w){let{chart:M,enabledDataSorting:T}=this,k=this.isCartesian&&M.inverted,O=g.plotX,P=g.plotY,F=b.rotation||0,z=rs(O)&&rs(P)&&M.isInsidePlot(O,Math.round(P),{inverted:k,paneCoordinates:!0,series:this}),R=F===0&&_r(b.overflow,T?"none":"justify")==="justify",N=this.visible&&g.visible!==!1&&rs(O)&&(g.series.forceDL||T&&!R||z||_r(b.inside,!!this.options.stacking)&&y&&M.isInsidePlot(O,k?y.x+1:y.y+y.height-1,{inverted:k,paneCoordinates:!0,series:this})),H=g.pos();if(N&&H){var Y;let U=u.getBBox(),K=u.getBBox(void 0,0);if(y=ec({x:H[0],y:Math.round(H[1]),width:0,height:0},y||{}),b.alignTo==="plotEdges"&&this.isCartesian&&(y[k?"x":"y"]=0,y[k?"width":"height"]=this.yAxis?.len||0),ec(b,{width:U.width,height:U.height}),Y=y,T&&this.xAxis&&!R&&this.setDataLabelStartPos(g,u,w,z,Y),u.align(qr(b,{width:K.width,height:K.height}),!1,y,!1),u.alignAttr.x+=ic(b.align)*(K.width-U.width),u.alignAttr.y+=ic(b.verticalAlign)*(K.height-U.height),u[u.placed?"animate":"attr"]({"text-align":u.alignAttr["text-align"]||"center",x:u.alignAttr.x+(U.width-K.width)/2,y:u.alignAttr.y+(U.height-K.height)/2,rotationOriginX:(u.width||0)/2,rotationOriginY:(u.height||0)/2}),R&&y.height>=0)this.justifyDataLabel(u,b,u.alignAttr,U,y,w);else if(_r(b.crop,!0)){let{x:Z,y:Q}=u.alignAttr;N=M.isInsidePlot(Z,Q,{paneCoordinates:!0,series:this})&&M.isInsidePlot(Z+U.width-1,Q+U.height-1,{paneCoordinates:!0,series:this})}b.shape&&!F&&u[w?"attr":"animate"]({anchorX:H[0],anchorY:H[1]})}w&&T&&(u.placed=!1),N||T&&!R?(u.show(),u.placed=!0):(u.hide(),u.placed=!1)}function i(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function s(g){let u=this.hasRendered||0,b=this.initDataLabelsGroup().attr({opacity:+u});return!u&&b&&(this.visible&&b.show(),this.options.animation?b.animate({opacity:1},g):b.attr({opacity:1})),b}function r(g){let u;g=g||this.points;let b=this,y=b.chart,w=b.options,M=y.renderer,{backgroundColor:T,plotBackgroundColor:k}=y.options.chart,O=M.getContrast(Cl(k)&&k||Cl(T)&&T||"#000000"),P=l(b),{animation:F,defer:z}=P[0],R=z?yu(y,F,b):{defer:0,duration:0};Sl(this,"drawDataLabels"),b.hasDataLabels?.()&&(u=this.initDataLabels(R),g.forEach(N=>{let H=N.dataLabels||[];sc(o(P,N.dlOptions||N.options?.dataLabels)).forEach((U,K)=>{let Z=U.enabled&&(N.visible||N.dataLabelOnHidden)&&(!N.isNull||N.dataLabelOnNull)&&function(vt,St){let Vt=St.filter;if(Vt){let Bt=Vt.operator,ne=vt[Vt.property],Yt=Vt.value;return Bt===">"&&ne>Yt||Bt==="<"&&ne<Yt||Bt===">="&&ne>=Yt||Bt==="<="&&ne<=Yt||Bt==="=="&&ne==Yt||Bt==="==="&&ne===Yt||Bt==="!="&&ne!=Yt||Bt==="!=="&&ne!==Yt}return!0}(N,U),{backgroundColor:Q,borderColor:tt,distance:J,style:et={}}=U,pt,lt,ht,gt={},at=H[K],jt=!at,Nt;Z&&(lt=rs(pt=_r(U[N.formatPrefix+"Format"],U.format))?vu(pt,N,y):(U[N.formatPrefix+"Formatter"]||U.formatter).call(N,U),ht=U.rotation,!y.styledMode&&(et.color=_r(U.color,et.color,Cl(b.color)?b.color:void 0,"#000000"),et.color==="contrast"?(Q!=="none"&&(Nt=Q),N.contrastColor=M.getContrast(Nt!=="auto"&&Nt||N.color||b.color),et.color=Nt||!rs(J)&&U.inside||0>ku(J||0)||w.stacking?N.contrastColor:O):delete N.contrastColor,w.cursor&&(et.cursor=w.cursor)),gt={r:U.borderRadius||0,rotation:ht,padding:U.padding,zIndex:1},y.styledMode||(gt.fill=Q==="auto"?N.color:Q,gt.stroke=tt==="auto"?N.color:tt,gt["stroke-width"]=U.borderWidth),wu(gt,(vt,St)=>{vt===void 0&&delete gt[St]})),!at||Z&&rs(lt)&&!!at.div==!!U.useHTML&&(at.rotation&&U.rotation||at.rotation===U.rotation)||(at=void 0,jt=!0),Z&&rs(lt)&&(at?gt.text=lt:(at=M.label(lt,0,0,U.shape,void 0,void 0,U.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+N.colorIndex+" "+(U.className||"")+(U.useHTML?" highcharts-tracker":"")),at&&(at.options=U,at.attr(gt),y.styledMode?et.width&&at.css({width:et.width,textOverflow:et.textOverflow,whiteSpace:et.whiteSpace}):at.css(et).shadow(U.shadow),Sl(at,"beforeAddingDataLabel",{labelOptions:U,point:N}),at.added||at.add(u),b.alignDataLabel(N,at,U,void 0,jt),at.isActive=!0,H[K]&&H[K]!==at&&H[K].destroy(),H[K]=at))});let Y=H.length;for(;Y--;)H[Y]&&H[Y].isActive?H[Y].isActive=!1:(H[Y]?.destroy(),H.splice(Y,1));N.dataLabel=H[0],N.dataLabels=H})),Sl(this,"afterDrawDataLabels")}function n(g,u,b,y,w,M){let T=this.chart,k=u.align,O=u.verticalAlign,P=g.box?0:g.padding||0,F=T.inverted?this.yAxis:this.xAxis,z=F?F.left-T.plotLeft:0,R=T.inverted?this.xAxis:this.yAxis,N=R?R.top-T.plotTop:0,{x:H=0,y:Y=0}=u,U,K;return(U=(b.x||0)+P+z)<0&&(k==="right"&&H>=0?(u.align="left",u.inside=!0):H-=U,K=!0),(U=(b.x||0)+y.width-P+z)>T.plotWidth&&(k==="left"&&H<=0?(u.align="right",u.inside=!0):H+=T.plotWidth-U,K=!0),(U=b.y+P+N)<0&&(O==="bottom"&&Y>=0?(u.verticalAlign="top",u.inside=!0):Y-=U,K=!0),(U=(b.y||0)+y.height-P+N)>T.plotHeight&&(O==="top"&&Y<=0?(u.verticalAlign="bottom",u.inside=!0):Y+=T.plotHeight-U,K=!0),K&&(u.x=H,u.y=Y,g.placed=!M,g.align(u,void 0,w)),K}function o(g,u){let b=[],y;if(Bi(g)&&!Bi(u))b=g.map(function(w){return qr(w,u)});else if(Bi(u)&&!Bi(g))b=u.map(function(w){return qr(g,w)});else if(Bi(g)||Bi(u)){if(Bi(g)&&Bi(u))for(y=Math.max(g.length,u.length);y--;)b[y]=qr(g[y],u[y])}else b=qr(g,u);return b}function l(g){let u=g.chart.options.plotOptions;return sc(o(o(u?.series?.dataLabels,u?.[g.type]?.dataLabels),g.options.dataLabels))}function c(g,u,b,y,w){let M=this.chart,T=M.inverted,k=this.xAxis,O=k.reversed,P=((T?u.height:u.width)||0)/2,F=g.pointWidth,z=F?F/2:0;u.startXPos=T?w.x:O?-P-z:k.width-P+z,u.startYPos=T?O?this.yAxis.height-P+z:-P-z:w.y,y?u.visibility==="hidden"&&(u.show(),u.attr({opacity:0}).animate({opacity:1})):u.attr({opacity:1}).animate({opacity:0},void 0,u.hide),M.hasRendered&&(b&&u.attr({x:u.startXPos,y:u.startYPos}),u.placed=!0)}h.compose=function(g){let u=g.prototype;u.initDataLabels||(u.initDataLabels=s,u.initDataLabelsGroup=i,u.alignDataLabel=e,u.drawDataLabels=r,u.justifyDataLabel=n,u.setDataLabelStartPos=c,u.hasDataLabels=t)}})(Ut||(Ut={}));let Ao=Ut,{composed:Au}=W,{series:rc}=Ft,{merge:Eu,pick:Zr,pushUnique:Mu}=st;(function(h){function t(e,i,s,r,n){let o=this.chart.inverted,l=e.series,c=(l.xAxis?l.xAxis.len:this.chart.plotSizeX)||0,g=(l.yAxis?l.yAxis.len:this.chart.plotSizeY)||0,u=e.dlBox||e.shapeArgs,b=Zr(e.below,e.plotY>Zr(this.translatedThreshold,g)),y=Zr(s.inside,!!this.options.stacking);if(u){if(r=Eu(u),!(s.overflow==="allow"&&s.crop===!1)){r.y<0&&(r.height+=r.y,r.y=0);let w=r.y+r.height-g;w>0&&w<r.height-1&&(r.height-=w)}o&&(r={x:g-r.y-r.height,y:c-r.x-r.width,width:r.height,height:r.width}),y||(o?(r.x+=b?0:r.width,r.width=0):(r.y+=b?r.height:0,r.height=0))}s.align=Zr(s.align,!o||y?"center":b?"right":"left"),s.verticalAlign=Zr(s.verticalAlign,o||y?"middle":b?"top":"bottom"),rc.prototype.alignDataLabel.call(this,e,i,s,r,n),s.inside&&e.contrastColor&&i.css({color:e.contrastColor})}h.compose=function(e){Ao.compose(rc),Mu(Au,"ColumnDataLabel")&&(e.prototype.alignDataLabel=t)}})(Le||(Le={}));let Tu=Le,{extend:Su,merge:Cu}=st;class Ol extends ko{}Ol.defaultOptions=Cu(ko.defaultOptions,{}),Su(Ol.prototype,{inverted:!0}),Ft.registerSeriesType("bar",Ol);let{column:Ou,line:nc}=Ft.seriesTypes,{addEvent:Pu,extend:Lu,merge:Du}=st;class Eo extends nc{applyJitter(){let t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach(function(s,r){["x","y"].forEach(function(n,o){if(e[n]&&!s.isNull){let l=`plot${n.toUpperCase()}`,c=t[`${n}Axis`],g=e[n]*c.transA;if(c&&!c.logarithmic){let u=Math.max(0,(s[l]||0)-g),b=Math.min(c.len,(s[l]||0)+g);s[l]=u+(b-u)*function(y){let w=1e4*Math.sin(y);return w-Math.floor(w)}(r+o*i),n==="x"&&(s.clientX=s.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Eo.defaultOptions=Du(nc.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Lu(Eo.prototype,{drawTracker:Ou.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Pu(Eo,"afterTranslate",function(){this.applyJitter()}),Ft.registerSeriesType("scatter",Eo);let{deg2rad:oc}=W,{fireEvent:Bu,isNumber:Pl,pick:Mo,relativeLength:Nu}=st;(function(h){h.getCenter=function(){let t=this.options,e=this.chart,i=2*(t.slicedOffset||0),s=e.plotWidth-2*i,r=e.plotHeight-2*i,n=t.center,o=Math.min(s,r),l=t.thickness,c,g=t.size,u=t.innerSize||0,b,y;typeof g=="string"&&(g=parseFloat(g)),typeof u=="string"&&(u=parseFloat(u));let w=[Mo(n?.[0],"50%"),Mo(n?.[1],"50%"),Mo(g&&g<0?void 0:t.size,"100%"),Mo(u&&u<0?void 0:t.innerSize||0,"0%")];for(!e.angular||this instanceof xe||(w[3]=0),b=0;b<4;++b)y=w[b],c=b<2||b===2&&/%$/.test(y),w[b]=Nu(y,[s,r,o,w[2]][b])+(c?i:0);return w[3]>w[2]&&(w[3]=w[2]),Pl(l)&&2*l<w[2]&&l>0&&(w[3]=w[2]-2*l),Bu(this,"afterGetCenter",{positions:w}),w},h.getStartAndEndRadians=function(t,e){let i=Pl(t)?t:0,s=Pl(e)&&e>i&&e-i<360?e:i+360;return{start:oc*(i+-90),end:oc*(s+-90)}}})(Ye||(Ye={}));let ac=Ye,{setAnimation:Iu}=Kt,{addEvent:lc,defined:Fu,extend:Ru,isNumber:zu,pick:Hu,relativeLength:Wu}=st;class hc extends bt{getConnectorPath(t){let e=t.dataLabelPosition,i=t.options||{},s=i.connectorShape,r=this.connectorShapes[s]||s;return e&&r.call(this,{...e.computed,alignment:e.alignment},e.connectorPosition,i)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}constructor(t,e,i){super(t,e,i),this.half=0,this.name??(this.name="Slice");let s=r=>{this.slice(r.type==="select")};lc(this,"select",s),lc(this,"unselect",s)}isValid(){return zu(this.y)&&this.y>=0}setVisible(t,e=!0){t!==this.visible&&this.update({visible:t??!this.visible},e,void 0,!1)}slice(t,e,i){let s=this.series;Iu(i,s.chart),e=Hu(e,!0),this.sliced=this.options.sliced=t=Fu(t)?t:!this.sliced,s.options.data[s.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Ru(hc.prototype,{connectorShapes:{fixedOffset:function(h,t,e){let i=t.breakAt,s=t.touchingSliceAt,r=e.softConnector?["C",h.x+(h.alignment==="left"?-5:5),h.y,2*i.x-s.x,2*i.y-s.y,i.x,i.y]:["L",i.x,i.y];return[["M",h.x,h.y],r,["L",s.x,s.y]]},straight:function(h,t){let e=t.touchingSliceAt;return[["M",h.x,h.y],["L",e.x,e.y]]},crookedLine:function(h,t,e){let{angle:i=this.angle||0,breakAt:s,touchingSliceAt:r}=t,{series:n}=this,[o,l,c]=n.center,g=c/2,{plotLeft:u,plotWidth:b}=n.chart,y=h.alignment==="left",{x:w,y:M}=h,T=s.x;if(e.crookDistance){let O=Wu(e.crookDistance,1);T=y?o+g+(b+u-o-g)*(1-O):u+(o-g)*O}else T=o+(l-M)*Math.tan(i-Math.PI/2);let k=[["M",w,M]];return(y?T<=w&&T>=s.x:T>=w&&T<=s.x)&&k.push(["L",T,M]),k.push(["L",s.x,s.y],["L",r.x,r.y]),k}}});let{getStartAndEndRadians:ju}=ac,{noop:cc}=W,{clamp:Xu,extend:Gu,fireEvent:dc,merge:Ll,pick:Vu}=st;class Dl extends xe{animate(t){let e=this,i=e.points,s=e.startAngleRad;t||i.forEach(function(r){let n=r.graphic,o=r.shapeArgs;n&&o&&(n.attr({r:Vu(r.startR,e.center&&e.center[3]/2),start:s,end:s}),n.animate({r:o.r,start:o.start,end:o.end},e.options.animation))})}drawEmpty(){let t,e,i=this.startAngleRad,s=this.endAngleRad,r=this.options;this.total===0&&this.center?(t=this.center[0],e=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,e,this.center[1]/2,0,i,s).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Vi.arc(t,e,this.center[2]/2,0,{start:i,end:s,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":r.borderWidth,fill:r.fillColor||"none",stroke:r.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach(function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i,s){let r=this.center,n=this.radii?this.radii[i.index]||0:r[2]/2,o=s.dataLabelPosition,l=o?.distance||0,c=Math.asin(Xu((t-r[1])/(n+l),-1,1));return r[0]+Math.cos(c)*(n+l)*(e?-1:1)+(l>0?(e?-1:1)*(s.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let t,e,i,s,r=this,n=r.chart;this.drawEmpty(),r.group&&!n.styledMode&&r.group.shadow(r.options.shadow),r.points.forEach(function(o){let l={};e=o.graphic,!o.isNull&&e?(s=o.shapeArgs,t=o.getTranslate(),n.styledMode||(i=r.pointAttribs(o,o.selected&&"select")),o.delayedRendering?(e.setRadialReference(r.center).attr(s).attr(t),n.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}),o.delayedRendering=!1):(e.setRadialReference(r.center),n.styledMode||Ll(!0,l,i),Ll(!0,l,s,t),e.animate(l)),e.attr({visibility:o.visible?"inherit":"hidden"}),e.addClass(o.getClassName(),!0)):e&&(o.graphic=e.destroy())})}sortByAngle(t,e){t.sort(function(i,s){return i.angle!==void 0&&(s.angle-i.angle)*e})}translate(t){dc(this,"translate"),this.generatePoints();let e=this.options,i=e.slicedOffset,s=ju(e.startAngle,e.endAngle),r=this.startAngleRad=s.start,n=(this.endAngleRad=s.end)-r,o=this.points,l=e.ignoreHiddenPoint,c=o.length,g,u,b,y,w,M,T,k=0;for(t||(this.center=t=this.getCenter()),M=0;M<c;M++){T=o[M],g=r+k*n,T.isValid()&&(!l||T.visible)&&(k+=T.percentage/100),u=r+k*n;let O={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*g)/1e3,end:Math.round(1e3*u)/1e3};T.shapeType="arc",T.shapeArgs=O,(b=(u+g)/2)>1.5*Math.PI?b-=2*Math.PI:b<-Math.PI/2&&(b+=2*Math.PI),T.slicedTranslation={translateX:Math.round(Math.cos(b)*i),translateY:Math.round(Math.sin(b)*i)},y=Math.cos(b)*t[2]/2,w=Math.sin(b)*t[2]/2,T.tooltipPos=[t[0]+.7*y,t[1]+.7*w],T.half=b<-Math.PI/2||b>Math.PI/2?1:0,T.angle=b}dc(this,"afterTranslate")}updateTotals(){let t=this.points,e=t.length,i=this.options.ignoreHiddenPoint,s,r,n=0;for(s=0;s<e;s++)(r=t[s]).isValid()&&(!i||r.visible)&&(n+=r.y);for(s=0,this.total=n;s<e;s++)(r=t[s]).percentage=n>0&&(r.visible||!i)?r.y/n*100:0,r.total=n}}Dl.defaultOptions=Ll(xe.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Gu(Dl.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:ko.prototype.drawTracker,getCenter:ac.getCenter,getSymbol:cc,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:ko.prototype.pointAttribs,pointClass:hc,requireSorting:!1,searchPoint:cc,trackerGroups:["group","dataLabelsGroup"]}),Ft.registerSeriesType("pie",Dl);let{composed:Yu,noop:$u}=W,{distribute:Uu}=Ae,{series:uc}=Ft,{arrayMax:Ku,clamp:pc,defined:gc,pick:qu,pushUnique:_u,relativeLength:mc}=st;(function(h){let t={radialDistributionY:function(n,o){return(o.dataLabelPosition?.top||0)+n.distributeBox.pos},radialDistributionX:function(n,o,l,c,g){let u=g.dataLabelPosition;return n.getX(l<(u?.top||0)+2||l>(u?.bottom||0)-2?c:l,o.half,o,g)},justify:function(n,o,l,c){return c[0]+(n.half?-1:1)*(l+(o.dataLabelPosition?.distance||0))},alignToPlotEdges:function(n,o,l,c){let g=n.getBBox().width;return o?g+c:l-g-c},alignToConnectors:function(n,o,l,c){let g=0,u;return n.forEach(function(b){(u=b.dataLabel.getBBox().width)>g&&(g=u)}),o?g+c:l-g-c}};function e(n,o){let l=Math.PI/2,{start:c=0,end:g=0}=n.shapeArgs||{},u=n.angle||0;o>0&&c<l&&g>l&&u>l/2&&u<1.5*l&&(u=u<=l?Math.max(l/2,(c+l)/2):Math.min(1.5*l,(l+g)/2));let{center:b,options:y}=this,w=b[2]/2,M=Math.cos(u),T=Math.sin(u),k=b[0]+M*w,O=b[1]+T*w,P=Math.min((y.slicedOffset||0)+(y.borderWidth||0),o/5);return{natural:{x:k+M*o,y:O+T*o},computed:{},alignment:o<0?"center":n.half?"right":"left",connectorPosition:{angle:u,breakAt:{x:k+M*P,y:O+T*P},touchingSliceAt:{x:k,y:O}},distance:o}}function i(){let n=this,o=n.points,l=n.chart,c=l.plotWidth,g=l.plotHeight,u=l.plotLeft,b=Math.round(l.chartWidth/3),y=n.center,w=y[2]/2,M=y[1],T=[[],[]],k=[0,0,0,0],O=n.dataLabelPositioners,P,F,z,R=0;n.visible&&n.hasDataLabels?.()&&(o.forEach(N=>{(N.dataLabels||[]).forEach(H=>{H.shortened&&(H.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),H.shortened=!1)})}),uc.prototype.drawDataLabels.apply(n),o.forEach(N=>{(N.dataLabels||[]).forEach((H,Y)=>{let U=y[2]/2,K=H.options,Z=mc(K?.distance||0,U);Y===0&&T[N.half].push(N),!gc(K?.style?.width)&&H.getBBox().width>b&&(H.css({width:Math.round(.7*b)+"px"}),H.shortened=!0),H.dataLabelPosition=this.getDataLabelPosition(N,Z),R=Math.max(R,Z)})}),T.forEach((N,H)=>{let Y=N.length,U=[],K,Z,Q=0,tt;Y&&(n.sortByAngle(N,H-.5),R>0&&(K=Math.max(0,M-w-R),Z=Math.min(M+w+R,l.plotHeight),N.forEach(J=>{(J.dataLabels||[]).forEach(et=>{let pt=et.dataLabelPosition;pt&&pt.distance>0&&(pt.top=Math.max(0,M-w-pt.distance),pt.bottom=Math.min(M+w+pt.distance,l.plotHeight),Q=et.getBBox().height||21,et.lineHeight=l.renderer.fontMetrics(et.text||et).h+2*et.padding,J.distributeBox={target:(et.dataLabelPosition?.natural.y||0)-pt.top+et.lineHeight/2,size:Q,rank:J.y},U.push(J.distributeBox))})}),Uu(U,tt=Z+Q-K,tt/5)),N.forEach(J=>{(J.dataLabels||[]).forEach(et=>{let pt=et.options||{},lt=J.distributeBox,ht=et.dataLabelPosition,gt=ht?.natural.y||0,at=pt.connectorPadding||0,jt=et.lineHeight||21,Nt=(jt-et.getBBox().height)/2,vt=0,St=gt,Vt="inherit";if(ht){if(U&&gc(lt)&&ht.distance>0&&(lt.pos===void 0?Vt="hidden":(z=lt.size,St=O.radialDistributionY(J,et))),pt.justify)vt=O.justify(J,et,w,y);else switch(pt.alignTo){case"connectors":vt=O.alignToConnectors(N,H,c,u);break;case"plotEdges":vt=O.alignToPlotEdges(et,H,c,u);break;default:vt=O.radialDistributionX(n,J,St-Nt,gt,et)}if(ht.attribs={visibility:Vt,align:ht.alignment},ht.posAttribs={x:vt+(pt.x||0)+({left:at,right:-at}[ht.alignment]||0),y:St+(pt.y||0)-jt/2},ht.computed.x=vt,ht.computed.y=St-Nt,qu(pt.crop,!0)){let Bt;vt-(F=et.getBBox().width)<at&&H===1?(Bt=Math.round(F-vt+at),k[3]=Math.max(Bt,k[3])):vt+F>c-at&&H===0&&(Bt=Math.round(vt+F-c+at),k[1]=Math.max(Bt,k[1])),St-z/2<0?k[0]=Math.max(Math.round(-St+z/2),k[0]):St+z/2>g&&(k[2]=Math.max(Math.round(St+z/2-g),k[2])),ht.sideOverflow=Bt}}})}))}),(Ku(k)===0||this.verifyDataLabelOverflow(k))&&(this.placeDataLabels(),this.points.forEach(N=>{(N.dataLabels||[]).forEach(H=>{let{connectorColor:Y,connectorWidth:U=1}=H.options||{},K=H.dataLabelPosition;if(U){let Z;P=H.connector,K&&K.distance>0?(Z=!P,P||(H.connector=P=l.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+N.colorIndex+(N.className?" "+N.className:"")).add(n.dataLabelsGroup)),l.styledMode||P.attr({"stroke-width":U,stroke:Y||N.color||"#666666"}),P[Z?"attr":"animate"]({d:N.getConnectorPath(H)}),P.attr({visibility:K.attribs?.visibility})):P&&(H.connector=P.destroy())}})})))}function s(){this.points.forEach(n=>{(n.dataLabels||[]).forEach(o=>{let l=o.dataLabelPosition;l?(l.sideOverflow&&(o.css({width:Math.max(o.getBBox().width-l.sideOverflow,0)+"px",textOverflow:(o.options?.style||{}).textOverflow||"ellipsis"}),o.shortened=!0),o.attr(l.attribs),o[o.moved?"animate":"attr"](l.posAttribs),o.moved=!0):o&&o.attr({y:-9999})}),delete n.distributeBox},this)}function r(n){let o=this.center,l=this.options,c=l.center,g=l.minSize||80,u=g,b=l.size!==null;return!b&&(c[0]!==null?u=Math.max(o[2]-Math.max(n[1],n[3]),g):(u=Math.max(o[2]-n[1]-n[3],g),o[0]+=(n[3]-n[1])/2),c[1]!==null?u=pc(u,g,o[2]-Math.max(n[0],n[2])):(u=pc(u,g,o[2]-n[0]-n[2]),o[1]+=(n[0]-n[2])/2),u<o[2]?(o[2]=u,o[3]=Math.min(l.thickness?Math.max(0,u-2*l.thickness):Math.max(0,mc(l.innerSize||0,u)),u),this.translate(o),this.drawDataLabels&&this.drawDataLabels()):b=!0),b}h.compose=function(n){if(Ao.compose(uc),_u(Yu,"PieDataLabel")){let o=n.prototype;o.dataLabelPositioners=t,o.alignDataLabel=$u,o.drawDataLabels=i,o.getDataLabelPosition=e,o.placeDataLabels=s,o.verifyDataLabelOverflow=r}}})(Ii||(Ii={}));let Zu=Ii;(function(h){h.getCenterOfPoints=function(t){let e=t.reduce((i,s)=>(i.x+=s.x,i.y+=s.y,i),{x:0,y:0});return{x:e.x/t.length,y:e.y/t.length}},h.getDistanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},h.getAngleBetweenPoints=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},h.pointInPolygon=function({x:t,y:e},i){let s=i.length,r,n,o=!1;for(r=0,n=s-1;r<s;n=r++){let[l,c]=i[r],[g,u]=i[n];c>e!=u>e&&t<(g-l)*(e-c)/(u-c)+l&&(o=!o)}return o}})(oi||(oi={}));let{pointInPolygon:Qu}=oi,{addEvent:Ju,fireEvent:fc,objectEach:bc,pick:tp}=st;function ep(h){let t=h.length,e=(g,u)=>!(u.x>=g.x+g.width||u.x+u.width<=g.x||u.y>=g.y+g.height||u.y+u.height<=g.y),i=(g,u)=>{for(let b of g)if(Qu({x:b[0],y:b[1]},u))return!0;return!1},s,r,n,o,l,c=!1;for(let g=0;g<t;g++)(s=h[g])&&(s.oldOpacity=s.opacity,s.newOpacity=1,s.absoluteBox=function(u){if(u&&(!u.alignAttr||u.placed)){let b=u.box?0:u.padding||0,y=u.alignAttr||{x:u.attr("x"),y:u.attr("y")},w=u.getBBox();return u.width=w.width,u.height=w.height,{x:y.x+(u.parentGroup?.translateX||0)+b,y:y.y+(u.parentGroup?.translateY||0)+b,width:(u.width||0)-2*b,height:(u.height||0)-2*b,polygon:w?.polygon}}}(s));h.sort((g,u)=>(u.labelrank||0)-(g.labelrank||0));for(let g=0;g<t;++g){o=(r=h[g])&&r.absoluteBox;let u=o?.polygon;for(let b=g+1;b<t;++b){l=(n=h[b])&&n.absoluteBox;let y=!1;if(o&&l&&r!==n&&r.newOpacity!==0&&n.newOpacity!==0&&r.visibility!=="hidden"&&n.visibility!=="hidden"){let w=l.polygon;if(u&&w&&u!==w?i(u,w)&&(y=!0):e(o,l)&&(y=!0),y){let M=r.labelrank<n.labelrank?r:n,T=M.text;M.newOpacity=0,T?.element.querySelector("textPath")&&T.hide()}}}}for(let g of h)xc(g,this)&&(c=!0);c&&fc(this,"afterHideAllOverlappingLabels")}function xc(h,t){let e,i,s=!1;return h&&(i=h.newOpacity,h.oldOpacity!==i&&(h.hasClass("highcharts-data-label")?(h[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),e=function(){t.styledMode||h.css({pointerEvents:i?"auto":"none"})},s=!0,h[h.isOld?"animate":"attr"]({opacity:i},void 0,e),fc(t,"afterHideOverlappingLabel")):h.attr({opacity:i})),h.isOld=!0),s}function ip(){let h=this,t=[];for(let e of h.labelCollectors||[])t=t.concat(e());for(let e of h.yAxis||[])e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&bc(e.stacking.stacks,i=>{bc(i,s=>{s.label&&t.push(s.label)})});for(let e of h.series||[])if(e.visible&&e.hasDataLabels?.()){let i=s=>{for(let r of s)r.visible&&(r.dataLabels||[]).forEach(n=>{let o=n.options||{};n.labelrank=tp(o.labelrank,r.labelrank,r.shapeArgs?.height),o.allowOverlap??Number(o.distance)>0?(n.oldOpacity=n.opacity,n.newOpacity=1,xc(n,h)):t.push(n)})};i(e.nodes||[]),i(e.points)}this.hideOverlappingLabels(t)}let yc={compose:function(h){let t=h.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=ep,Ju(h,"render",ip))}},{defaultOptions:sp}=ae,{noop:vc}=W,{addEvent:wc,extend:rp,isObject:kc,merge:np,relativeLength:Bl}=st,op={radius:0,scope:"stack",where:void 0},Ac=vc,Ec=vc;function ap(h,t,e,i,s={}){let r=Ac(h,t,e,i,s),{innerR:n=0,r:o=e,start:l=0,end:c=0}=s;if(s.open||!s.borderRadius)return r;let g=c-l,u=Math.sin(g/2),b=Math.max(Math.min(Bl(s.borderRadius||0,o-n),(o-n)/2,o*u/(1+u)),0),y=Math.min(b,g/Math.PI*2*n),w=r.length-1;for(;w--;)(function(M,T,k){let O,P,F,z=M[T],R=M[T+1];if(R[0]==="Z"&&(R=M[0]),(z[0]==="M"||z[0]==="L")&&R[0]==="A"?(O=z,P=R,F=!0):z[0]==="A"&&(R[0]==="M"||R[0]==="L")&&(O=R,P=z),O&&P&&P.params){let N=P[1],H=P[5],Y=P.params,{start:U,end:K,cx:Z,cy:Q}=Y,tt=H?N-k:N+k,J=tt?Math.asin(k/tt):0,et=H?J:-J,pt=Math.cos(J)*tt;F?(Y.start=U+et,O[1]=Z+pt*Math.cos(U),O[2]=Q+pt*Math.sin(U),M.splice(T+1,0,["A",k,k,0,0,1,Z+N*Math.cos(Y.start),Q+N*Math.sin(Y.start)])):(Y.end=K-et,P[6]=Z+N*Math.cos(Y.end),P[7]=Q+N*Math.sin(Y.end),M.splice(T+1,0,["A",k,k,0,0,1,Z+pt*Math.cos(K),Q+pt*Math.sin(K)])),P[4]=Math.abs(Y.end-Y.start)<Math.PI?0:1}})(r,w,w>1?y:b);return r}function lp(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:h,yAxis:t}=this,e=h.stacking==="percent",i=sp.plotOptions?.[this.type]?.borderRadius,s=Nl(h.borderRadius,kc(i)?i:{}),r=t.options.reversed;for(let n of this.points){let{shapeArgs:o}=n;if(n.shapeType==="roundedRect"&&o){let{width:l=0,height:c=0,y:g=0}=o,u=g,b=c;if(s.scope==="stack"&&n.stackTotal){let T=t.translate(e?100:n.stackTotal,!1,!0,!1,!0),k=t.translate(h.threshold||0,!1,!0,!1,!0),O=this.crispCol(0,Math.min(T,k),0,Math.abs(T-k));u=O.y,b=O.height}let y=(n.negative?-1:1)*(r?-1:1)==-1,w=s.where;!w&&this.is("waterfall")&&Math.abs((n.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(w="all"),w||(w="end");let M=Math.min(Bl(s.radius,l),l/2,w==="all"?c/2:1/0)||0;w==="end"&&(y&&(u-=M),b+=M),rp(o,{brBoxHeight:b,brBoxY:u,r:M})}}}}function Nl(h,t){return kc(h)||(h={radius:h||0}),np(op,t,h)}function hp(){let h=Nl(this.options.borderRadius);for(let t of this.points){let e=t.shapeArgs;e&&(e.borderRadius=Bl(h.radius,(e.r||0)-(e.innerR||0)))}}function cp(h,t,e,i,s={}){let r=Ec(h,t,e,i,s),{r:n=0,brBoxHeight:o=i,brBoxY:l=t}=s,c=t-l,g=l+o-(t+i),u=c-n>-.1?0:n,b=g-n>-.1?0:n,y=Math.max(u&&c,0),w=Math.max(b&&g,0),M=[h+u,t],T=[h+e-u,t],k=[h+e,t+u],O=[h+e,t+i-b],P=[h+e-b,t+i],F=[h+b,t+i],z=[h,t+i-b],R=[h,t+u],N=(H,Y)=>Math.sqrt(Math.pow(H,2)-Math.pow(Y,2));if(y){let H=N(u,u-y);M[0]-=H,T[0]+=H,k[1]=R[1]=t+u-y}if(i<u-y){let H=N(u,u-y-i);k[0]=O[0]=h+e-u+H,P[0]=Math.min(k[0],P[0]),F[0]=Math.max(O[0],F[0]),z[0]=R[0]=h+u-H,k[1]=R[1]=t+i}if(w){let H=N(b,b-w);P[0]+=H,F[0]-=H,O[1]=z[1]=t+i-b+w}if(i<b-w){let H=N(b,b-w-i);k[0]=O[0]=h+e-b+H,T[0]=Math.min(k[0],T[0]),M[0]=Math.max(O[0],M[0]),z[0]=R[0]=h+b-H,O[1]=z[1]=t}return r.length=0,r.push(["M",...M],["L",...T],["A",u,u,0,0,1,...k],["L",...O],["A",b,b,0,0,1,...P],["L",...F],["A",b,b,0,0,1,...z],["L",...R],["A",u,u,0,0,1,...M],["Z"]),r}let{diffObjects:dp,extend:up,find:pp,merge:gp,pick:To,uniqueKey:mp}=st;(function(h){function t(i,s){let r=i.condition;(r.callback||function(){return this.chartWidth<=To(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=To(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=To(r.minWidth,0)&&this.chartHeight>=To(r.minHeight,0)}).call(this)&&s.push(i._id)}function e(i,s){let r=this.options.responsive,n=this.currentResponsive,o=[],l;!s&&r&&r.rules&&r.rules.forEach(u=>{u._id===void 0&&(u._id=mp()),this.matchResponsiveRule(u,o)},this);let c=gp(...o.map(u=>pp((r||{}).rules||[],b=>b._id===u)).map(u=>u&&u.chartOptions));c.isResponsiveOptions=!0,o=o.toString()||void 0;let g=n&&n.ruleIds;o===g||(n&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(n.undoOptions,i,!0),this.updatingResponsive=!1),o?((l=dp(c,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:o,mergedOptions:c,undoOptions:l},this.updatingResponsive||this.update(c,i,!0)):this.currentResponsive=void 0)}h.compose=function(i){let s=i.prototype;return s.matchResponsiveRule||up(s,{matchResponsiveRule:t,setResponsive:e}),i}})(yt||(yt={}));let fp=yt;W.AST=Ct,W.Axis=Ti,W.Chart=Li,W.Color=zt,W.DataLabel=Ao,W.DataTableCore=lo,W.Fx=se,W.HTMLElement=Ki,W.Legend=Dh,W.LegendSymbol=xh,W.OverlappingDataLabels=W.OverlappingDataLabels||yc,W.PlotLineOrBand=Gs,W.Point=bt,W.Pointer=mh,W.RendererRegistry=Ke,W.Series=xe,W.SeriesRegistry=Ft,W.StackItem=Vh,W.SVGElement=ve,W.SVGRenderer=Os,W.Templating=le,W.Tick=We,W.Time=lr,W.Tooltip=d,W.animate=Kt.animate,W.animObject=Kt.animObject,W.chart=Li.chart,W.color=zt.parse,W.dateFormat=le.dateFormat,W.defaultOptions=ae.defaultOptions,W.distribute=Ae.distribute,W.format=le.format,W.getDeferredAnimation=Kt.getDeferredAnimation,W.getOptions=ae.getOptions,W.numberFormat=le.numberFormat,W.seriesType=Ft.seriesType,W.setAnimation=Kt.setAnimation,W.setOptions=ae.setOptions,W.stop=Kt.stop,W.time=ae.defaultTime,W.timers=se.timers,{compose:function(h,t,e){let i=h.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let s=e.prototype.symbols;wc(h,"afterColumnTranslate",lp,{order:9}),wc(i,"afterTranslate",hp),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),Ac=s.arc,Ec=s.roundedRect,s.arc=ap,s.roundedRect=cp}},optionsToObject:Nl}.compose(W.Series,W.SVGElement,W.SVGRenderer),Tu.compose(W.Series.types.column),Ao.compose(W.Series),Te.compose(W.Axis),Ki.compose(W.SVGRenderer),Dh.compose(W.Chart),Va.compose(W.Axis),yc.compose(W.Chart),Zu.compose(W.Series.types.pie),Gs.compose(W.Chart,W.Axis),mh.compose(W.Chart),fp.compose(W.Chart),$r.compose(W.Axis,W.Chart,W.Series),nu.compose(W.Axis,W.Chart,W.Series),d.compose(W.Pointer),st.extend(W,st);let bp=W;return Gt.default})())});var Oc=Il((tn,zl)=>{(function(L,p){typeof tn=="object"&&typeof zl=="object"?zl.exports=p(L._Highcharts,L._Highcharts.Templating,L._Highcharts.AST,L._Highcharts.Legend,L._Highcharts.Axis,L._Highcharts.Color,L._Highcharts.SeriesRegistry,L._Highcharts.RendererRegistry,L._Highcharts.SVGRenderer,L._Highcharts.Point,L._Highcharts.Series):typeof define=="function"&&define.amd?define("highcharts/modules/accessibility",["highcharts/highcharts"],function(x){return p(x,x.Templating,x.AST,x.Legend,x.Axis,x.Color,x.SeriesRegistry,x.RendererRegistry,x.SVGRenderer,x.Point,x.Series)}):typeof tn=="object"?tn["highcharts/modules/accessibility"]=p(L._Highcharts,L._Highcharts.Templating,L._Highcharts.AST,L._Highcharts.Legend,L._Highcharts.Axis,L._Highcharts.Color,L._Highcharts.SeriesRegistry,L._Highcharts.RendererRegistry,L._Highcharts.SVGRenderer,L._Highcharts.Point,L._Highcharts.Series):L.Highcharts=p(L.Highcharts,L.Highcharts.Templating,L.Highcharts.AST,L.Highcharts.Legend,L.Highcharts.Axis,L.Highcharts.Color,L.Highcharts.SeriesRegistry,L.Highcharts.RendererRegistry,L.Highcharts.SVGRenderer,L.Highcharts.Point,L.Highcharts.Series)})(typeof window>"u"?tn:window,(L,p,x,S,j,q,it,xt,Tt,$t,pe)=>(()=>{"use strict";let Et;var mt,Ut,Le,Ye,Ii={660:m=>{m.exports=x},532:m=>{m.exports=j},620:m=>{m.exports=q},632:m=>{m.exports=S},260:m=>{m.exports=$t},608:m=>{m.exports=xt},540:m=>{m.exports=Tt},820:m=>{m.exports=pe},512:m=>{m.exports=it},984:m=>{m.exports=p},944:m=>{m.exports=L}},oi={};function yt(m){var a=oi[m];if(a!==void 0)return a.exports;var d=oi[m]={exports:{}};return Ii[m](d,d.exports,yt),d.exports}yt.n=m=>{var a=m&&m.__esModule?()=>m.default:()=>m;return yt.d(a,{a}),a},yt.d=(m,a)=>{for(var d in a)yt.o(a,d)&&!yt.o(m,d)&&Object.defineProperty(m,d,{enumerable:!0,get:a[d]})},yt.o=(m,a)=>Object.prototype.hasOwnProperty.call(m,a);var $e={};yt.d($e,{default:()=>Gr});var Gt=yt(944),W=yt.n(Gt);let{doc:ke,win:oe}=W(),{css:Ue}=W(),ai=oe.EventTarget&&new oe.EventTarget||"none";function Js(m){if(typeof oe.MouseEvent=="function")return new oe.MouseEvent(m.type,m);if(ke.createEvent){let a=ke.createEvent("MouseEvent");if(a.initMouseEvent)return a.initMouseEvent(m.type,m.bubbles,m.cancelable,m.view||oe,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget),a}return li(m.type)}function li(m,a,d){let f=a||{x:0,y:0};if(typeof oe.MouseEvent=="function")return new oe.MouseEvent(m,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:d||ai,view:oe,detail:m==="click"?1:0,screenX:f.x,screenY:f.y,clientX:f.x,clientY:f.y});if(ke.createEvent){let v=ke.createEvent("MouseEvent");if(v.initMouseEvent)return v.initMouseEvent(m,!0,!0,oe,m==="click"?1:0,f.x,f.y,f.x,f.y,!1,!1,!1,!1,0,null),v}return{type:m}}let Rt={addClass:function(m,a){m.classList?m.classList.add(a):0>m.className.indexOf(a)&&(m.className+=" "+a)},cloneMouseEvent:Js,cloneTouchEvent:function(m){let a=f=>{let v=[];for(let E=0;E<f.length;++E){let A=f.item(E);A&&v.push(A)}return v};if(typeof oe.TouchEvent=="function"){let f=new oe.TouchEvent(m.type,{touches:a(m.touches),targetTouches:a(m.targetTouches),changedTouches:a(m.changedTouches),ctrlKey:m.ctrlKey,shiftKey:m.shiftKey,altKey:m.altKey,metaKey:m.metaKey,bubbles:m.bubbles,cancelable:m.cancelable,composed:m.composed,detail:m.detail,view:m.view});return m.defaultPrevented&&f.preventDefault(),f}let d=Js(m);return d.touches=m.touches,d.changedTouches=m.changedTouches,d.targetTouches=m.targetTouches,d},escapeStringForHTML:function(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(m){return ke.getElementById(m)},getFakeMouseEvent:li,getHeadingTagNameForElement:function(m){let a=E=>"h"+Math.min(6,parseInt(E.slice(1),10)+1),d=E=>/^H[1-6]$/i.test(E),f=E=>{let A=E;for(;A=A.previousSibling;){let C=A.tagName||"";if(d(C))return C}return""},v=E=>{let A=f(E);if(A)return a(A);let C=E.parentElement;if(!C)return"h6";let D=C.tagName;return d(D)?a(D):v(C)};return v(m)},removeChildNodes:function(m){for(;m.lastChild;)m.removeChild(m.lastChild)},removeClass:function(m,a){m.classList?m.classList.remove(a):m.className=m.className.replace(RegExp(a,"g"),"")},removeElement:function(m){m&&m.parentNode&&m.parentNode.removeChild(m)},reverseChildNodes:function(m){let a=m.childNodes.length;for(;a--;)m.appendChild(m.childNodes[a])},simulatedEventTarget:ai,stripHTMLTagsFromString:function(m,a=!1){return typeof m=="string"?a?m.replace(/<\/?[^>]+(>|$)/g,""):m.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):m},visuallyHideElement:function(m){Ue(m,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}};var hi=yt(984),ci=yt.n(hi);let{format:an}=ci(),{getNestedProperty:Fi,pick:De}=W();(function(m){function a(f,v,E){let A=(G,X)=>{let V=G.slice(X||0),$=V.indexOf("{"),_=V.indexOf("}");if($>-1&&_>$)return{statement:V.substring($+1,_),begin:X+$+1,end:X+_}},C=[],D,B,I=0;do D=A(f,I),(B=f.substring(I,D&&D.begin-1)).length&&C.push({value:B,type:"constant"}),D&&C.push({value:D.statement,type:"statement"}),I=D?D.end+1:I+1;while(D);return C.forEach(G=>{G.type==="statement"&&(G.value=function(X,V){let $,_,ut=X.indexOf("#each("),ct=X.indexOf("#plural("),wt=X.indexOf("["),ft=X.indexOf("]");if(ut>-1){let ot=X.slice(ut).indexOf(")")+ut,bt=X.substring(0,ut),At=X.substring(ot+1),Ht=X.substring(ut+6,ot).split(","),Wt=Number(Ht[1]),Ge;if(_="",$=Fi(Ht[0],V)){Ge=(Wt=isNaN(Wt)?$.length:Wt)<0?$.length+Wt:Math.min(Wt,$.length);for(let ee=0;ee<Ge;++ee)_+=bt+$[ee]+At}return _.length?_:""}if(ct>-1){var nt;let ot=X.slice(ct).indexOf(")")+ct,bt=X.substring(ct+8,ot).split(",");switch(Number(Fi(bt[0],V))){case 0:_=De(bt[4],bt[1]);break;case 1:_=De(bt[2],bt[1]);break;case 2:_=De(bt[3],bt[1]);break;default:_=bt[1]}return _?(nt=_).trim&&nt.trim()||nt.replace(/^\s+|\s+$/g,""):""}if(wt>-1){let ot,bt=X.substring(0,wt),At=Number(X.substring(wt+1,ft));return $=Fi(bt,V),!isNaN(At)&&$&&(At<0?(ot=$[$.length+At])===void 0&&(ot=$[0]):(ot=$[At])===void 0&&(ot=$[$.length-1])),ot!==void 0?ot:""}return"{"+X+"}"}(G.value,v))}),an(C.reduce((G,X)=>G+X.value,""),v,E)}function d(f,v){let E=f.split("."),A=this.options.lang,C=0;for(;C<E.length;++C)A=A&&A[E[C]];return typeof A=="string"?a(A,v,this):""}m.compose=function(f){let v=f.prototype;v.langFormat||(v.langFormat=d)},m.i18nFormat=a})(mt||(mt={}));let Ri=mt,{doc:tr}=W(),{stripHTMLTagsFromString:di}=Rt,{defined:Be,find:ns,fireEvent:er}=W();function ir(m){if(m.points&&m.points.length){let a=ns(m.points,d=>!!d.graphic);return a&&a.graphic&&a.graphic.element}}function ln(m){let a=ir(m);return a&&a.parentNode||m.graph&&m.graph.element||m.group&&m.group.element}let It={fireEventOnWrappedOrUnwrappedElement:function m(a,d){let f=d.type,v=a.hcEvents;tr.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(d):a.fireEvent(f,d):v&&v[f]?er(a,f,d):a.element&&m(a.element,d)},getChartTitle:function(m){return di(m.options.title.text||m.langFormat("accessibility.defaultChartTitle",{chart:m}),m.renderer.forExport)},getAxisDescription:function(m){return m&&(m.options.accessibility?.description||m.axisTitle?.textStr||m.options.id||m.categories&&"categories"||m.dateTime&&"Time"||"values")},getAxisRangeDescription:function(m){let a=m.options||{};return a.accessibility&&a.accessibility.rangeDescription!==void 0?a.accessibility.rangeDescription:m.categories?function(d){let f=d.chart;return d.dataMax&&d.dataMin?f.langFormat("accessibility.axis.rangeCategories",{chart:f,axis:d,numCategories:d.dataMax-d.dataMin+1}):""}(m):m.dateTime&&(m.min===0||m.dataMin===0)?function(d){let f=d.chart,v={},E=d.dataMin||d.min||0,A=d.dataMax||d.max||0,C="Seconds";v.Seconds=(A-E)/1e3,v.Minutes=v.Seconds/60,v.Hours=v.Minutes/60,v.Days=v.Hours/24,["Minutes","Hours","Days"].forEach(function(B){v[B]>2&&(C=B)});let D=v[C].toFixed(C!=="Seconds"&&C!=="Minutes"?1:0);return f.langFormat("accessibility.axis.timeRange"+C,{chart:f,axis:d,range:D.replace(".0","")})}(m):function(d){let f=d.chart,v=f.options,E=v&&v.accessibility&&v.accessibility.screenReaderSection.axisRangeDateFormat||"",A={min:d.dataMin||d.min||0,max:d.dataMax||d.max||0},C=function(D){return d.dateTime?f.time.dateFormat(E,A[D]):A[D].toString()};return f.langFormat("accessibility.axis.rangeFromTo",{chart:f,axis:d,rangeFrom:C("min"),rangeTo:C("max")})}(m)},getPointFromXY:function(m,a,d){let f=m.length,v;for(;f--;)if(v=ns(m[f].points||[],function(E){return E.x===a&&E.y===d}))return v},getSeriesFirstPointElement:ir,getSeriesFromName:function(m,a){return a?(m.series||[]).filter(function(d){return d.name===a}):m.series},getSeriesA11yElement:ln,unhideChartElementFromAT:function m(a,d){d.setAttribute("aria-hidden",!1),d!==a.renderTo&&d.parentNode&&d.parentNode!==tr.body&&(Array.prototype.forEach.call(d.parentNode.childNodes,function(f){f.hasAttribute("aria-hidden")||f.setAttribute("aria-hidden",!0)}),m(a,d.parentNode))},hideSeriesFromAT:function(m){let a=ln(m);a&&a.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(m){let a=m.series.xAxis,d=m.series.yAxis,f=a&&a.scrollbar?a:d,v=f&&f.scrollbar;if(v&&Be(v.to)&&Be(v.from)){let E=v.to-v.from,A=function(C,D){if(!Be(C.dataMin)||!Be(C.dataMax))return 0;let B=C.toPixels(C.dataMin),I=C.toPixels(C.dataMax),G=C.coll==="xAxis"?"x":"y";return(C.toPixels(D[G]||0)-B)/(I-B)}(f,m);v.updatePosition(A-E/2,A+E/2),er(v,"changed",{from:v.from,to:v.to,trigger:"scrollbar",DOMEvent:null})}}},{doc:sr}=W(),{removeElement:rr}=Rt,nr=class{constructor(){this.elements=[]}createElement(){let m=sr.createElement.apply(sr,arguments);return this.elements.push(m),m}removeElement(m){rr(m),this.elements.splice(this.elements.indexOf(m),1)}destroyCreatedElements(){this.elements.forEach(function(m){rr(m)}),this.elements=[]}},{addEvent:st}=W(),zi=class{constructor(){this.eventRemovers=[]}addEvent(){let m=st.apply(W(),arguments);return this.eventRemovers.push({element:arguments[0],remover:m}),m}removeEvent(m){let a=this.eventRemovers.map(d=>d.remover).indexOf(m);this.eventRemovers[a].remover(),this.eventRemovers.splice(a,1)}removeAddedEvents(){this.eventRemovers.map(m=>m.remover).forEach(m=>m()),this.eventRemovers=[]}},{fireEventOnWrappedOrUnwrappedElement:os}=It,{getFakeMouseEvent:as}=Rt,ye=class{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(m,a){this.chart=m,this.eventProvider=new zi,this.domElementProvider=new nr,this.proxyProvider=a,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(m,a,d,f){return this.eventProvider.addEvent(m,a,d,f)}createElement(m,a){return this.domElementProvider.createElement(m,a)}fakeClickEvent(m){os(m,as("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}},{find:ls}=W(),ge=class{constructor(m,a){this.chart=m,this.keyCodeMap=a.keyCodeMap||[],this.validate=a.validate,this.init=a.init,this.terminate=a.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(m){let a=m.which||m.keyCode,d=this.response.noHandler,f=ls(this.keyCodeMap,function(v){return v[0].indexOf(a)>-1});return f?d=f[1].call(this,a,m):a===9&&(d=this.response[m.shiftKey?"prev":"next"]),d}},{unhideChartElementFromAT:or,getChartTitle:Ne}=It,{doc:Fo}=W(),{stripHTMLTagsFromString:hn}=Rt,Ie=class extends ye{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let m=this.chart,a="highcharts-title-"+m.index,d=hn(m.langFormat("accessibility.svgContainerTitle",{chartTitle:Ne(m)}));if(d.length){let f=this.svgTitleElement=this.svgTitleElement||Fo.createElementNS("http://www.w3.org/2000/svg","title");f.textContent=d,f.id=a,m.renderTo.insertBefore(f,m.renderTo.firstChild)}}setSVGContainerLabel(){let m=this.chart,a=m.langFormat("accessibility.svgContainerLabel",{chartTitle:Ne(m)});m.renderer.box&&a.length&&m.renderer.box.setAttribute("aria-label",a)}setGraphicContainerAttrs(){let m=this.chart,a=m.langFormat("accessibility.graphicContainerLabel",{chartTitle:Ne(m)});a.length&&m.container.setAttribute("aria-label",a)}setRenderToAttrs(){let m=this.chart,a=m.options.accessibility.landmarkVerbosity!=="disabled",d=m.langFormat("accessibility.chartContainerLabel",{title:Ne(m),chart:m});d&&(m.renderTo.setAttribute("role",a?"region":"group"),m.renderTo.setAttribute("aria-label",d))}makeCreditsAccessible(){let m=this.chart,a=m.credits;a&&(a.textStr&&a.element.setAttribute("aria-label",m.langFormat("accessibility.credits",{creditsStr:hn(a.textStr,m.renderer.forExport)})),or(m,a.element))}getKeyboardNavigation(){let m=this.chart;return new ge(m,{keyCodeMap:[],validate:function(){return!0},init:function(){let a=m.accessibility;a&&a.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}},{addEvent:Ro,pick:Pt}=W();(function(m){let a=["x","y","transform","width","height","r","d","stroke-width"];function d(){let A=this.focusElement,C=this.options.accessibility.keyboardNavigation.focusBorder;A&&(A.removeFocusBorder(),C.enabled&&A.addFocusBorder(C.margin,{stroke:C.style.color,strokeWidth:C.style.lineWidth,r:C.style.borderRadius}))}function f(A,C){let D=this.options.accessibility.keyboardNavigation.focusBorder,B=C||A.element;B&&B.focus&&(B.hcEvents&&B.hcEvents.focusin||Ro(B,"focusin",function(){}),B.focus(),D.hideBrowserFocusOutline&&(B.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=A,this.renderFocusBorder()}function v(A,C){this.focusBorder&&this.removeFocusBorder();let D=this.getBBox(),B=Pt(A,3),I=this.parentGroup,G=this.scaleX||I&&I.scaleX,X=this.scaleY||I&&I.scaleY,V=(G?!X:X)?Math.abs(G||X||1):(Math.abs(G||1)+Math.abs(X||1))/2,$=this.renderer.fontMetrics(this).h;D.x+=this.translateX?this.translateX:0,D.y+=this.translateY?this.translateY:0;let _=D.x-B,ut=D.y-B,ct=D.width+2*B,wt=D.height+2*B,ft=!!this.text;if(this.element.nodeName==="text"||ft){let nt,ot,bt=!!this.rotation,At=ft?{x:bt?1:0,y:0}:(nt=0,ot=0,this.attr("text-anchor")==="middle"?nt=ot=.5:this.rotation?nt=.25:ot=.75,{x:nt,y:ot}),Ht=+this.attr("x"),Wt=+this.attr("y");if(isNaN(Ht)||(_=Ht-D.width*At.x-B),isNaN(Wt)||(ut=Wt-(this.attr("text-anchor")==="start"?$:D.height)*At.y-B),ft&&bt){let Ge=ct;ct=wt,wt=Ge,isNaN(Ht)||(_=Ht-D.height*At.x-B),isNaN(Wt)||(ut=Wt-D.width*At.y-B)}}this.focusBorder=this.renderer.rect(_,ut,ct,wt,parseInt((C&&C.r||0).toString(),10)/V).addClass("highcharts-focus-border").attr({zIndex:99}).add(I),this.renderer.styledMode||this.focusBorder.attr({stroke:C&&C.stroke,"stroke-width":(C&&C.strokeWidth||0)/V}),function(nt,...ot){nt.focusBorderUpdateHooks||(nt.focusBorderUpdateHooks={},a.forEach(bt=>{let At=bt+"Setter",Ht=nt[At]||nt._defaultSetter;nt.focusBorderUpdateHooks[At]=Ht,nt[At]=function(){let Wt=Ht.apply(nt,arguments);return nt.addFocusBorder.apply(nt,ot),Wt}}))}(this,A,C),function(nt){if(nt.focusBorderDestroyHook)return;let ot=nt.destroy;nt.destroy=function(){return nt.focusBorder&&nt.focusBorder.destroy&&nt.focusBorder.destroy(),ot.apply(nt,arguments)},nt.focusBorderDestroyHook=ot}(this)}function E(){var A;A=this,A.focusBorderUpdateHooks&&(Object.keys(A.focusBorderUpdateHooks).forEach(C=>{let D=A.focusBorderUpdateHooks[C];D===A._defaultSetter?delete A[C]:A[C]=D}),delete A.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}m.compose=function(A,C){let D=A.prototype,B=C.prototype;D.renderFocusBorder||(D.renderFocusBorder=d,D.setFocusToElement=f),B.addFocusBorder||(B.addFocusBorder=v,B.removeFocusBorder=E)}})(Ut||(Ut={}));let zo=Ut;var Ho=yt(660),ar=yt.n(Ho);let{doc:cn}=W(),{addClass:lr,visuallyHideElement:Wo}=Rt,{attr:dn}=W(),hs=class{constructor(m,a){this.chart=m,this.domElementProvider=new nr,this.announceRegion=this.addAnnounceRegion(a)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(m){ar().setElementHTML(this.announceRegion,m),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=ar().emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(m){let a=this.chart.announcerContainer||this.createAnnouncerContainer(),d=this.domElementProvider.createElement("div");return dn(d,{"aria-hidden":!1,"aria-live":m,"aria-atomic":!0}),this.chart.styledMode?lr(d,"highcharts-visually-hidden"):Wo(d),a.appendChild(d),d}createAnnouncerContainer(){let m=this.chart,a=cn.createElement("div");return dn(a,{"aria-hidden":!1,class:"highcharts-announcer-container"}),a.style.position="relative",m.renderTo.insertBefore(a,m.renderTo.firstChild),m.announcerContainer=a,a}},{escapeStringForHTML:ui,stripHTMLTagsFromString:hr}=Rt;function ae(m){return(m.annotations||[]).reduce((a,d)=>(d.options&&d.options.visible!==!1&&(a=a.concat(d.labels)),a),[])}function Hi(m){return m.options&&m.options.accessibility&&m.options.accessibility.description||m.graphic&&m.graphic.text&&m.graphic.text.textStr||""}function un(m){let a=m.options&&m.options.accessibility&&m.options.accessibility.description;if(a)return a;let d=m.chart,f=Hi(m),v=m.points,E=I=>I.graphic&&I.graphic.element&&I.graphic.element.getAttribute("aria-label")||"",A=v.filter(I=>!!I.graphic).map(I=>{let G=I.accessibility&&I.accessibility.valueDescription||E(I),X=I&&I.series.name||"";return(X?X+", ":"")+"data point "+G}).filter(I=>!!I),C=A.length,D=C>1?"MultiplePoints":C?"SinglePoint":"NoPoints",B={annotationText:f,annotation:m,numPoints:C,annotationPoint:A[0],additionalAnnotationPoints:A.slice(1)};return d.langFormat("accessibility.screenReaderSection.annotations.description"+D,B)}function Jt(m){return ae(m).map(a=>{let d=ui(hr(un(a),m.renderer.forExport));return d?`<li>${d}</li>`:""})}let cr={getAnnotationsInfoHTML:function(m){let a=m.annotations;return a&&a.length?`<ul style="list-style-type: none">${Jt(m).join(" ")}</ul>`:""},getAnnotationLabelDescription:un,getAnnotationListItems:Jt,getPointAnnotationTexts:function(m){let a=ae(m.series.chart).filter(d=>d.points.indexOf(m)>-1);return a.length?a.map(d=>`${Hi(d)}`):[]}},{getAnnotationsInfoHTML:zt}=cr,{getAxisDescription:pn,getAxisRangeDescription:jo,getChartTitle:pi,unhideChartElementFromAT:Xo}=It,{format:se}=ci(),{doc:Go}=W(),{addClass:gn,getElement:cs,getHeadingTagNameForElement:Vo,stripHTMLTagsFromString:ds,visuallyHideElement:mn}=Rt,{attr:fn,pick:Yo,replaceNested:dr}=W();function ur(m){return dr(m,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}let Kt=class extends ye{constructor(){super(...arguments),this.screenReaderSections={}}init(){let m=this.chart,a=this;this.initRegionsDefinitions(),this.addEvent(m,"aftergetTableAST",function(d){a.onDataTableCreated(d)}),this.addEvent(m,"afterViewData",function(d){d.wasHidden&&(a.dataTableDiv=d.element,setTimeout(function(){a.focusDataTable()},300))}),this.addEvent(m,"afterHideData",function(){a.viewDataTableButton&&a.viewDataTableButton.setAttribute("aria-expanded","false")}),m.exporting&&this.addEvent(m,"afterPrint",function(){a.updateAllScreenReaderSections()}),this.announcer=new hs(m,"assertive")}initRegionsDefinitions(){let m=this,a=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(d){let f=a.screenReaderSection.beforeChartFormatter;return f?f(d):m.defaultBeforeChartFormatter(d)},insertIntoDOM:function(d,f){f.renderTo.insertBefore(d,f.renderTo.firstChild)},afterInserted:function(){m.sonifyButtonId!==void 0&&m.initSonifyButton(m.sonifyButtonId),m.dataTableButtonId!==void 0&&m.initDataTableButton(m.dataTableButtonId)}},after:{element:null,buildContent:function(d){let f=a.screenReaderSection.afterChartFormatter;return f?f(d):m.defaultAfterChartFormatter()},insertIntoDOM:function(d,f){f.renderTo.insertBefore(d,f.container.nextSibling)},afterInserted:function(){m.chart.accessibility&&a.keyboardNavigation.enabled&&m.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){let m=this;Object.keys(this.screenReaderSections).forEach(function(a){m.updateScreenReaderSection(a)})}getLinkedDescriptionElement(){let m=this.chart.options.accessibility.linkedDescription;if(!m)return;if(typeof m!="string")return m;let a=se(m,this.chart),d=Go.querySelectorAll(a);if(d.length===1)return d[0]}setLinkedDescriptionAttrs(){let m=this.linkedDescriptionElement;m&&(m.setAttribute("aria-hidden","true"),gn(m,"highcharts-linked-description"))}updateScreenReaderSection(m){let a=this.chart,d=this.screenReaderSections[m],f=d.buildContent(a),v=d.element=d.element||this.createElement("div"),E=v.firstChild||this.createElement("div");f?(this.setScreenReaderSectionAttribs(v,m),ar().setElementHTML(E,f),v.appendChild(E),d.insertIntoDOM(v,a),a.styledMode?gn(E,"highcharts-visually-hidden"):mn(E),Xo(a,E),d.afterInserted&&d.afterInserted()):(v.parentNode&&v.parentNode.removeChild(v),d.element=null)}setScreenReaderSectionAttribs(m,a){let d=this.chart,f=d.langFormat("accessibility.screenReaderSection."+a+"RegionLabel",{chart:d,chartTitle:pi(d)});fn(m,{id:`highcharts-screen-reader-region-${a}-${d.index}`,"aria-label":f||void 0}),m.style.position="relative",f&&m.setAttribute("role",d.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){let m=this.chart,a=m.options.accessibility.screenReaderSection.beforeChartFormat;if(!a)return"";let d=this.getAxesDescription(),f=m.sonify&&m.options.sonification&&m.options.sonification.enabled,v="highcharts-a11y-sonify-data-btn-"+m.index,E="hc-linkto-highcharts-data-table-"+m.index,A=zt(m),C=m.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:m}),D={headingTagName:Vo(m.renderTo),chartTitle:pi(m),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:d.xAxis,yAxisDescription:d.yAxis,playAsSoundButton:f?this.getSonifyButtonText(v):"",viewTableButton:m.getCSV?this.getDataTableButtonText(E):"",annotationsTitle:A?C:"",annotationsList:A},B=Ri.i18nFormat(a,D,m);return this.dataTableButtonId=E,this.sonifyButtonId=v,ur(B)}defaultAfterChartFormatter(){let m=this.chart,a=m.options.accessibility.screenReaderSection.afterChartFormat;if(!a)return"";let d={endOfChartMarker:this.getEndOfChartMarkerText()};return ur(Ri.i18nFormat(a,d,m))}getLinkedDescription(){let m=this.linkedDescriptionElement;return ds(m&&m.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let m=this.chart.options,a=m.caption,d=a&&a.text,f=this.getLinkedDescription();return m.accessibility.description||f||d||""}getTypeDescriptionText(){let m=this.chart;return m.types?m.options.accessibility.typeDescription||function(a,d){let f=d[0],v=a.series&&a.series[0]||{},E=a.mapView&&a.mapView.geoMap&&a.mapView.geoMap.title,A={numSeries:a.series.length,numPoints:v.points&&v.points.length,chart:a,mapTitle:E};return f?f==="map"||f==="tiledwebmap"?A.mapTitle?a.langFormat("accessibility.chartTypes.mapTypeDescription",A):a.langFormat("accessibility.chartTypes.unknownMap",A):a.types.length>1?a.langFormat("accessibility.chartTypes.combinationChart",A):function(C,D,B){let I=D[0],G=C.langFormat("accessibility.seriesTypeDescriptions."+I,B),X=C.series&&C.series.length<2?"Single":"Multiple";return(C.langFormat("accessibility.chartTypes."+I+X,B)||C.langFormat("accessibility.chartTypes.default"+X,B))+(G?" "+G:"")}(a,d,A):a.langFormat("accessibility.chartTypes.emptyChart",A)}(m,m.types):""}getDataTableButtonText(m){let a=this.chart;return'<button id="'+m+'">'+a.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:a,chartTitle:pi(a)})+"</button>"}getSonifyButtonText(m){let a=this.chart;return a.options.sonification&&a.options.sonification.enabled===!1?"":'<button id="'+m+'">'+a.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:a,chartTitle:pi(a)})+"</button>"}getSubtitleText(){let m=this.chart.options.subtitle;return ds(m&&m.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let m=cs(`highcharts-end-of-chart-marker-${this.chart.index}`);if(m)return m.outerHTML;let a=this.chart,d=a.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:a});return'<div id="highcharts-end-of-chart-marker-'+a.index+'">'+d+"</div>"}onDataTableCreated(m){let a=this.chart;if(a.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let d=m.tree.attributes||{};d.tabindex=-1,d.summary=a.langFormat("accessibility.table.tableSummary",{chart:a}),m.tree.attributes=d}}focusDataTable(){let m=this.dataTableDiv,a=m&&m.getElementsByTagName("table")[0];a&&a.focus&&a.focus()}initSonifyButton(m){let a=this.sonifyButton=cs(m),d=this.chart,f=v=>{a&&(a.setAttribute("aria-hidden","true"),a.setAttribute("aria-label","")),v.preventDefault(),v.stopPropagation();let E=d.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:d});this.announcer.announce(E),setTimeout(()=>{a&&(a.removeAttribute("aria-hidden"),a.removeAttribute("aria-label")),d.sonify&&d.sonify()},1e3)};a&&d&&(a.setAttribute("tabindex",-1),a.onclick=function(v){(d.options.accessibility&&d.options.accessibility.screenReaderSection.onPlayAsSoundClick||f).call(this,v,d)})}initDataTableButton(m){let a=this.viewDataTableButton=cs(m),d=this.chart,f=m.replace("hc-linkto-","");a&&(fn(a,{tabindex:-1,"aria-expanded":!!cs(f)}),a.onclick=d.options.accessibility.screenReaderSection.onViewDataTableClick||function(){d.viewData()})}getAxesDescription(){let m=this.chart,a=function(C,D){let B=m[C];return B.length>1||B[0]&&Yo(B[0].options.accessibility&&B[0].options.accessibility.enabled,D)},d=!!m.types&&0>m.types.indexOf("map")&&0>m.types.indexOf("treemap")&&0>m.types.indexOf("tilemap"),f=!!m.hasCartesianSeries,v=a("xAxis",!m.angular&&f&&d),E=a("yAxis",f&&d),A={};return v&&(A.xAxis=this.getAxisDescriptionText("xAxis")),E&&(A.yAxis=this.getAxisDescriptionText("yAxis")),A}getAxisDescriptionText(m){let a=this.chart,d=a[m];return a.langFormat("accessibility.axis."+m+"Description"+(d.length>1?"Plural":"Singular"),{chart:a,names:d.map(function(f){return pn(f)}),ranges:d.map(function(f){return jo(f)}),numAxes:d.length})}destroy(){this.announcer&&this.announcer.destroy()}},{attr:bn}=W(),{getChartTitle:$o,unhideChartElementFromAT:Uo}=It,{getFakeMouseEvent:us}=Rt;function ps(m){return m.exportSVGElements&&m.exportSVGElements[0]}class gs extends ye{init(){let a=this.chart,d=this;this.addEvent(a,"exportMenuShown",function(){d.onMenuShown()}),this.addEvent(a,"exportMenuHidden",function(){d.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){let a=this.chart.exportContextMenu;a&&a.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){let a=this.chart,d=a.exportContextMenu;d&&(this.addAccessibleContextMenuAttribs(),Uo(a,d)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(a){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",a)}onChartRender(){let a=this.chart,d=a.focusElement,f=a.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&d&&d===a.exportingGroup&&(d.focusBorder?a.setFocusToElement(d,this.exportButtonProxy.innerElement):f&&f.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let a=this.chart,d=this.proxyProvider,f=ps(a);(function(v){let E=v.options.exporting,A=ps(v);return!!(E&&E.enabled!==!1&&E.accessibility&&E.accessibility.enabled&&A&&A.element)})(a)&&f&&(this.exportButtonProxy=d.addProxyElement("chartMenu",{click:f},"button",{"aria-label":a.langFormat("accessibility.exporting.menuButtonLabel",{chart:a,chartTitle:$o(a)}),"aria-expanded":!1,title:a.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){let a=this.chart,d=a.exportDivElements;if(d&&d.length){d.forEach(v=>{v&&(v.tagName!=="LI"||v.children&&v.children.length?v.setAttribute("aria-hidden","true"):v.setAttribute("tabindex",-1))});let f=d[0]&&d[0].parentNode;f&&bn(f,{"aria-hidden":void 0,"aria-label":a.langFormat("accessibility.exporting.chartMenuLabel",{chart:a}),role:"list"})}}getKeyboardNavigation(){let a=this.keyCodes,d=this.chart,f=this;return new ge(d,{keyCodeMap:[[[a.left,a.up],function(){return f.onKbdPrevious(this)}],[[a.right,a.down],function(){return f.onKbdNext(this)}],[[a.enter,a.space],function(){return f.onKbdClick(this)}]],validate:function(){return!!d.exporting&&d.options.exporting.enabled!==!1&&d.options.exporting.accessibility.enabled!==!1},init:function(){let v=f.exportButtonProxy,E=f.chart.exportingGroup;v&&E&&d.setFocusToElement(E,v.innerElement)},terminate:function(){d.hideExportMenu()}})}onKbdPrevious(a){let d=this.chart,f=d.options.accessibility,v=a.response,E=d.highlightedExportItemIx||0;for(;E--;)if(d.highlightExportItem(E))return v.success;return f.keyboardNavigation.wrapAround?(d.highlightLastExportItem(),v.success):v.prev}onKbdNext(a){let d=this.chart,f=d.options.accessibility,v=a.response;for(let E=(d.highlightedExportItemIx||0)+1;E<d.exportDivElements.length;++E)if(d.highlightExportItem(E))return v.success;return f.keyboardNavigation.wrapAround?(d.highlightExportItem(0),v.success):v.next}onKbdClick(a){let d=this.chart,f=d.exportDivElements[d.highlightedExportItemIx],v=ps(d).element;return d.openMenu?this.fakeClickEvent(f):(this.fakeClickEvent(v),d.highlightExportItem(0)),a.response.success}}(function(m){function a(){let E=ps(this);if(E){let A=E.element;A.onclick&&A.onclick(us("click"))}}function d(){let E=this.exportDivElements;E&&this.exportContextMenu&&this.openMenu&&(E.forEach(A=>{A&&A.className==="highcharts-menu-item"&&A.onmouseout&&A.onmouseout(us("mouseout"))}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function f(E){let A=this.exportDivElements&&this.exportDivElements[E],C=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(A&&A.tagName==="LI"&&!(A.children&&A.children.length)){let D=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return A.focus&&D&&A.focus(),C&&C.onmouseout&&C.onmouseout(us("mouseout")),A.onmouseover&&A.onmouseover(us("mouseover")),this.highlightedExportItemIx=E,!0}return!1}function v(){if(this.exportDivElements){let E=this.exportDivElements.length;for(;E--;)if(this.highlightExportItem(E))return!0}return!1}m.compose=function(E){let A=E.prototype;A.hideExportMenu||(A.hideExportMenu=d,A.highlightExportItem=f,A.highlightLastExportItem=v,A.showExportMenu=a)}})(gs||(gs={}));let pr=gs,{doc:ms,win:gr}=W(),{addEvent:Ko,defined:mr,fireEvent:fs}=W(),{getElement:qo,simulatedEventTarget:Ct}=Rt;class bs{constructor(a,d){this.currentModuleIx=NaN,this.modules=[],this.init(a,d)}init(a,d){let f=this.eventProvider=new zi;this.chart=a,this.components=d,this.modules=[],this.currentModuleIx=0,this.update(),f.addEvent(this.tabindexContainer,"keydown",v=>this.onKeydown(v)),f.addEvent(this.tabindexContainer,"focus",v=>this.onFocus(v)),["mouseup","touchend"].forEach(v=>f.addEvent(ms,v,E=>this.onMouseUp(E))),["mousedown","touchstart"].forEach(v=>f.addEvent(a.renderTo,v,()=>{this.isClickingChart=!0}))}update(a){let d=this.chart.options.accessibility,f=d&&d.keyboardNavigation,v=this.components;this.updateContainerTabindex(),f&&f.enabled&&a&&a.length?(this.modules=a.reduce(function(E,A){let C=v[A].getKeyboardNavigation();return E.concat(C)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let a=qo(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),a?(this.makeElementAnExitAnchor(a),this.exitAnchor=a):this.createExitAnchor()}move(a){let d=this.modules&&this.modules[this.currentModuleIx];d&&d.terminate&&d.terminate(a),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=a;let f=this.modules&&this.modules[this.currentModuleIx];if(f){if(f.validate&&!f.validate())return this.move(a);if(f.init)return f.init(a),!0}return this.currentModuleIx=0,this.exiting=!0,a>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(a){let d=this.chart,f=a.relatedTarget&&d.container.contains(a.relatedTarget),v=d.options.accessibility,E=v&&v.keyboardNavigation;if(E&&E.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!f){let A=this.getFirstValidModuleIx();A!==null&&(this.currentModuleIx=A,this.modules[A].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(a){if(delete this.isClickingChart,!this.keyboardReset&&a.relatedTarget!==Ct){let d=this.chart;if(!a.target||!d.container.contains(a.target)){let f=this.modules&&this.modules[this.currentModuleIx||0];f&&f.terminate&&f.terminate(),this.currentModuleIx=0}d.focusElement&&(d.focusElement.removeFocusBorder(),delete d.focusElement),this.keyboardReset=!0}}onKeydown(a){let d,f=a||gr.event,v=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],E=f.target;if((!E||E.nodeName!=="INPUT"||E.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,v)){let A=v.run(f);A===v.response.success?d=!0:A===v.response.prev?d=this.move(-1):A===v.response.next&&(d=this.move(1)),d&&(f.preventDefault(),f.stopPropagation())}}updateContainerTabindex(){let a,d=this.chart.options.accessibility,f=d&&d.keyboardNavigation,v=!(f&&f.enabled===!1),E=this.chart,A=E.container;E.renderTo.hasAttribute("tabindex")?(A.removeAttribute("tabindex"),a=E.renderTo):a=A,this.tabindexContainer=a;let C=a.getAttribute("tabindex");v&&!C?a.setAttribute("tabindex","0"):v||E.container.removeAttribute("tabindex")}createExitAnchor(){let a=this.chart,d=this.exitAnchor=ms.createElement("div");a.renderTo.appendChild(d),this.makeElementAnExitAnchor(d)}makeElementAnExitAnchor(a){let d=this.tabindexContainer.getAttribute("tabindex")||0;a.setAttribute("class","highcharts-exit-anchor"),a.setAttribute("tabindex",d),a.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(a)}removeExitAnchor(){if(this.exitAnchor){let a=this.eventProvider.eventRemovers.find(d=>d.element===this.exitAnchor);a&&mr(a.remover)&&this.eventProvider.removeEvent(a.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(a){let d=this.chart,f=this;this.eventProvider.addEvent(a,"focus",function(v){let E=v||gr.event,A=!(E.relatedTarget&&d.container.contains(E.relatedTarget)||f.exiting);if(d.focusElement&&delete d.focusElement,A){if(f.tabbingInBackwards=!0,f.tabindexContainer.focus(),delete f.tabbingInBackwards,E.preventDefault(),f.modules&&f.modules.length){f.currentModuleIx=f.modules.length-1;let C=f.modules[f.currentModuleIx];C&&C.validate&&!C.validate()?f.move(-1):C&&C.init(-1)}}else f.exiting=!1})}getFirstValidModuleIx(){let a=this.modules.length;for(let d=0;d<a;++d){let f=this.modules[d];if(!f.validate||f.validate())return d}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}(function(m){function a(){let f=this;fs(this,"dismissPopupContent",{},function(){f.tooltip&&f.tooltip.hide(0),f.hideExportMenu()})}function d(f){(f.which||f.keyCode)===27&&W().charts&&W().charts.forEach(v=>{v&&v.dismissPopupContent&&v.dismissPopupContent()})}m.compose=function(f){pr.compose(f);let v=f.prototype;return v.dismissPopupContent||(v.dismissPopupContent=a,Ko(ms,"keydown",d)),f}})(bs||(bs={}));let fr=bs;var _o=yt(632),br=yt.n(_o);let{animObject:Zo}=W(),{doc:Qo}=W(),{addEvent:xn,fireEvent:Jo,isNumber:ta,pick:ea,syncTimeout:ia}=W(),{getChartTitle:xs}=It,{stripHTMLTagsFromString:xr,addClass:yn,removeClass:ys}=Rt;function vs(m){let a=m.legend&&m.legend.allItems,d=m.options.legend.accessibility||{},f=m.colorAxis&&m.colorAxis.some(v=>!v.dataClasses||!v.dataClasses.length);return!!(a&&a.length&&!f&&d.enabled!==!1)}function le(m,a){let d=a.legendItem||{};for(let f of(a.setState(m?"hover":"",!0),["group","label","symbol"])){let v=d[f],E=v&&v.element||v;E&&Jo(E,m?"mouseover":"mouseout")}}class Ke extends ye{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let a=this;this.recreateProxies(),this.addEvent(br(),"afterScroll",function(){this.chart===a.chart&&(a.proxyProvider.updateGroupProxyElementPositions("legend"),a.updateLegendItemProxyVisibility(),a.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(a.highlightedLegendItemIx))}),this.addEvent(br(),"afterPositionItem",function(d){this.chart===a.chart&&this.chart.renderer&&a.updateProxyPositionForItem(d.item)}),this.addEvent(br(),"afterRender",function(){this.chart===a.chart&&this.chart.renderer&&a.recreateProxies()&&ia(()=>a.proxyProvider.updateGroupProxyElementPositions("legend"),Zo(ea(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let a,d=this.chart,f=d.legend,v=f.allItems||[],E=f.currentPage||1,A=f.clipHeight||0;v.forEach(C=>{if(C.a11yProxyElement){let D=f.pages&&f.pages.length,B=C.a11yProxyElement.element,I=!1;if(a=C.legendItem||{},D){let G=a.pageIx||0;I=(a.y||0)+(a.label?Math.round(a.label.getBBox().height):0)-f.pages[G]>A||G!==E-1}I?d.styledMode?yn(B,"highcharts-a11y-invisible"):B.style.visibility="hidden":(ys(B,"highcharts-a11y-invisible"),B.style.visibility="")}})}onChartRender(){vs(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(a){let d=this.chart,f=d.legend,v=(f.currentPage||1)+a,E=f.pages||[];if(v>0&&v<=E.length){let A=0;for(let C of f.allItems)((C.legendItem||{}).pageIx||0)+1===v&&d.highlightLegendItem(A)&&(this.highlightedLegendItemIx=A),++A}}updateProxyPositionForItem(a){a.a11yProxyElement&&a.a11yProxyElement.refreshPosition()}recreateProxies(){let a=Qo.activeElement,d=this.proxyGroup,f=a&&d&&d.contains(a);return this.removeProxies(),!!vs(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),f&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let a=this.chart,d=xr((a.legend&&a.legend.options.title&&a.legend.options.title.text||"").replace(/<br ?\/?>/g," "),a.renderer.forExport),f=a.langFormat("accessibility.legend.legendLabel"+(d?"":"NoTitle"),{chart:a,legendTitle:d,chartTitle:xs(a)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":f})}addLegendProxyGroup(){let a=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:a})}proxyLegendItems(){let a,d=this;((this.chart.legend||{}).allItems||[]).forEach(f=>{(a=f.legendItem||{}).label&&a.label.element&&d.proxyLegendItem(f)})}proxyLegendItem(a){let d=a.legendItem||{};if(!d.label||!d.group)return;let f=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:xr(a.name,this.chart.renderer.forExport),item:a}),v={tabindex:-1,"aria-pressed":a.visible,"aria-label":f},E=d.group.div?d.label:d.group;a.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:d.label,visual:E.element},"button",v)}getKeyboardNavigation(){let a=this.keyCodes,d=this,f=this.chart;return new ge(f,{keyCodeMap:[[[a.left,a.right,a.up,a.down],function(v){return d.onKbdArrowKey(this,v)}],[[a.enter,a.space],function(){return d.onKbdClick(this)}],[[a.pageDown,a.pageUp],function(v){let E=v===a.pageDown?1:-1;return d.highlightAdjacentLegendPage(E),this.response.success}]],validate:function(){return d.shouldHaveLegendNavigation()},init:function(){f.highlightLegendItem(0),d.highlightedLegendItemIx=0},terminate:function(){d.highlightedLegendItemIx=-1,f.legend.allItems.forEach(v=>le(!1,v))}})}onKbdArrowKey(a,d){let{keyCodes:{left:f,up:v},highlightedLegendItemIx:E,chart:A}=this,C=A.legend.allItems.length,D=A.options.accessibility.keyboardNavigation.wrapAround,B=d===f||d===v?-1:1;return A.highlightLegendItem(E+B)?this.highlightedLegendItemIx+=B:D&&C>1&&(this.highlightedLegendItemIx=B>0?0:C-1,A.highlightLegendItem(this.highlightedLegendItemIx)),a.response.success}onKbdClick(a){let d=this.chart.legend.allItems[this.highlightedLegendItemIx];return d&&d.a11yProxyElement&&d.a11yProxyElement.click(),a.response.success}shouldHaveLegendNavigation(){if(!vs(this.chart))return!1;let a=this.chart,d=(a.options.legend||{}).accessibility||{};return!!(a.legend.display&&d.keyboardNavigation&&d.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}(function(m){function a(f){let v=this.legend.allItems,E=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,A=v[f],C=A?.legendItem||{};if(A){ta(E)&&v[E]&&le(!1,v[E]),function(I,G){let X=(I.allItems[G].legendItem||{}).pageIx,V=I.currentPage;X!==void 0&&X+1!==V&&I.scroll(1+X-V)}(this.legend,f);let D=C.label,B=A.a11yProxyElement&&A.a11yProxyElement.innerElement;return D&&D.element&&B&&this.setFocusToElement(D,B),le(!0,A),!0}return!1}function d(f){let v=this.chart.options.accessibility,E=f.item;v.enabled&&E&&E.a11yProxyElement&&E.a11yProxyElement.innerElement.setAttribute("aria-pressed",f.visible?"true":"false")}m.compose=function(f,v){let E=f.prototype;E.highlightLegendItem||(E.highlightLegendItem=a,xn(v,"afterColorizeItem",d))}})(Ke||(Ke={}));let vn=Ke;var sa=yt(532),wn=yt.n(sa);let{isTouchDevice:ws}=W(),{addEvent:Ae,merge:kn,pick:yr}=W(),An=[];function En(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function gi(){let m,a,d,f=this.legend,v=this.navigator;if(v){m=f&&f.options,a=v.xAxis,d=v.yAxis;let{scrollbarHeight:E,scrollButtonSize:A}=v;this.inverted?(v.left=v.opposite?this.chartWidth-E-v.height:this.spacing[3]+E,v.top=this.plotTop+A):(v.left=yr(a.left,this.plotLeft+A),v.top=v.navigatorOptions.top||this.chartHeight-v.height-E-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(m&&m.verticalAlign==="bottom"&&m.layout!=="proximate"&&m.enabled&&!m.floating?f.legendHeight+yr(m.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),a&&d&&(this.inverted?a.options.left=d.options.left=v.left:a.options.top=d.options.top=v.top,a.setAxisSize(),d.setAxisSize())}}function ra(m){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new Et(this),yr(m.redraw,!0)&&this.redraw(m.animation))}function ks(){let m=this.options;(m.navigator.enabled||m.scrollbar.enabled)&&(this.scroller=this.navigator=new Et(this))}function na(){let m=this.options,a=m.navigator,d=m.rangeSelector;if((a&&a.enabled||d&&d.enabled)&&(!ws&&this.zooming.type==="x"||ws&&this.zooming.pinchType==="x"))return!1}function oa(m){let a=m.navigator;if(a&&m.xAxis[0]){let d=m.xAxis[0].getExtremes();a.render(d.min,d.max)}}function aa(m){let a=m.options.navigator||{},d=m.options.scrollbar||{};!this.navigator&&!this.scroller&&(a.enabled||d.enabled)&&(kn(!0,this.options.navigator,a),kn(!0,this.options.scrollbar,d),delete m.options.navigator,delete m.options.scrollbar)}let vr={compose:function(m,a){if(W().pushUnique(An,m)){let d=m.prototype;Et=a,d.callbacks.push(oa),Ae(m,"afterAddSeries",En),Ae(m,"afterSetChartSize",gi),Ae(m,"afterUpdate",ra),Ae(m,"beforeRender",ks),Ae(m,"beforeShowResetZoom",na),Ae(m,"update",aa)}}},{isTouchDevice:la}=W(),{addEvent:Wi,correctFloat:wr,defined:de,isNumber:Mn,pick:mi}=W();function kr(){this.navigatorAxis||(this.navigatorAxis=new As(this))}function Ar(m){let a,d=this.chart,f=d.options,v=f.navigator,E=this.navigatorAxis,A=d.zooming.pinchType,C=f.rangeSelector,D=d.zooming.type;if(this.isXAxis&&(v?.enabled||C?.enabled)){if(D==="y"&&m.trigger==="zoom")a=!1;else if((m.trigger==="zoom"&&D==="xy"||la&&A==="xy")&&this.options.range){let B=E.previousZoom;de(m.min)?E.previousZoom=[this.min,this.max]:B&&(m.min=B[0],m.max=B[1],E.previousZoom=void 0)}}a!==void 0&&m.preventDefault()}class As{static compose(a){a.keepProps.includes("navigatorAxis")||(a.keepProps.push("navigatorAxis"),Wi(a,"init",kr),Wi(a,"setExtremes",Ar))}constructor(a){this.axis=a}destroy(){this.axis=void 0}toFixedRange(a,d,f,v){let E=this.axis,A=(E.pointRange||0)/2,C=mi(f,E.translate(a,!0,!E.horiz)),D=mi(v,E.translate(d,!0,!E.horiz));return de(f)||(C=wr(C+A)),de(v)||(D=wr(D-A)),Mn(C)&&Mn(D)||(C=D=void 0),{min:C,max:D}}}var Tn=yt(620),ha=yt.n(Tn),ca=yt(512),Er=yt.n(ca);let{parse:Mr}=ha(),{seriesTypes:fi}=Er(),me={height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:Mr("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:fi.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}},{defined:Tr,isNumber:uh,pick:ph}=W(),da={rect:function(m,a,d,f,v){return v&&v.r?function(E,A,C,D,B){let I=B?.r||0;return[["M",E+I,A],["L",E+C-I,A],["A",I,I,0,0,1,E+C,A+I],["L",E+C,A+D-I],["A",I,I,0,0,1,E+C-I,A+D],["L",E+I,A+D],["A",I,I,0,0,1,E,A+D-I],["L",E,A+I],["A",I,I,0,0,1,E+I,A],["Z"]]}(m,a,d,f,v):[["M",m,a],["L",m+d,a],["L",m+d,a+f],["L",m,a+f],["Z"]]}},{relativeLength:Sn}=W(),Xt={"navigator-handle":function(m,a,d,f,v={}){let E=v.width?v.width/2:d,A=Sn(v.borderRadius||0,Math.min(2*E,f));return[["M",-1.5,(f=v.height||f)/2-3.5],["L",-1.5,f/2+4.5],["M",.5,f/2-3.5],["L",.5,f/2+4.5],...da.rect(-E-1,.5,2*E+1,f,{r:A})]}};var ve=yt(608),Cn=yt.n(ve);let{defined:On}=W(),{setOptions:Pn}=W(),{composed:ji}=W(),{getRendererType:ua}=Cn(),{setFixedRange:Es}={setFixedRange:function(m){let a=this.xAxis[0];On(a.dataMax)&&On(a.dataMin)&&m?this.fixedRange=Math.min(m,a.dataMax-a.dataMin):this.fixedRange=m}},{addEvent:Ln,extend:qe,pushUnique:Dn}=W();function pa(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let Xi={compose:function(m,a,d){As.compose(a),Dn(ji,"Navigator")&&(m.prototype.setFixedRange=Es,qe(ua().prototype.symbols,Xt),Ln(d,"afterUpdate",pa),Pn({navigator:me}))}},{composed:Bn}=W(),{addEvent:Gi,defined:Fe,pick:Vi,pushUnique:Sr}=W();(function(m){let a;function d(A){let C=Vi(A.options&&A.options.min,A.min),D=Vi(A.options&&A.options.max,A.max);return{axisMin:C,axisMax:D,scrollMin:Fe(A.dataMin)?Math.min(C,A.min,A.dataMin,Vi(A.threshold,1/0)):C,scrollMax:Fe(A.dataMax)?Math.max(D,A.max,A.dataMax,Vi(A.threshold,-1/0)):D}}function f(){let A=this.scrollbar,C=A&&!A.options.opposite,D=this.horiz?2:C?3:1;A&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[D]+=A.size+(A.options.margin||0))}function v(){let A=this;A.options&&A.options.scrollbar&&A.options.scrollbar.enabled&&(A.options.scrollbar.vertical=!A.horiz,A.options.startOnTick=A.options.endOnTick=!1,A.scrollbar=new a(A.chart.renderer,A.options.scrollbar,A.chart),Gi(A.scrollbar,"changed",function(C){let D,B,{axisMin:I,axisMax:G,scrollMin:X,scrollMax:V}=d(A),$=V-X;if(Fe(I)&&Fe(G))if(A.horiz&&!A.reversed||!A.horiz&&A.reversed?(D=X+$*this.to,B=X+$*this.from):(D=X+$*(1-this.from),B=X+$*(1-this.to)),this.shouldUpdateExtremes(C.DOMType)){let _=C.DOMType!=="mousemove"&&C.DOMType!=="touchmove"&&void 0;A.setExtremes(B,D,!0,_,C)}else this.setRange(this.from,this.to)}))}function E(){let A,C,D,{scrollMin:B,scrollMax:I}=d(this),G=this.scrollbar,X=this.axisTitleMargin+(this.titleOffset||0),V=this.chart.scrollbarsOffsets,$=this.options.margin||0;if(G&&V){if(this.horiz)this.opposite||(V[1]+=X),G.position(this.left,this.top+this.height+2+V[1]-(this.opposite?$:0),this.width,this.height),this.opposite||(V[1]+=$),A=1;else{let _;this.opposite&&(V[0]+=X),_=G.options.opposite?this.left+this.width+2+V[0]-(this.opposite?0:$):this.opposite?0:$,G.position(_,this.top,this.width,this.height),this.opposite&&(V[0]+=$),A=0}if(V[A]+=G.size+(G.options.margin||0),isNaN(B)||isNaN(I)||!Fe(this.min)||!Fe(this.max)||this.dataMin===this.dataMax)G.setRange(0,1);else if(this.min===this.max){let _=this.pointRange/(this.dataMax+1);C=_*this.min,D=_*(this.max+1),G.setRange(C,D)}else C=(this.min-B)/(I-B),D=(this.max-B)/(I-B),this.horiz&&!this.reversed||!this.horiz&&this.reversed?G.setRange(C,D):G.setRange(1-D,1-C)}}m.compose=function(A,C){Sr(Bn,"Axis.Scrollbar")&&(a=C,Gi(A,"afterGetOffset",f),Gi(A,"afterInit",v),Gi(A,"afterRender",E))}})(Le||(Le={}));let ga=Le,Cr={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:Yi}=W(),{addEvent:ma,correctFloat:_e,crisp:Ms,defined:Nn,destroyObjectProperties:fa,fireEvent:Ze,merge:Or,pick:$i,removeEvent:ba}=W();class Re{static compose(a){ga.compose(a,Re)}static swapXY(a,d){return d&&a.forEach(f=>{let v,E=f.length;for(let A=0;A<E;A+=2)typeof(v=f[A+1])=="number"&&(f[A+1]=f[A+2],f[A+2]=v)}),a}constructor(a,d,f){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(a,d,f)}addEvents(){let a=this.options.inverted?[1,0]:[0,1],d=this.scrollbarButtons,f=this.scrollbarGroup.element,v=this.track.element,E=this.mouseDownHandler.bind(this),A=this.mouseMoveHandler.bind(this),C=this.mouseUpHandler.bind(this),D=[[d[a[0]].element,"click",this.buttonToMinClick.bind(this)],[d[a[1]].element,"click",this.buttonToMaxClick.bind(this)],[v,"click",this.trackClick.bind(this)],[f,"mousedown",E],[f.ownerDocument,"mousemove",A],[f.ownerDocument,"mouseup",C],[f,"touchstart",E],[f.ownerDocument,"touchmove",A],[f.ownerDocument,"touchend",C]];D.forEach(function(B){ma.apply(null,B)}),this._events=D}buttonToMaxClick(a){let d=(this.to-this.from)*$i(this.options.step,.2);this.updatePosition(this.from+d,this.to+d),Ze(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})}buttonToMinClick(a){let d=_e(this.to-this.from)*$i(this.options.step,.2);this.updatePosition(_e(this.from-d),_e(this.to-d)),Ze(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})}cursorToScrollbarPosition(a){let d=this.options,f=d.minWidth>this.calculatedWidth?d.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-f),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-f)}}destroy(){let a=this,d=a.chart.scroller;a.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(f){a[f]&&a[f].destroy&&(a[f]=a[f].destroy())}),d&&a===d.scrollbar&&(d.scrollbar=null,fa(d.scrollbarButtons))}drawScrollbarButton(a){let d=this.renderer,f=this.scrollbarButtons,v=this.options,E=this.size,A=d.g().add(this.group);if(f.push(A),v.buttonsEnabled){let C=d.rect().addClass("highcharts-scrollbar-button").add(A);this.chart.styledMode||C.attr({stroke:v.buttonBorderColor,"stroke-width":v.buttonBorderWidth,fill:v.buttonBackgroundColor}),C.attr(C.crisp({x:-.5,y:-.5,width:E,height:E,r:v.buttonBorderRadius},C.strokeWidth()));let D=d.path(Re.swapXY([["M",E/2+(a?-1:1),E/2-3],["L",E/2+(a?-1:1),E/2+3],["L",E/2+(a?2:-2),E/2]],v.vertical)).addClass("highcharts-scrollbar-arrow").add(f[a]);this.chart.styledMode||D.attr({fill:v.buttonArrowColor})}}init(a,d,f){this.scrollbarButtons=[],this.renderer=a,this.userOptions=d,this.options=Or(Cr,Yi.scrollbar,d),this.options.margin=$i(this.options.margin,10),this.chart=f,this.size=$i(this.options.size,this.options.height),d.enabled&&(this.render(),this.addEvents())}mouseDownHandler(a){let d=this.chart.pointer?.normalize(a)||a,f=this.cursorToScrollbarPosition(d);this.chartX=f.chartX,this.chartY=f.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(a){let d,f=this.chart.pointer?.normalize(a)||a,v=this.options.vertical?"chartY":"chartX",E=this.initPositions||[];this.grabbedCenter&&(!a.touches||a.touches[0][v]!==0)&&(d=this.cursorToScrollbarPosition(f)[v]-this[v],this.hasDragged=!0,this.updatePosition(E[0]+d,E[1]+d),this.hasDragged&&Ze(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:a.type,DOMEvent:a}))}mouseUpHandler(a){this.hasDragged&&Ze(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:a.type,DOMEvent:a}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(a,d,f,v){let{buttonsEnabled:E,margin:A=0,vertical:C}=this.options,D=this.rendered?"animate":"attr",B=v,I=0;this.group.show(),this.x=a,this.y=d+this.trackBorderWidth,this.width=f,this.height=v,this.xOffset=B,this.yOffset=I,C?(this.width=this.yOffset=f=I=this.size,this.xOffset=B=0,this.yOffset=I=E?this.size:0,this.barWidth=v-(E?2*f:0),this.x=a+=A):(this.height=v=this.size,this.xOffset=B=E?this.size:0,this.barWidth=f-(E?2*v:0),this.y=this.y+A),this.group[D]({translateX:a,translateY:this.y}),this.track[D]({width:f,height:v}),this.scrollbarButtons[1][D]({translateX:C?0:f-B,translateY:C?v-I:0})}removeEvents(){this._events.forEach(function(a){ba.apply(null,a)}),this._events.length=0}render(){let a=this.renderer,d=this.options,f=this.size,v=this.chart.styledMode,E=a.g("scrollbar").attr({zIndex:d.zIndex}).hide().add();this.group=E,this.track=a.rect().addClass("highcharts-scrollbar-track").attr({r:d.trackBorderRadius||0,height:f,width:f}).add(E),v||this.track.attr({fill:d.trackBackgroundColor,stroke:d.trackBorderColor,"stroke-width":d.trackBorderWidth});let A=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-Ms(0,A),y:-Ms(0,A)}),this.scrollbarGroup=a.g().add(E),this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:f-A,width:f-A,r:d.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=a.path(Re.swapXY([["M",-3,f/4],["L",-3,2*f/3],["M",0,f/4],["L",0,2*f/3],["M",3,f/4],["L",3,2*f/3]],d.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),v||(this.scrollbar.attr({fill:d.barBackgroundColor,stroke:d.barBorderColor,"stroke-width":d.barBorderWidth}),this.scrollbarRifles.attr({stroke:d.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-Ms(0,this.scrollbarStrokeWidth),-Ms(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(a,d){let f,v,E=this.options,A=E.vertical,C=E.minWidth,D=this.barWidth,B=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Nn(D))return;let I=D*Math.min(d,1);f=Math.ceil(D*(a=Math.max(a,0))),this.calculatedWidth=v=_e(I-f),v<C&&(f=(D-C+v)*a,v=C);let G=Math.floor(f+this.xOffset+this.yOffset),X=v/2-.5;this.from=a,this.to=d,A?(this.scrollbarGroup[B]({translateY:G}),this.scrollbar[B]({height:v}),this.scrollbarRifles[B]({translateY:X}),this.scrollbarTop=G,this.scrollbarLeft=0):(this.scrollbarGroup[B]({translateX:G}),this.scrollbar[B]({width:v}),this.scrollbarRifles[B]({translateX:X}),this.scrollbarLeft=G,this.scrollbarTop=0),v<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),E.showFull===!1&&(a<=0&&d>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(a){return $i(this.options.liveRedraw,W().svg&&!W().isTouchDevice&&!this.chart.boosted)||a==="mouseup"||a==="touchend"||!Nn(a)}trackClick(a){let d=this.chart.pointer?.normalize(a)||a,f=this.to-this.from,v=this.y+this.scrollbarTop,E=this.x+this.scrollbarLeft;this.options.vertical&&d.chartY>v||!this.options.vertical&&d.chartX>E?this.updatePosition(this.from+f,this.to+f):this.updatePosition(this.from-f,this.to-f),Ze(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})}update(a){this.destroy(),this.init(this.chart.renderer,Or(!0,this.options,a),this.chart)}updatePosition(a,d){d>1&&(a=_e(1-_e(d-a)),d=1),a<0&&(d=_e(d-a),a=0),this.from=a,this.to=d}}Re.defaultOptions=Cr,Yi.scrollbar=Or(!0,Re.defaultOptions,Yi.scrollbar);var bi=yt(540),In=yt.n(bi);let{defaultOptions:Ts}=W(),{isTouchDevice:xa}=W(),{prototype:{symbols:Fn}}=In(),{addEvent:qt,clamp:xi,correctFloat:yi,defined:Ee,destroyObjectProperties:Ss,erase:vi,extend:Rn,find:Cs,fireEvent:Me,isArray:zn,isNumber:te,merge:wi,pick:_t,removeEvent:ze,splat:Hn}=W();function ki(m,...a){let d=[].filter.call(a,te);if(d.length)return Math[m].apply(0,d)}class Ai{static compose(a,d,f){vr.compose(a,Ai),Xi.compose(a,d,f)}constructor(a){this.isDirty=!1,this.scrollbarHeight=0,this.init(a)}drawHandle(a,d,f,v){let E=this.navigatorOptions.handles.height;this.handles[d][v](f?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(a,10)+.5-E)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+this.height/2-E/2-1)})}drawOutline(a,d,f,v){let E=this.navigatorOptions.maskInside,A=this.outline.strokeWidth(),C=A/2,D=A%2/2,B=this.scrollButtonSize,I=this.size,G=this.top,X=this.height,V=G-C,$=G+X,_=this.left,ut,ct;f?(ut=G+d+D,d=G+a+D,ct=[["M",_+X,G-B-D],["L",_+X,ut],["L",_,ut],["M",_,d],["L",_+X,d],["L",_+X,G+I+B]],E&&ct.push(["M",_+X,ut-C],["L",_+X,d+C])):(_-=B,a+=_+B-D,d+=_+B-D,ct=[["M",_,V],["L",a,V],["L",a,$],["M",d,$],["L",d,V],["L",_+I+2*B,V]],E&&ct.push(["M",a-C,V],["L",d+C,V])),this.outline[v]({d:ct})}drawMasks(a,d,f,v){let E,A,C,D,B=this.left,I=this.top,G=this.height;f?(C=[B,B,B],D=[I,I+a,I+d],A=[G,G,G],E=[a,d-a,this.size-d]):(C=[B,B+a,B+d],D=[I,I,I],A=[a,d-a,this.size-d],E=[G,G,G]),this.shades.forEach((X,V)=>{X[v]({x:C[V],y:D[V],width:A[V],height:E[V]})})}renderElements(){let a=this,d=a.navigatorOptions,f=d.maskInside,v=a.chart,E=v.inverted,A=v.renderer,C={cursor:E?"ns-resize":"ew-resize"},D=a.navigatorGroup??(a.navigatorGroup=A.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!f,f,!f].forEach((B,I)=>{let G=a.shades[I]??(a.shades[I]=A.rect().addClass("highcharts-navigator-mask"+(I===1?"-inside":"-outside")).add(D));v.styledMode||(G.attr({fill:B?d.maskFill:"rgba(0,0,0,0)"}),I===1&&G.css(C))}),a.outline||(a.outline=A.path().addClass("highcharts-navigator-outline").add(D)),v.styledMode||a.outline.attr({"stroke-width":d.outlineWidth,stroke:d.outlineColor}),d.handles?.enabled){let B=d.handles,{height:I,width:G}=B;[0,1].forEach(X=>{let V=B.symbols[X];if(a.handles[X]&&a.handles[X].symbolUrl===V){if(!a.handles[X].isImg&&a.handles[X].symbolName!==V){let $=Fn[V].call(Fn,-G/2-1,0,G,I);a.handles[X].attr({d:$}),a.handles[X].symbolName=V}}else a.handles[X]?.destroy(),a.handles[X]=A.symbol(V,-G/2-1,0,G,I,B),a.handles[X].attr({zIndex:7-X}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][X]).add(D),a.addMouseEvents();v.inverted&&a.handles[X].attr({rotation:90,rotationOriginX:Math.floor(-G/2),rotationOriginY:(I+G)/2}),v.styledMode||a.handles[X].attr({fill:B.backgroundColor,stroke:B.borderColor,"stroke-width":B.lineWidth,width:B.width,height:B.height,x:-G/2-1,y:0}).css(C)})}}update(a,d=!1){let f=this.chart,v=f.options.chart.inverted!==f.scrollbar?.options.vertical;if(wi(!0,f.options.navigator,a),this.navigatorOptions=f.options.navigator||{},this.setOpposite(),Ee(a.enabled)||v)return this.destroy(),this.navigatorEnabled=a.enabled||this.navigatorEnabled,this.init(f);if(this.navigatorEnabled&&(this.isDirty=!0,a.adaptToUpdatedData===!1&&this.baseSeries.forEach(E=>{ze(E,"updatedData",this.updatedDataHandler)},this),a.adaptToUpdatedData&&this.baseSeries.forEach(E=>{E.eventsToUnbind.push(qt(E,"updatedData",this.updatedDataHandler))},this),(a.series||a.baseSeries)&&this.setBaseSeries(void 0,!1),a.height||a.xAxis||a.yAxis)){this.height=a.height??this.height;let E=this.getXAxisOffsets();this.xAxis.update({...a.xAxis,offsets:E,[f.inverted?"width":"height"]:this.height,[f.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...a.yAxis,[f.inverted?"width":"height"]:this.height},!1)}d&&f.redraw()}render(a,d,f,v){let E=this.chart,A=this.xAxis,C=A.pointRange||0,D=A.navigatorAxis.fake?E.xAxis[0]:A,B=this.navigatorEnabled,I=this.rendered,G=E.inverted,X=E.xAxis[0].minRange,V=E.xAxis[0].options.maxRange,$=this.scrollButtonSize,_,ut,ct,wt=this.scrollbarHeight,ft,nt;if(this.hasDragged&&!Ee(f))return;if(this.isDirty&&this.renderElements(),a=yi(a-C/2),d=yi(d+C/2),!te(a)||!te(d)){if(!I)return;f=0,v=_t(A.width,D.width)}this.left=_t(A.left,E.plotLeft+$+(G?E.plotWidth:0));let ot=this.size=ft=_t(A.len,(G?E.plotHeight:E.plotWidth)-2*$);_=G?wt:ft+2*$,f=_t(f,A.toPixels(a,!0)),v=_t(v,A.toPixels(d,!0)),te(f)&&Math.abs(f)!==1/0||(f=0,v=_);let bt=A.toValue(f,!0),At=A.toValue(v,!0),Ht=Math.abs(yi(At-bt));Ht<X?this.grabbedLeft?f=A.toPixels(At-X-C,!0):this.grabbedRight&&(v=A.toPixels(bt+X+C,!0)):Ee(V)&&yi(Ht-C)>V&&(this.grabbedLeft?f=A.toPixels(At-V-C,!0):this.grabbedRight&&(v=A.toPixels(bt+V+C,!0))),this.zoomedMax=xi(Math.max(f,v),0,ot),this.zoomedMin=xi(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(f,v),0,ot),this.range=this.zoomedMax-this.zoomedMin,ot=Math.round(this.zoomedMax);let Wt=Math.round(this.zoomedMin);B&&(this.navigatorGroup.attr({visibility:"inherit"}),nt=I&&!this.hasDragged?"animate":"attr",this.drawMasks(Wt,ot,G,nt),this.drawOutline(Wt,ot,G,nt),this.navigatorOptions.handles.enabled&&(this.drawHandle(Wt,0,G,nt),this.drawHandle(ot,1,G,nt))),this.scrollbar&&(G?(ct=this.top-$,ut=this.left-wt+(B||!D.opposite?0:(D.titleOffset||0)+D.axisTitleMargin),wt=ft+2*$):(ct=this.top+(B?this.height:-wt),ut=this.left-$),this.scrollbar.position(ut,ct,_,wt),this.scrollbar.setRange(this.zoomedMin/(ft||1),this.zoomedMax/(ft||1))),this.rendered=!0,this.isDirty=!1,Me(this,"afterRender")}addMouseEvents(){let a=this,d=a.chart,f=d.container,v=[],E,A;a.mouseMoveHandler=E=function(C){a.onMouseMove(C)},a.mouseUpHandler=A=function(C){a.onMouseUp(C)},(v=a.getPartsEvents("mousedown")).push(qt(d.renderTo,"mousemove",E),qt(f.ownerDocument,"mouseup",A),qt(d.renderTo,"touchmove",E),qt(f.ownerDocument,"touchend",A)),v.concat(a.getPartsEvents("touchstart")),a.eventsToUnbind=v,a.series&&a.series[0]&&v.push(qt(a.series[0].xAxis,"foundExtremes",function(){d.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(a){let d=this,f=[];return["shades","handles"].forEach(function(v){d[v].forEach(function(E,A){f.push(qt(E.element,a,function(C){d[v+"Mousedown"](C,A)}))})}),f}shadesMousedown(a,d){a=this.chart.pointer?.normalize(a)||a;let f=this.chart,v=this.xAxis,E=this.zoomedMin,A=this.size,C=this.range,D=this.left,B=a.chartX,I,G,X,V;f.inverted&&(B=a.chartY,D=this.top),d===1?(this.grabbedCenter=B,this.fixedWidth=C,this.dragOffset=B-E):(V=B-D-C/2,d===0?V=Math.max(0,V):d===2&&V+C>=A&&(V=A-C,this.reversedExtremes?(V-=C,G=this.getUnionExtremes().dataMin):I=this.getUnionExtremes().dataMax),V!==E&&(this.fixedWidth=C,Ee((X=v.navigatorAxis.toFixedRange(V,V+C,G,I)).min)&&Me(this,"setRange",{min:Math.min(X.min,X.max),max:Math.max(X.min,X.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(a,d){a=this.chart.pointer?.normalize(a)||a;let f=this.chart,v=f.xAxis[0],E=this.reversedExtremes;d===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=E?v.min:v.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=E?v.max:v.min),f.setFixedRange(void 0)}onMouseMove(a){let d=this,f=d.chart,v=d.navigatorSize,E=d.range,A=d.dragOffset,C=f.inverted,D=d.left,B;(!a.touches||a.touches[0].pageX!==0)&&(B=(a=f.pointer?.normalize(a)||a).chartX,C&&(D=d.top,B=a.chartY),d.grabbedLeft?(d.hasDragged=!0,d.render(0,0,B-D,d.otherHandlePos)):d.grabbedRight?(d.hasDragged=!0,d.render(0,0,d.otherHandlePos,B-D)):d.grabbedCenter&&(d.hasDragged=!0,B<A?B=A:B>v+A-E&&(B=v+A-E),d.render(0,0,B-A,B-A+E)),d.hasDragged&&d.scrollbar&&_t(d.scrollbar.options.liveRedraw,!xa&&!this.chart.boosted)&&(a.DOMType=a.type,setTimeout(function(){d.onMouseUp(a)},0)))}onMouseUp(a){let d,f,v,E,A,C,D=this.chart,B=this.xAxis,I=this.scrollbar,G=a.DOMEvent||a,X=D.inverted,V=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!I||!I.hasDragged)||a.trigger==="scrollbar")&&(v=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?E=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(A=this.fixedExtreme),this.zoomedMax===this.size&&(A=this.reversedExtremes?v.dataMin:v.dataMax),this.zoomedMin===0&&(E=this.reversedExtremes?v.dataMax:v.dataMin),Ee((C=B.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,E,A)).min)&&Me(this,"setRange",{min:Math.min(C.min,C.max),max:Math.max(C.min,C.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:G}})),a.DOMType!=="mousemove"&&a.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&te(this.zoomedMin)&&te(this.zoomedMax)&&(f=Math.round(this.zoomedMin),d=Math.round(this.zoomedMax),this.shades&&this.drawMasks(f,d,X,V),this.outline&&this.drawOutline(f,d,X,V),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(f,0,X,V),this.drawHandle(d,1,X,V)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(a){a()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&a.forEach(function(d){ze(d,"updatedData",this.updatedDataHandler)},this),a[0].xAxis&&ze(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(a){let d=a.options,f=d.navigator||{},v=f.enabled,E=d.scrollbar||{},A=E.enabled,C=v&&f.height||0,D=A&&E.height||0,B=E.buttonsEnabled&&D||0;this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=C,this.scrollbarHeight=D,this.scrollButtonSize=B,this.scrollbarEnabled=A,this.navigatorEnabled=v,this.navigatorOptions=f,this.scrollbarOptions=E,this.setOpposite();let I=this,G=I.baseSeries,X=a.xAxis.length,V=a.yAxis.length,$=G&&G[0]&&G[0].xAxis||a.xAxis[0]||{options:{}};if(a.isDirtyBox=!0,I.navigatorEnabled){let _=this.getXAxisOffsets();I.xAxis=new(wn())(a,wi({breaks:$.options.breaks,ordinal:$.options.ordinal,overscroll:$.options.overscroll},f.xAxis,{type:"datetime",yAxis:f.yAxis?.id,index:X,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:$.options.ordinal?0:$.options.minPadding,maxPadding:$.options.ordinal?0:$.options.maxPadding,zoomEnabled:!1},a.inverted?{offsets:_,width:C}:{offsets:_,height:C}),"xAxis"),I.yAxis=new(wn())(a,wi(f.yAxis,{alignTicks:!1,offset:0,index:V,isInternal:!0,reversed:_t(f.yAxis&&f.yAxis.reversed,a.yAxis[0]&&a.yAxis[0].reversed,!1),zoomEnabled:!1},a.inverted?{width:C}:{height:C}),"yAxis"),G||f.series.data?I.updateNavigatorSeries(!1):a.series.length===0&&(I.unbindRedraw=qt(a,"beforeRedraw",function(){a.series.length>0&&!I.series&&(I.setBaseSeries(),I.unbindRedraw())})),I.reversedExtremes=a.inverted&&!I.xAxis.reversed||!a.inverted&&I.xAxis.reversed,I.renderElements(),I.addMouseEvents()}else I.xAxis={chart:a,navigatorAxis:{fake:!0},translate:function(_,ut){let ct=a.xAxis[0],wt=ct.getExtremes(),ft=ct.len-2*B,nt=ki("min",ct.options.min,wt.dataMin),ot=ki("max",ct.options.max,wt.dataMax)-nt;return ut?_*ot/ft+nt:ft*(_-nt)/ot},toPixels:function(_){return this.translate(_)},toValue:function(_){return this.translate(_,!0)}},I.xAxis.navigatorAxis.axis=I.xAxis,I.xAxis.navigatorAxis.toFixedRange=As.prototype.toFixedRange.bind(I.xAxis.navigatorAxis);if(a.options.scrollbar.enabled){let _=wi(a.options.scrollbar,{vertical:a.inverted});!te(_.margin)&&I.navigatorEnabled&&(_.margin=a.inverted?-3:3),a.scrollbar=I.scrollbar=new Re(a.renderer,_,a),qt(I.scrollbar,"changed",function(ut){let ct=I.size,wt=ct*this.to,ft=ct*this.from;I.hasDragged=I.scrollbar.hasDragged,I.render(0,0,ft,wt),this.shouldUpdateExtremes(ut.DOMType)&&setTimeout(function(){I.onMouseUp(ut)})})}I.addBaseSeriesEvents(),I.addChartEvents()}setOpposite(){let a=this.navigatorOptions,d=this.navigatorEnabled,f=this.chart;this.opposite=_t(a.opposite,!!(!d&&f.inverted))}getUnionExtremes(a){let d,f=this.chart.xAxis[0],v=this.chart.time,E=this.xAxis,A=E.options,C=f.options;return a&&f.dataMin===null||(d={dataMin:_t(v.parse(A?.min),ki("min",v.parse(C.min),f.dataMin,E.dataMin,E.min)),dataMax:_t(v.parse(A?.max),ki("max",v.parse(C.max),f.dataMax,E.dataMax,E.max))}),d}setBaseSeries(a,d){let f=this.chart,v=this.baseSeries=[];a=a||f.options&&f.options.navigator.baseSeries||(f.series.length?Cs(f.series,E=>!E.options.isInternal).index:0),(f.series||[]).forEach((E,A)=>{!E.options.isInternal&&(E.options.showInNavigator||(A===a||E.options.id===a)&&E.options.showInNavigator!==!1)&&v.push(E)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,d)}updateNavigatorSeries(a,d){let f=this,v=f.chart,E=f.baseSeries,A={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},C=f.series=(f.series||[]).filter(X=>{let V=X.baseSeries;return!(0>E.indexOf(V))||(V&&(ze(V,"updatedData",f.updatedDataHandler),delete V.navigatorSeries),X.chart&&X.destroy(),!1)}),D,B,I=f.navigatorOptions.series,G;E&&E.length&&E.forEach(X=>{let V=X.navigatorSeries,$=Rn({color:X.color,visible:X.visible},zn(I)?Ts.navigator.series:I);if(V&&f.navigatorOptions.adaptToUpdatedData===!1)return;A.name="Navigator "+E.length,G=(D=X.options||{}).navigatorOptions||{},$.dataLabels=Hn($.dataLabels),(B=wi(D,A,$,G)).pointRange=_t($.pointRange,G.pointRange,Ts.plotOptions[B.type||"line"].pointRange);let _=G.data||$.data;f.hasNavigatorData=f.hasNavigatorData||!!_,B.data=_||D.data?.slice(0),V&&V.options?V.update(B,d):(X.navigatorSeries=v.initSeries(B),v.setSortedData(),X.navigatorSeries.baseSeries=X,C.push(X.navigatorSeries))}),(I.data&&!(E&&E.length)||zn(I))&&(f.hasNavigatorData=!1,(I=Hn(I)).forEach((X,V)=>{A.name="Navigator "+(C.length+1),(B=wi(Ts.navigator.series,{color:v.series[V]&&!v.series[V].options.isInternal&&v.series[V].color||v.options.colors[V]||v.options.colors[0]},A,X)).data=X.data,B.data&&(f.hasNavigatorData=!0,C.push(v.initSeries(B)))})),a&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let a=this,d=a.baseSeries||[];d[0]&&d[0].xAxis&&d[0].eventsToUnbind.push(qt(d[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),d.forEach(f=>{f.eventsToUnbind.push(qt(f,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),f.eventsToUnbind.push(qt(f,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&f.xAxis&&f.eventsToUnbind.push(qt(f,"updatedData",this.updatedDataHandler)),f.eventsToUnbind.push(qt(f,"remove",function(){d&&vi(d,f),this.navigatorSeries&&a.series&&(vi(a.series,this.navigatorSeries),Ee(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(a){return this.baseSeries.reduce(function(d,f){return Math.min(d,f.getColumn("x")[0]??d)},a)}modifyNavigatorAxisExtremes(){let a=this.xAxis;if(a.getExtremes!==void 0){let d=this.getUnionExtremes(!0);d&&(d.dataMin!==a.min||d.dataMax!==a.max)&&(a.min=d.dataMin,a.max=d.dataMax)}}modifyBaseAxisExtremes(){let a,d,f=this.chart.navigator,v=this.getExtremes(),E=v.min,A=v.max,C=v.dataMin,D=v.dataMax,B=A-E,I=f.stickToMin,G=f.stickToMax,X=_t(this.ordinal?.convertOverscroll(this.options.overscroll),0),V=f.series&&f.series[0],$=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(I&&(a=(d=C)+B),G&&(a=D+X,I||(d=Math.max(C,a-B,f.getBaseSeriesMin(V&&V.xData?V.xData[0]:-Number.MAX_VALUE)))),$&&(I||G)&&te(d)&&(this.min=this.userMin=d,this.max=this.userMax=a)),f.stickToMin=f.stickToMax=null}updatedDataHandler(){let a=this.chart.navigator,d=this.navigatorSeries,f=a.reversedExtremes?Math.round(a.zoomedMin)===0:Math.round(a.zoomedMax)>=Math.round(a.size);a.stickToMax=_t(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,f),a.stickToMin=a.shouldStickToMin(this,a),d&&!a.hasNavigatorData&&(d.options.pointStart=this.getColumn("x")[0],d.setData(this.options.data,!1,null,!1))}shouldStickToMin(a,d){let f=d.getBaseSeriesMin(a.getColumn("x")[0]),v=a.xAxis,E=v.max,A=v.min,C=v.options.range;return!!(te(E)&&te(A))&&(C&&E-f>0?E-f<C:A<=f)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(qt(this.chart,"redraw",function(){let a=this.navigator,d=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||this.xAxis[0]);d&&a.render(d.min,d.max)}),qt(this.chart,"getMargins",function(){let a=this.navigator,d=a.opposite?"plotTop":"marginBottom";this.inverted&&(d=a.opposite?"marginRight":"plotLeft"),this[d]=(this[d]||0)+(a.navigatorEnabled||!this.inverted?a.height+a.scrollbarHeight:0)+a.navigatorOptions.margin}),qt(Ai,"setRange",function(a){this.chart.xAxis[0].setExtremes(a.min,a.max,a.redraw,a.animation,a.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(vi(this.chart.xAxis,this.xAxis),vi(this.chart.axes,this.xAxis)),this.yAxis&&(vi(this.chart.yAxis,this.yAxis),vi(this.chart.axes,this.yAxis)),(this.series||[]).forEach(a=>{a.destroy&&a.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(a=>{this[a]&&this[a].destroy&&this[a].destroy(),this[a]=null}),[this.handles].forEach(a=>{Ss(a)}),this.navigatorEnabled=!1}}let{animObject:ya}=W(),{format:Pr}=ci(),{clamp:va,pick:Os,syncTimeout:wa}=W(),{getFakeMouseEvent:ka}=Rt,{getAxisRangeDescription:Ei,fireEventOnWrappedOrUnwrappedElement:Aa}=It,Wn=class extends ye{init(){let m=this.chart,a=this;this.announcer=new hs(m,"polite"),this.addEvent(Ai,"afterRender",function(){this.chart===a.chart&&this.chart.renderer&&wa(()=>{a.proxyProvider.updateGroupProxyElementPositions("navigator"),a.updateHandleValues()},ya(Os(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){let m=this.chart,a=m.options,d=a.navigator;if(d.enabled&&d.accessibility?.enabled){let f=a.accessibility.landmarkVerbosity,v=a.lang.accessibility?.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:f==="all"?"region":"group","aria-label":Pr(v,{chart:m},m)});let E=a.lang.accessibility?.navigator.handleLabel;[0,1].forEach(A=>{let C=this.getHandleByIx(A);if(C){let D=this.proxyProvider.addProxyElement("navigator",{click:C},"input",{type:"range","aria-label":Pr(E,{handleIx:A,chart:m},m)});this[A?"maxHandleProxy":"minHandleProxy"]=D.innerElement,D.innerElement.style.pointerEvents="none",D.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(m){let a=this,d=this.chart,f=m?this.maxHandleProxy:this.minHandleProxy,v=this.keyCodes;return new ge(d,{keyCodeMap:[[[v.left,v.right,v.up,v.down],function(E){if(f){let A=E===v.left||E===v.up?-1:1;f.value=""+va(parseFloat(f.value)+A,0,100),a.updateNavigator(()=>{let C=a.getHandleByIx(m);C&&d.setFocusToElement(C,f)})}return this.response.success}]],init:()=>{d.setFocusToElement(this.getHandleByIx(m),f)},validate:()=>!!(this.getHandleByIx(m)&&f&&d.options.navigator.accessibility?.enabled)})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let m=this.chart.navigator;if(m&&this.minHandleProxy&&this.maxHandleProxy){let a=m.size;this.minHandleProxy.value=""+Math.round(m.zoomedMin/a*100),this.maxHandleProxy.value=""+Math.round(m.zoomedMax/a*100)}}getHandleByIx(m){let a=this.chart.navigator;return a&&a.handles&&a.handles[m]}updateNavigator(m){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((a=>{let d=this.chart,{navigator:f,pointer:v}=d;if(f&&v&&this.minHandleProxy&&this.maxHandleProxy){let E=v.getChartPosition(),A=parseFloat(this.minHandleProxy.value)/100*f.size,C=parseFloat(this.maxHandleProxy.value)/100*f.size;[[0,"mousedown",f.zoomedMin],[0,"mousemove",A],[0,"mouseup",A],[1,"mousedown",f.zoomedMax],[1,"mousemove",C],[1,"mouseup",C]].forEach(([I,G,X])=>{let V=this.getHandleByIx(I)?.element;V&&Aa(V,ka(G,{x:E.left+f.left+X,y:E.top+f.top},V))}),a&&a();let D=d.options.lang.accessibility?.navigator.changeAnnouncement,B=Ei(d.xAxis[0]);this.announcer.announce(Pr(D,{axisRangeDescription:B,chart:d},d))}}).bind(this,m),20)}},{getPointAnnotationTexts:Ea}=cr,{getAxisDescription:Ma,getSeriesFirstPointElement:Ta,getSeriesA11yElement:Sa,unhideChartElementFromAT:Ca}=It,{format:Ui,numberFormat:Oa}=ci(),{reverseChildNodes:Ki,stripHTMLTagsFromString:He}=Rt,{find:Pa,isNumber:La,isString:jn,pick:Qe,defined:Ps}=W();function qi(m){let a=m.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(a!==!1&&m.points&&m.points.length>=+a)}function Ls(m,a){let d=m.series,f=d.chart,v=f.options.accessibility.point||{},E=d.options.accessibility&&d.options.accessibility.point||{},A=d.tooltipOptions||{},C=f.options.lang;return La(a)?Oa(a,E.valueDecimals||v.valueDecimals||A.valueDecimals||-1,C.decimalPoint,C.accessibility.thousandsSep||C.thousandsSep):a}function Xn(m,a){let d=m[a];return m.chart.langFormat("accessibility.series."+a+"Description",{name:Ma(d),series:m})}function _i(m){let a=m.series,d=a.chart.series.length>1||a.options.name,f=function(C){let D=C.series,B=D.chart,I=D.options.accessibility,G=I&&I.point&&I.point.valueDescriptionFormat||B.options.accessibility.point.valueDescriptionFormat,X=Qe(D.xAxis&&D.xAxis.options.accessibility&&D.xAxis.options.accessibility.enabled,!B.angular&&D.type!=="flowmap"),V=X?function($){let _=function(ft){let nt=ft.series,ot=nt.chart,bt=nt.options.accessibility&&nt.options.accessibility.point||{},At=ot.options.accessibility.point||{},Ht=nt.xAxis&&nt.xAxis.dateTime;if(Ht){let Wt=Ht.getXDateFormat(ft.x||0,ot.options.tooltip.dateTimeLabelFormats),Ge=bt.dateFormatter&&bt.dateFormatter(ft)||At.dateFormatter&&At.dateFormatter(ft)||bt.dateFormat||At.dateFormat||Wt;return ot.time.dateFormat(Ge,ft.x||0,void 0)}}($),ut=($.series.xAxis||{}).categories&&Ps($.category)&&(""+$.category).replace("<br/>"," "),ct=Ps($.id)&&0>(""+$.id).indexOf("highcharts-"),wt="x, "+$.x;return $.name||_||ut||(ct?$.id:wt)}(C):"";return Ui(G,{point:C,index:Ps(C.index)?C.index+1:"",xDescription:V,value:function($){let _=$.series,ut=_.chart.options.accessibility.point||{},ct=_.chart.options.accessibility&&_.chart.options.accessibility.point||{},wt=_.tooltipOptions||{},ft=ct.valuePrefix||ut.valuePrefix||wt.valuePrefix||"",nt=ct.valueSuffix||ut.valueSuffix||wt.valueSuffix||"",ot=$.value!==void 0?"value":"y",bt=Ls($,$[ot]);return $.isNull?_.chart.langFormat("accessibility.series.nullPointValue",{point:$}):_.pointArrayMap?function(At,Ht,Wt){let Ge=Ht||"",ee=Wt||"",tl=function(Se){let ii=Ls(At,Qe(At[Se],At.options[Se]));return ii!==void 0?Se+": "+Ge+ii+ee:ii};return At.series.pointArrayMap.reduce(function(Se,ii){let Vr=tl(ii);return Vr?Se+(Se.length?", ":"")+Vr:Se},"")}($,ft,nt):ft+bt+nt}(C),separator:X?", ":""},B)}(m),v=m.options&&m.options.accessibility&&m.options.accessibility.description,E=d?" "+a.name+".":"",A=function(C){let D=C.series.chart,B=Ea(C);return B.length?D.langFormat("accessibility.series.pointAnnotationsDescription",{point:C,annotations:B}):""}(m);return m.accessibility=m.accessibility||{},m.accessibility.valueDescription=f,f+(v?" "+v:"")+E+(A?" "+A:"")}function Ds(m){let a=m.chart,d=a.types||[],f=function(X){let V=(X.options.accessibility||{}).description;return V&&X.chart.langFormat("accessibility.series.description",{description:V,series:X})||""}(m),v=function(X){return a[X]&&a[X].length>1&&m[X]},E=m.index+1,A=Xn(m,"xAxis"),C=Xn(m,"yAxis"),D={seriesNumber:E,series:m,chart:a},B=d.length>1?"Combination":"",I=a.langFormat("accessibility.series.summary."+m.type+B,D)||a.langFormat("accessibility.series.summary.default"+B,D),G=(v("yAxis")?" "+C+".":"")+(v("xAxis")?" "+A+".":"");return Ui(Qe(m.options.accessibility&&m.options.accessibility.descriptionFormat,a.options.accessibility.series.descriptionFormat,""),{seriesDescription:I,authorDescription:f?" "+f:"",axisDescription:G,series:m,chart:a,seriesNumber:E},void 0)}let Lr={defaultPointDescriptionFormatter:_i,defaultSeriesDescriptionFormatter:Ds,describeSeries:function(m){let a=m.chart,d=Ta(m),f=Sa(m),v=a.is3d&&a.is3d();f&&(f.lastChild!==d||v||Ki(f),function(E){let A=function(B){let I=B.options.accessibility||{};return!qi(B)&&!I.exposeAsGroupOnly}(E),C=function(B){let I=B.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(B.points&&(B.points.length<+I.pointNavigationEnabledThreshold||I.pointNavigationEnabledThreshold===!1))}(E),D=E.chart.options.accessibility.point.describeNull;(A||C)&&E.points.forEach(B=>{let I=B.graphic&&B.graphic.element||function(X){let V=X.series,$=V&&V.chart,_=V&&V.is("sunburst"),ut=X.isNull,ct=$&&$.options.accessibility.point.describeNull;return ut&&!_&&ct}(B)&&function(X){let V=X.series,$=function(ft){let nt=ft.index;return ft.series&&ft.series.data&&Ps(nt)&&Pa(ft.series.data,function(ot){return!!(ot&&ot.index!==void 0&&ot.index>nt&&ot.graphic&&ot.graphic.element)})||null}(X),_=$&&$.graphic,ut=_?_.parentGroup:V.graph||V.group,ct=$?{x:Qe(X.plotX,$.plotX,0),y:Qe(X.plotY,$.plotY,0)}:{x:Qe(X.plotX,0),y:Qe(X.plotY,0)},wt=function(ft,nt){let ot=ft.series.chart.renderer.rect(nt.x,nt.y,1,1);return ot.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),ot}(X,ct);if(ut&&ut.element)return X.graphic=wt,X.hasMockGraphic=!0,wt.add(ut),ut.element.insertBefore(wt.element,_?_.element:null),wt.element}(B),G=B.options&&B.options.accessibility&&B.options.accessibility.enabled===!1;if(I){if(B.isNull&&!D){I.setAttribute("aria-hidden",!0);return}I.setAttribute("tabindex","-1"),E.chart.styledMode||(I.style.outline="none"),A&&!G?function(X,V){let $=X.series,_=$.options.accessibility?.point||{},ut=$.chart.options.accessibility.point||{},ct=He(jn(_.descriptionFormat)&&Ui(_.descriptionFormat,X,$.chart)||_.descriptionFormatter?.(X)||jn(ut.descriptionFormat)&&Ui(ut.descriptionFormat,X,$.chart)||ut.descriptionFormatter?.(X)||_i(X),$.chart.renderer.forExport);V.setAttribute("role","img"),V.setAttribute("aria-label",ct)}(B,I):I.setAttribute("aria-hidden",!0)}})}(m),Ca(a,f),function(E){let A=E.chart,C=A.options.chart,D=C.options3d&&C.options3d.enabled,B=A.series.length>1,I=A.options.accessibility.series.describeSingleSeries,G=(E.options.accessibility||{}).exposeAsGroupOnly;return!(D&&B)&&(B||I||G||qi(E))}(m)?function(E,A){let C=E.options.accessibility||{},D=E.chart.options.accessibility,B=D.landmarkVerbosity;C.exposeAsGroupOnly?A.setAttribute("role","img"):B==="all"?A.setAttribute("role","region"):A.setAttribute("role","group"),A.setAttribute("tabindex","-1"),E.chart.styledMode||(A.style.outline="none"),A.setAttribute("aria-label",He(D.series.descriptionFormatter&&D.series.descriptionFormatter(E)||Ds(E),E.chart.renderer.forExport))}(m,f):f.removeAttribute("aria-label"))}},{composed:Gn}=W(),{addEvent:Mi,defined:Vn,pushUnique:Bs}=W(),{getChartTitle:Da}=It,{defaultPointDescriptionFormatter:Ba,defaultSeriesDescriptionFormatter:fe}=Lr;function We(m){return!!m.options.accessibility.announceNewData.enabled}class Dr{constructor(a){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=a}init(){let a=this.chart,d=a.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new zi,this.announcer=new hs(a,d),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let a=this,d=this.chart,f=this.eventProvider;f.addEvent(d,"afterApplyDrilldown",function(){a.lastAnnouncementTime=0}),f.addEvent(d,"afterAddSeries",function(v){a.onSeriesAdded(v.series)}),f.addEvent(d,"redraw",function(){a.announceDirtyData()})}onSeriesAdded(a){We(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[a.name+a.index]=a,this.dirty.newSeries=Vn(this.dirty.newSeries)?void 0:a)}announceDirtyData(){let a=this.chart,d=this;if(a.options.accessibility.announceNewData&&this.dirty.hasDirty){let f=this.dirty.newPoint;f&&(f=function(v){let E=v.series.data.filter(A=>v.x===A.x&&v.y===A.y);return E.length===1?E[0]:v}(f)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(v=>d.dirty.allSeries[v]),this.dirty.newSeries,f),this.dirty={allSeries:{}}}}queueAnnouncement(a,d,f){let v=this.chart.options.accessibility.announceNewData;if(v.enabled){let E=+new Date,A=E-this.lastAnnouncementTime,C=Math.max(0,v.minAnnounceInterval-A),D=function(I,G){let X=(I||[]).concat(G||[]).reduce((V,$)=>(V[$.name+$.index]=$,V),{});return Object.keys(X).map(V=>X[V])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,a),B=this.buildAnnouncementMessage(D,d,f);B&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:E,message:B,series:D},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},C))}}buildAnnouncementMessage(a,d,f){let v=this.chart,E=v.options.accessibility.announceNewData;if(E.announcementFormatter){let B=E.announcementFormatter(a,d,f);if(B!==!1)return B.length?B:null}let A=W().charts&&W().charts.length>1?"Multiple":"Single",C=d?"newSeriesAnnounce"+A:f?"newPointAnnounce"+A:"newDataAnnounce",D=Da(v);return v.langFormat("accessibility.announceNewData."+C,{chartTitle:D,seriesDesc:d?fe(d):null,pointDesc:f?Ba(f):null,point:f,series:d})}}(function(m){function a(f){let v=this.chart,E=v.accessibility?.components.series.newDataAnnouncer;E&&E.chart===v&&We(v)&&(E.dirty.newPoint=Vn(E.dirty.newPoint)?void 0:f.point)}function d(){let f=this.chart,v=f.accessibility?.components.series.newDataAnnouncer;v&&v.chart===f&&We(f)&&(v.dirty.hasDirty=!0,v.dirty.allSeries[this.name+this.index]=this)}m.compose=function(f){Bs(Gn,"A11y.NDA")&&(Mi(f,"addPoint",a),Mi(f,"updatedData",d))}})(Dr||(Dr={}));let Ns=Dr,{doc:Yn}=W(),{attr:Br,css:$n,merge:Na}=W(),{fireEventOnWrappedOrUnwrappedElement:Nr}=It,{cloneMouseEvent:Ia,cloneTouchEvent:Ir,getFakeMouseEvent:he,removeElement:Mt}=Rt,Fa=class{constructor(m,a,d="button",f,v){this.chart=m,this.target=a,this.eventProvider=new zi;let E=this.innerElement=Yn.createElement(d),A=this.element=f?Yn.createElement(f):E;m.styledMode||this.hideElementVisually(E),f&&(f!=="li"||m.styledMode||(A.style.listStyle="none"),A.appendChild(E),this.element=A),this.updateTarget(a,v)}click(){let m=this.getTargetPosition();m.x+=m.width/2,m.y+=m.height/2;let a=he("click",m);Nr(this.target.click,a)}updateTarget(m,a){this.target=m,this.updateCSSClassName();let d=a||{};Object.keys(d).forEach(v=>{d[v]===null&&delete d[v]});let f=this.getTargetAttr(m.click,"aria-label");Br(this.innerElement,Na(f?{"aria-label":f}:{},d)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,m.click),this.refreshPosition()}refreshPosition(){let m=this.getTargetPosition();$n(this.innerElement,{width:(m.width||1)+"px",height:(m.height||1)+"px",left:(Math.round(m.x)||0)+"px",top:(Math.round(m.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),Mt(this.element)}updateCSSClassName(){let m=E=>E.indexOf("highcharts-no-tooltip")>-1,a=this.chart.legend,d=a.group&&a.group.div,f=m(d&&d.className||""),v=m(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=f||v?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(m,a){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(d=>{let f=d.indexOf("touch")===0;this.eventProvider.addEvent(m,d,v=>{let E=f?Ir(v):Ia(v);a&&Nr(a,E),v.stopPropagation(),f||v.preventDefault()},{passive:!1})})}hideElementVisually(m){$n(m,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let m=this.target.click,a=m.element?m.element:m,d=this.target.visual||a,f=this.chart.renderTo,v=this.chart.pointer;if(f&&d?.getBoundingClientRect&&v){let E=d.getBoundingClientRect(),A=v.getChartPosition();return{x:(E.left-A.left)/A.scaleX,y:(E.top-A.top)/A.scaleY,width:E.right/A.scaleX-E.left/A.scaleX,height:E.bottom/A.scaleY-E.top/A.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(m,a){return m.element?m.element.getAttribute(a):m.getAttribute(a)}},{doc:Un}=W(),{attr:Is,css:Fs}=W(),{unhideChartElementFromAT:Ot}=It,{removeChildNodes:Fr}=Rt,Ra=class{constructor(m){this.chart=m,this.domElementProvider=new nr,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(m,a,d="button",f){let v=this.groups[m];if(!v)throw Error("ProxyProvider.addProxyElement: Invalid group key "+m);let E=v.type==="ul"||v.type==="ol"?"li":void 0,A=new Fa(this.chart,a,d,E,f);return v.proxyContainerElement.appendChild(A.element),v.proxyElements.push(A),A}addGroup(m,a="div",d){let f,v=this.groups[m];if(v)return v.groupElement;let E=this.domElementProvider.createElement(a);return d&&d.role&&a!=="div"?(f=this.domElementProvider.createElement("div")).appendChild(E):f=E,f.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+m.replace(/\W/g,"-"),this.groups[m]={proxyContainerElement:E,groupElement:f,type:a,proxyElements:[]},Is(f,d||{}),a==="ul"&&E.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(f),this.updateGroupOrder(this.groupOrder),f}updateGroupAttrs(m,a){let d=this.groups[m];if(!d)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+m);Is(d.groupElement,a)}updateGroupOrder(m){if(this.groupOrder=m.slice(),this.isDOMOrderGroupOrder())return;let a=m.indexOf("series"),d=a>-1?m.slice(0,a):m,f=a>-1?m.slice(a+1):[],v=Un.activeElement;["before","after"].forEach(E=>{let A=this[E==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];Fr(A),(E==="before"?d:f).forEach(C=>{let D=this.groups[C];D&&A.appendChild(D.groupElement)})}),(this.beforeChartProxyPosContainer.contains(v)||this.afterChartProxyPosContainer.contains(v))&&v&&v.focus&&v.focus()}clearGroup(m){let a=this.groups[m];if(!a)throw Error("ProxyProvider.clearGroup: Invalid group key "+m);Fr(a.proxyContainerElement)}removeGroup(m){let a=this.groups[m];a&&(this.domElementProvider.removeElement(a.groupElement),a.groupElement!==a.proxyContainerElement&&this.domElementProvider.removeElement(a.proxyContainerElement),delete this.groups[m])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(m){let a=this.groups[m];a&&a.proxyElements.forEach(d=>d.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(m){let a=this.domElementProvider.createElement("div");return a.setAttribute("aria-hidden","false"),a.className="highcharts-a11y-proxy-container"+(m?"-"+m:""),Fs(a,{top:"0",left:"0"}),this.chart.styledMode||(a.style.whiteSpace="nowrap",a.style.position="absolute"),a}getCurrentGroupOrderInDOM(){let m=v=>{let E=Object.keys(this.groups),A=E.length;for(;A--;){let C=E[A],D=this.groups[C];if(D&&v===D.groupElement)return C}},a=v=>{let E=[],A=v.children;for(let C=0;C<A.length;++C){let D=m(A[C]);D&&E.push(D)}return E},d=a(this.beforeChartProxyPosContainer),f=a(this.afterChartProxyPosContainer);return d.push("series"),d.concat(f)}isDOMOrderGroupOrder(){let m=this.getCurrentGroupOrderInDOM(),a=this.groupOrder.filter(f=>f==="series"||!!this.groups[f]),d=m.length;if(d!==a.length)return!1;for(;d--;)if(m[d]!==a[d])return!1;return!0}updatePosContainerPositions(){let m=this.chart;if(m.renderer.forExport)return;let a=m.renderer.box;m.container.insertBefore(this.afterChartProxyPosContainer,a.nextSibling),m.container.insertBefore(this.beforeChartProxyPosContainer,a),Ot(this.chart,this.afterChartProxyPosContainer),Ot(this.chart,this.beforeChartProxyPosContainer)}},{unhideChartElementFromAT:Rs,getAxisRangeDescription:rt}=It,{addEvent:Zi,attr:Qi}=W();class Rr extends ye{init(){let a=this.chart;this.announcer=new hs(a,"polite")}onChartUpdate(){let a=this.chart,d=this,f=a.rangeSelector;f&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),f.buttons&&f.buttons.length&&f.buttons.forEach(v=>{d.setRangeButtonAttrs(v)}),f.maxInput&&f.minInput&&["minInput","maxInput"].forEach(function(v,E){let A=f[v];A&&(Rs(a,A),d.setRangeInputAttrs(A,"accessibility.rangeSelector."+(E?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let a=this.chart,d=a.rangeSelector,f=d&&d.dropdown,v=d&&d.buttons||[],E=A=>A.setAttribute("aria-hidden",!0);d&&d.hasVisibleDropdown&&f?(Rs(a,f),v.forEach(A=>E(A.element))):(f&&E(f),v.forEach(A=>Rs(a,A.element)))}setDropdownAttrs(){let a=this.chart,d=a.rangeSelector&&a.rangeSelector.dropdown;if(d){let f=a.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:a.options.lang.rangeSelectorZoom});d.setAttribute("aria-label",f),d.setAttribute("tabindex",-1)}}setRangeButtonAttrs(a){Qi(a.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(a,d){let f=this.chart;Qi(a,{tabindex:-1,"aria-label":f.langFormat(d,{chart:f})})}onButtonNavKbdArrowKey(a,d){let f=a.response,v=this.keyCodes,E=this.chart,A=E.options.accessibility.keyboardNavigation.wrapAround,C=d===v.left||d===v.up?-1:1;return E.highlightRangeSelectorButton(E.highlightedRangeSelectorItemIx+C)?f.success:A?(a.init(C),f.success):f[C>0?"next":"prev"]}onButtonNavKbdClick(a){let d=a.response,f=this.chart;return f.oldRangeSelectorItemState!==3&&this.fakeClickEvent(f.rangeSelector.buttons[f.highlightedRangeSelectorItemIx].element),d.success}onAfterBtnClick(){let a=this.chart,d=rt(a.xAxis[0]),f=a.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:a,axisRangeDescription:d});f&&this.announcer.announce(f)}onInputKbdMove(a){let d=this.chart,f=d.rangeSelector,v=d.highlightedInputRangeIx=(d.highlightedInputRangeIx||0)+a;if(v>1||v<0){if(d.accessibility)return d.accessibility.keyboardNavigation.exiting=!0,d.accessibility.keyboardNavigation.tabindexContainer.focus(),d.accessibility.keyboardNavigation.move(a)}else if(f){let E=f[v?"maxDateBox":"minDateBox"],A=f[v?"maxInput":"minInput"];E&&A&&d.setFocusToElement(E,A)}return!0}onInputNavInit(a){let d=this,f=this.chart,v=a>0?0:1,E=f.rangeSelector,A=E&&E[v?"maxDateBox":"minDateBox"],C=E&&E.minInput,D=E&&E.maxInput;if(f.highlightedInputRangeIx=v,A&&C&&D){f.setFocusToElement(A,v?D:C),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let B=X=>{(X.which||X.keyCode)===this.keyCodes.tab&&d.onInputKbdMove(X.shiftKey?-1:1)&&(X.preventDefault(),X.stopPropagation())},I=Zi(C,"keydown",B),G=Zi(D,"keydown",B);this.removeInputKeydownHandler=()=>{I(),G()}}}onInputNavTerminate(){let a=this.chart.rangeSelector||{};a.maxInput&&a.hideInput("max"),a.minInput&&a.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let a=this.chart,d=a.rangeSelector,f=d&&d.dropdown;d&&f&&(a.setFocusToElement(d.buttonGroup,f),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=Zi(f,"keydown",v=>{let E=(v.which||v.keyCode)===this.keyCodes.tab,A=a.accessibility;E&&(v.preventDefault(),v.stopPropagation(),A&&A.keyboardNavigation.move(v.shiftKey?-1:1))}))}getRangeSelectorButtonNavigation(){let a=this.chart,d=this.keyCodes,f=this;return new ge(a,{keyCodeMap:[[[d.left,d.right,d.up,d.down],function(v){return f.onButtonNavKbdArrowKey(this,v)}],[[d.enter,d.space],function(){return f.onButtonNavKbdClick(this)}]],validate:function(){return!!(a.rangeSelector&&a.rangeSelector.buttons&&a.rangeSelector.buttons.length)},init:function(v){let E=a.rangeSelector;if(E&&E.hasVisibleDropdown)f.initDropdownNav();else if(E){let A=E.buttons.length-1;a.highlightRangeSelectorButton(v>0?0:A)}},terminate:function(){f.removeDropdownKeydownHandler&&(f.removeDropdownKeydownHandler(),delete f.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let a=this.chart,d=this;return new ge(a,{keyCodeMap:[],validate:function(){return!!(a.rangeSelector&&a.rangeSelector.inputGroup&&a.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&a.options.rangeSelector.inputEnabled!==!1&&a.rangeSelector.minInput&&a.rangeSelector.maxInput)},init:function(f){d.onInputNavInit(f)},terminate:function(){d.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}(function(m){function a(f){let v=this.rangeSelector&&this.rangeSelector.buttons||[],E=this.highlightedRangeSelectorItemIx,A=this.rangeSelector&&this.rangeSelector.selected;return E!==void 0&&v[E]&&E!==A&&v[E].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=f,!!v[f]&&(this.setFocusToElement(v[f].box,v[f].element),f!==A&&(this.oldRangeSelectorItemState=v[f].state,v[f].setState(1)),!0)}function d(){let f=this.chart.accessibility;if(f&&f.components.rangeSelector)return f.components.rangeSelector.onAfterBtnClick()}m.compose=function(f,v){let E=f.prototype;E.highlightRangeSelectorButton||(E.highlightRangeSelectorButton=a,Zi(v,"afterBtnClick",d))}})(Rr||(Rr={}));let Ji=Rr,{composed:dt}=W(),{addEvent:Je,merge:zs,pushUnique:za}=W();(function(m){function a(D){zs(!0,D,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function d(D){return D.marker.states&&D.marker.states.normal&&D.marker.states.normal.opacity}function f(D){return!!(D._hasPointMarkers&&D.points&&D.points.length)}function v(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),f(this)&&this.points.forEach(D=>{D.graphic&&(D.graphic[D.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),D.graphic[D.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function E(D){this.resetA11yMarkerOptions=zs(D.options.marker||{},this.userOptions.marker||{})}function A(){let D=this.options;(function(B){let I=B.chart.options.accessibility.enabled,G=(B.options.accessibility&&B.options.accessibility.enabled)!==!1;return I&&G&&function(X){let V=X.chart.options.accessibility;return X.points.length<V.series.pointDescriptionEnabledThreshold||V.series.pointDescriptionEnabledThreshold===!1}(B)})(this)?(D.marker&&D.marker.enabled===!1&&(this.a11yMarkersForced=!0,a(this.options)),f(this)&&function(B){let I=B.points.length;for(;I--;){let G=B.points[I],X=G.options,V=G.hasForcedA11yMarker;if(delete G.hasForcedA11yMarker,X.marker){let $=V&&d(X)===0;X.marker.enabled&&!$?(zs(!0,X.marker,{states:{normal:{opacity:d(X)||1}}}),G.hasForcedA11yMarker=!1):X.marker.enabled===!1&&(a(X),G.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(B){let I=B.resetA11yMarkerOptions;if(I){let G=I.states&&I.states.normal&&I.states.normal.opacity;B.userOptions&&B.userOptions.marker&&(B.userOptions.marker.enabled=!0),B.update({marker:{enabled:I.enabled,states:{normal:{opacity:G}}}})}}(this),delete this.resetA11yMarkerOptions)}function C(){this.boosted&&this.a11yMarkersForced&&(zs(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}m.compose=function(D){za(dt,"A11y.FM")&&(Je(D,"afterSetOptions",E),Je(D,"render",A),Je(D,"afterRender",v),Je(D,"renderCanvas",C))}})(Ye||(Ye={}));let Ha=Ye;var Kn=yt(260),Ti=yt.n(Kn),Wa=yt(820),ja=yt.n(Wa);let{seriesTypes:qn}=Er(),{doc:Hs}=W(),{defined:Te,fireEvent:_n}=W(),{getPointFromXY:Xa,getSeriesFromName:Ga,scrollAxisToPoint:Va}=It;function Zn(m){let a=m.index,d=m.series.points,f=d.length;if(d[a]===m)return a;for(;f--;)if(d[f]===m)return f}function ts(m){let a=m.chart.options.accessibility.keyboardNavigation.seriesNavigation,d=m.options.accessibility||{},f=d.keyboardNavigation;return f&&f.enabled===!1||d.enabled===!1||m.options.enableMouseTracking===!1||!m.visible||a.pointNavigationEnabledThreshold&&+a.pointNavigationEnabledThreshold<=m.points.length}function Si(m){let a=m.series.chart.options.accessibility,d=m.options.accessibility&&m.options.accessibility.enabled===!1;return m.isNull&&a.keyboardNavigation.seriesNavigation.skipNullPoints||m.visible===!1||m.isInside===!1||d||ts(m.series)}function Ws(m){let a=m.series||[],d=a.length;for(let f=0;f<d;++f)if(!ts(a[f])){let v=function(E){let A=E.points||[],C=A.length;for(let D=0;D<C;++D)if(!Si(A[D]))return A[D];return null}(a[f]);if(v)return v}return null}function Qn(m){let a=m.series.length,d=!1;for(;a--&&(m.highlightedPoint=m.series[a].points[m.series[a].points.length-1],!(d=m.series[a].highlightNextValidPoint())););return d}function js(m){delete m.highlightedPoint;let a=Ws(m);return!!a&&a.highlight()}class Xs{constructor(a,d){this.keyCodes=d,this.chart=a}init(){let a=this,d=this.chart,f=this.eventProvider=new zi;f.addEvent(ja(),"destroy",function(){return a.onSeriesDestroy(this)}),f.addEvent(d,"afterApplyDrilldown",function(){(function(v){let E=Ws(v);E&&E.highlight(!1)})(this)}),f.addEvent(d,"drilldown",function(v){let E=v.point,A=E.series;a.lastDrilledDownPoint={x:E.x,y:E.y,seriesName:A?A.name:""}}),f.addEvent(d,"drillupall",function(){setTimeout(function(){a.onDrillupAll()},10)}),f.addEvent(Ti(),"afterSetState",function(){let v=this.graphic&&this.graphic.element,E=Hs.activeElement,A=E&&E.getAttribute("class"),C=A&&A.indexOf("highcharts-a11y-proxy-element")>-1;d.highlightedPoint===this&&E!==v&&!C&&v&&v.focus&&v.focus()})}onDrillupAll(){let a,d=this.lastDrilledDownPoint,f=this.chart,v=d&&Ga(f,d.seriesName);d&&v&&Te(d.x)&&Te(d.y)&&(a=Xa(v,d.x,d.y)),a=a||Ws(f),f.container&&f.container.focus(),a&&a.highlight&&a.highlight(!1)}getKeyboardNavigationHandler(){let a=this,d=this.keyCodes,f=this.chart,v=f.inverted;return new ge(f,{keyCodeMap:[[v?[d.up,d.down]:[d.left,d.right],function(E){return a.onKbdSideways(this,E)}],[v?[d.left,d.right]:[d.up,d.down],function(E){return a.onKbdVertical(this,E)}],[[d.enter,d.space],function(E,A){let C=f.highlightedPoint;if(C){let{plotLeft:D,plotTop:B}=this.chart,{plotX:I=0,plotY:G=0}=C;A={...A,chartX:D+I,chartY:B+G,point:C,target:C.graphic?.element||A.target},_n(C.series,"click",A),C.firePointEvent("click",A)}return this.response.success}],[[d.home],function(){return js(f),this.response.success}],[[d.end],function(){return Qn(f),this.response.success}],[[d.pageDown,d.pageUp],function(E){return f.highlightAdjacentSeries(E===d.pageDown),this.response.success}]],init:function(){return a.onHandlerInit(this)},validate:function(){return!!Ws(f)},terminate:function(){return a.onHandlerTerminate()}})}onKbdSideways(a,d){let f=this.keyCodes,v=d===f.right||d===f.down;return this.attemptHighlightAdjacentPoint(a,v)}onHandlerInit(a){let d=this.chart;return d.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&d.highlightedPoint?d.highlightedPoint.highlight():js(d),a.response.success}onKbdVertical(a,d){let f=this.chart,v=this.keyCodes,E=d===v.down||d===v.right,A=f.options.accessibility.keyboardNavigation.seriesNavigation;if(A.mode&&A.mode==="serialize")return this.attemptHighlightAdjacentPoint(a,E);let C=f.highlightedPoint&&f.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return f[C](E),a.response.success}onHandlerTerminate(){let a=this.chart,d=a.options.accessibility.keyboardNavigation;a.tooltip&&a.tooltip.hide(0);let f=a.highlightedPoint&&a.highlightedPoint.series;f&&f.onMouseOut&&f.onMouseOut(),a.highlightedPoint&&a.highlightedPoint.onMouseOut&&a.highlightedPoint.onMouseOut(),d.seriesNavigation.rememberPointFocus||delete a.highlightedPoint}attemptHighlightAdjacentPoint(a,d){let f=this.chart,v=f.options.accessibility.keyboardNavigation.wrapAround;return f.highlightAdjacentPoint(d)||v&&(d?js(f):Qn(f))?a.response.success:a.response[d?"next":"prev"]}onSeriesDestroy(a){let d=this.chart;d.highlightedPoint&&d.highlightedPoint.series===a&&(delete d.highlightedPoint,d.focusElement&&d.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}(function(m){function a(A){let C,D,B=this.series,I=this.highlightedPoint,G=I&&Zn(I)||0,X=I&&I.series.points||[],V=this.series&&this.series[this.series.length-1],$=V&&V.points&&V.points[V.points.length-1];if(!B[0]||!B[0].points)return!1;if(I){if(C=B[I.series.index+(A?1:-1)],(D=X[G+(A?1:-1)])||!C||(D=C.points[A?0:C.points.length-1]),!D)return!1}else D=A?B[0].points[0]:$;return Si(D)?(ts(C=D.series)?this.highlightedPoint=A?C.points[C.points.length-1]:C.points[0]:this.highlightedPoint=D,this.highlightAdjacentPoint(A)):D.highlight()}function d(A){let C=this.highlightedPoint,D=1/0,B;return!!(Te(C.plotX)&&Te(C.plotY))&&(this.series.forEach(I=>{ts(I)||I.points.forEach(G=>{if(!Te(G.plotY)||!Te(G.plotX)||G===C)return;let X=G.plotY-C.plotY,V=Math.abs(G.plotX-C.plotX),$=Math.abs(X)*Math.abs(X)+V*V*4;I.yAxis&&I.yAxis.reversed&&(X*=-1),!(X<=0&&A||X>=0&&!A||$<5||Si(G))&&$<D&&(D=$,B=G)})}),!!B&&B.highlight())}function f(A){let C,D,B,I=this.highlightedPoint,G=this.series&&this.series[this.series.length-1],X=G&&G.points&&G.points[G.points.length-1];return this.highlightedPoint?!!((C=this.series[I.series.index+(A?-1:1)])&&(D=function(V,$,_,ut){let ct=1/0,wt,ft,nt,ot=$.points.length,bt=At=>!(Te(At.plotX)&&Te(At.plotY));if(!bt(V)){for(;ot--;)!bt(wt=$.points[ot])&&(nt=(V.plotX-wt.plotX)*(V.plotX-wt.plotX)*4+(V.plotY-wt.plotY)*(V.plotY-wt.plotY)*1)<ct&&(ct=nt,ft=ot);return Te(ft)?$.points[ft]:void 0}}(I,C,0)))&&(ts(C)?(D.highlight(),(B=this.highlightAdjacentSeries(A))?B:(I.highlight(),!1)):(D.highlight(),D.series.highlightNextValidPoint())):(C=A?this.series&&this.series[0]:G,!!(D=A?C&&C.points&&C.points[0]:X)&&D.highlight())}function v(A=!0){let C=this.series.chart,D=C.tooltip?.label?.element;!this.isNull&&A?this.onMouseOver():C.tooltip&&C.tooltip.hide(0),Va(this),this.graphic&&(C.setFocusToElement(this.graphic),!A&&C.focusElement&&C.focusElement.removeFocusBorder()),C.highlightedPoint=this;let B=D?.getBoundingClientRect().top;if(D&&B&&B<0){let I=window.scrollY;window.scrollTo({behavior:"smooth",top:I+B})}return this}function E(){let A=this.chart.highlightedPoint,C=(A&&A.series)===this?Zn(A):0,D=this.points,B=D.length;if(D&&B){for(let I=C;I<B;++I)if(!Si(D[I]))return D[I].highlight();for(let I=C;I>=0;--I)if(!Si(D[I]))return D[I].highlight()}return!1}m.compose=function(A,C,D){let B=A.prototype,I=C.prototype,G=D.prototype;B.highlightAdjacentPoint||(B.highlightAdjacentPoint=a,B.highlightAdjacentPointVertical=d,B.highlightAdjacentSeries=f,I.highlight=v,G.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(X=>{qn[X]&&(qn[X].prototype.keyboardMoveVertical=!1)}),G.highlightNextValidPoint=E)}})(Xs||(Xs={}));let be=Xs,{hideSeriesFromAT:Ya}=It,{describeSeries:$a}=Lr,Jn=class extends ye{static compose(m,a,d){Ns.compose(d),Ha.compose(d),be.compose(m,a,d)}init(){this.newDataAnnouncer=new Ns(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new be(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let m=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===m.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(m){m.labelBySeries&&m.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(m){(m.options.accessibility&&m.options.accessibility.enabled)!==!1&&m.visible&&m.getPointsCollection().length!==0?$a(m):Ya(m)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}},{unhideChartElementFromAT:to}=It,{getFakeMouseEvent:zr}=Rt,{attr:Ua,pick:Gs}=W(),Ka=class extends ye{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let m=this,a=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(d=>{m.addEvent(a,d,function(){m.updateProxyOverlays()})})}onChartUpdate(){let m=this.chart,a=this;m.mapNavigation&&m.mapNavigation.navButtons.forEach((d,f)=>{to(m,d.element),a.setMapNavButtonAttrs(d.element,"accessibility.zoom.mapZoom"+(f?"Out":"In"))})}setMapNavButtonAttrs(m,a){let d=this.chart;Ua(m,{tabindex:-1,role:"button","aria-label":d.langFormat(a,{chart:d})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let m=this.chart;if(this.proxyProvider.clearGroup("zoom"),m.resetZoomButton&&this.createZoomProxyButton(m.resetZoomButton,"resetZoomProxyButton",m.langFormat("accessibility.zoom.resetZoomButton",{chart:m})),m.drillUpButton&&m.breadcrumbs&&m.breadcrumbs.list){let a=m.breadcrumbs.list[m.breadcrumbs.list.length-1];this.createZoomProxyButton(m.drillUpButton,"drillUpProxyButton",m.langFormat("accessibility.drillUpButton",{chart:m,buttonText:m.breadcrumbs.getButtonText(a)}))}}createZoomProxyButton(m,a,d){this[a]=this.proxyProvider.addProxyElement("zoom",{click:m},"button",{"aria-label":d,tabindex:-1})}getMapZoomNavigation(){let m=this.keyCodes,a=this.chart,d=this;return new ge(a,{keyCodeMap:[[[m.up,m.down,m.left,m.right],function(f){return d.onMapKbdArrow(this,f)}],[[m.tab],function(f,v){return d.onMapKbdTab(this,v)}],[[m.space,m.enter],function(){return d.onMapKbdClick(this)}]],validate:function(){return!!(a.mapView&&a.mapNavigation&&a.mapNavigation.navButtons.length)},init:function(f){return d.onMapNavInit(f)}})}onMapKbdArrow(m,a){let d=this.chart,f=this.keyCodes,v=d.container,E=a===f.up||a===f.down,A=a===f.left||a===f.up?1:-1,C=(E?d.plotHeight:d.plotWidth)/10*A,D=10*Math.random(),B={x:v.offsetLeft+d.plotLeft+d.plotWidth/2+D,y:v.offsetTop+d.plotTop+d.plotHeight/2+D},I=E?{x:B.x,y:B.y+C}:{x:B.x+C,y:B.y};return[zr("mousedown",B),zr("mousemove",I),zr("mouseup",I)].forEach(G=>v.dispatchEvent(G)),m.response.success}onMapKbdTab(m,a){let d=this.chart,f=m.response,v=a.shiftKey,E=v&&!this.focusedMapNavButtonIx||!v&&this.focusedMapNavButtonIx;if(d.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),E)return d.mapView&&d.mapView.zoomBy(),f[v?"prev":"next"];this.focusedMapNavButtonIx+=v?-1:1;let A=d.mapNavigation.navButtons[this.focusedMapNavButtonIx];return d.setFocusToElement(A.box,A.element),A.setState(2),f.success}onMapKbdClick(m){let a=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(a),m.response.success}onMapNavInit(m){let a=this.chart,d=a.mapNavigation.navButtons[0],f=a.mapNavigation.navButtons[1],v=m>0?d:f;a.setFocusToElement(v.box,v.element),v.setState(2),this.focusedMapNavButtonIx=m>0?0:1}simpleButtonNavigation(m,a,d){let f=this.keyCodes,v=this,E=this.chart;return new ge(E,{keyCodeMap:[[[f.tab,f.up,f.down,f.left,f.right],function(A,C){let D=A===f.tab&&C.shiftKey||A===f.left||A===f.up;return this.response[D?"prev":"next"]}],[[f.space,f.enter],function(){return Gs(d(this,E),this.response.success)}]],validate:function(){return E[m]&&E[m].box&&v[a].innerElement},init:function(){E.setFocusToElement(E[m].box,v[a].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(m,a){a.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(m,a){return a.drillUp(),m.response.prev}),this.getMapZoomNavigation()]}},{doc:Vs,isMS:qa,win:ti}=W(),Hr={isHighContrastModeActive:function(){let m=/(Edg)/.test(ti.navigator.userAgent);if(ti.matchMedia&&m)return ti.matchMedia("(-ms-high-contrast: active)").matches;if(qa&&ti.getComputedStyle){let a=Vs.createElement("div");a.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",Vs.body.appendChild(a);let d=(a.currentStyle||ti.getComputedStyle(a)).backgroundImage;return Vs.body.removeChild(a),d==="none"}return ti.matchMedia&&ti.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(m){m.highContrastModeActive=!0;let a=m.options.accessibility.highContrastTheme;m.update(a,!1);let d=a.colors?.length>1;m.series.forEach(function(f){let v=a.plotOptions[f.type]||{},E=d&&f.colorIndex!==void 0?a.colors[f.colorIndex]:v.color||"window",A={color:v.color||"windowText",colors:d?a.colors:[v.color||"windowText"],borderColor:v.borderColor||"window",fillColor:E};f.update(A,!1),f.points&&f.points.forEach(function(C){C.options&&C.options.color&&C.update({color:v.color||"windowText",borderColor:v.borderColor||"window"},!1)})}),m.redraw()}},{error:Ys,pick:_a}=W();function eo(m,a,d){let f=m,v,E=0;for(;E<a.length-1;++E)f=f[v=a[E]]=_a(f[v],{});f[a[a.length-1]]=d}function je(m,a,d,f){function v(C,D){return D.reduce(function(B,I){return B[I]},C)}let E=v(m.options,a),A=v(m.options,d);Object.keys(f).forEach(function(C){let D=E[C];D!==void 0&&(eo(A,f[C],D),Ys(32,!1,m,{[a.join(".")+"."+C]:d.join(".")+"."+f[C].join(".")}))})}let io=function(m){(function(a){let d=a.options.chart,f=a.options.accessibility||{};["description","typeDescription"].forEach(function(v){d[v]&&(f[v]=d[v],Ys(32,!1,a,{[`chart.${v}`]:`use accessibility.${v}`}))})})(m),function(a){a.axes.forEach(function(d){let f=d.options;f&&f.description&&(f.accessibility=f.accessibility||{},f.accessibility.description=f.description,Ys(32,!1,a,{"axis.description":"use axis.accessibility.description"}))})}(m),m.series&&function(a){let d={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};a.series.forEach(function(f){Object.keys(d).forEach(function(v){let E=f.options[v];v==="accessibility.pointDescriptionFormatter"&&(E=f.options.accessibility&&f.options.accessibility.pointDescriptionFormatter),E!==void 0&&(eo(f.options,d[v],v==="skipKeyboardNavigation"?!E:E),Ys(32,!1,a,{[`series.${v}`]:"series."+d[v].join(".")}))})})}(m),je(m,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),je(m,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),je(m,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})},{defaultOptions:Za}=W(),{doc:Qa}=W(),{addEvent:Xe,extend:Ja,fireEvent:Wr,merge:so}=W(),{removeElement:jr}=Rt;class Xr{constructor(a){this.init(a)}init(a){if(this.chart=a,!Qa.addEventListener){this.zombie=!0,this.components={},a.renderTo.setAttribute("aria-hidden",!0);return}io(a),this.proxyProvider=new Ra(this.chart),this.initComponents(),this.keyboardNavigation=new fr(a,this.components)}initComponents(){let a=this.chart,d=this.proxyProvider,f=a.options.accessibility;this.components={container:new Ie,infoRegions:new Kt,legend:new vn,chartMenu:new pr,rangeSelector:new Ji,series:new Jn,zoom:new Ka,navigator:new Wn},f.customComponents&&Ja(this.components,f.customComponents);let v=this.components;this.getComponentOrder().forEach(function(E){v[E].initBase(a,d),v[E].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(a=>a!=="series")):Object.keys(this.components):[]}update(){let a=this.components,d=this.chart,f=d.options.accessibility;Wr(d,"beforeA11yUpdate"),d.types=this.getChartTypes();let v=f.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(v),this.getComponentOrder().forEach(function(E){a[E].onChartUpdate(),Wr(d,"afterA11yComponentUpdate",{name:E,component:a[E]})}),this.keyboardNavigation.update(v),!d.highContrastModeActive&&f.highContrastMode!==!1&&(Hr.isHighContrastModeActive()||f.highContrastMode===!0)&&Hr.setHighContrastTheme(d),Wr(d,"afterA11yUpdate",{accessibility:this})}destroy(){let a=this.chart||{},d=this.components;Object.keys(d).forEach(function(f){d[f].destroy(),d[f].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),a.announcerContainer&&jr(a.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),a.renderTo&&a.renderTo.setAttribute("aria-hidden",!0),a.focusElement&&a.focusElement.removeFocusBorder()}getChartTypes(){let a={};return this.chart.series.forEach(function(d){a[d.type]=1}),Object.keys(a)}}(function(m){function a(){this.accessibility&&this.accessibility.destroy()}function d(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let A=this.accessibility;A&&!A.zombie&&(A.proxyProvider.updateProxyElementPositions(),A.getComponentOrder().forEach(function(C){A.components[C].onChartRender()}))}function f(A){let C=A.options.accessibility;C&&(C.customComponents&&(this.options.accessibility.customComponents=C.customComponents,delete C.customComponents),so(!0,this.options.accessibility,C),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function v(){let A=this.accessibility,C=this.options.accessibility,D=this.renderer.boxWrapper.element,B=this.title;if(C&&C.enabled)A&&!A.zombie?A.update():(this.accessibility=A=new m(this),A&&!A.zombie&&A.update(),D.getAttribute("role")==="img"&&D.removeAttribute("role"));else if(A)A.destroy&&A.destroy(),delete this.accessibility;else{this.renderTo.setAttribute("role","img"),this.renderTo.setAttribute("aria-hidden",!1),this.renderTo.setAttribute("aria-label",(B&&B.element.textContent||"").replace(/</g,"&lt;")),D.setAttribute("aria-hidden",!0);let I=document.getElementsByClassName("highcharts-description")[0];I&&(I.setAttribute("aria-hidden",!1),I.classList.remove("highcharts-linked-description"))}}function E(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}m.i18nFormat=Ri.i18nFormat,m.compose=function(A,C,D,B,I,G){fr.compose(A),Ns.compose(B),vn.compose(A,C),pr.compose(A),Jn.compose(A,D,B),Ri.compose(A),zo.compose(A,I),G&&Ji.compose(A,G);let X=A.prototype;X.updateA11yEnabled||(X.updateA11yEnabled=v,Xe(A,"destroy",a),Xe(A,"render",d),Xe(A,"update",f),["addSeries","init"].forEach(V=>{Xe(A,V,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(V=>{Xe(A,V,function(){let $=this.accessibility;$&&!$.zombie&&$.update()})}),Xe(D,"update",E),["update","updatedData","remove"].forEach(V=>{Xe(B,V,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}})(Xr||(Xr={})),so(!0,Za,{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}},{accessibility:{highContrastTheme:{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}},lang:{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}});let ei=Xr,ue=W();ue.i18nFormat=ei.i18nFormat,ue.A11yChartUtilities=It,ue.A11yHTMLUtilities=Rt,ue.AccessibilityComponent=ye,ue.KeyboardNavigationHandler=ge,ue.SeriesAccessibilityDescriber=Lr,ei.compose(ue.Chart,ue.Legend,ue.Point,ue.Series,ue.SVGElement,ue.RangeSelector);let Gr=W();return $e.default})())});var Pc=Il((en,Hl)=>{(function(L,p){typeof en=="object"&&typeof Hl=="object"?Hl.exports=p(L._Highcharts):typeof define=="function"&&define.amd?define("highcharts/themes/high-contrast-dark",["highcharts/highcharts"],function(x){return p(x)}):typeof en=="object"?en["highcharts/themes/high-contrast-dark"]=p(L._Highcharts):L.Highcharts=p(L.Highcharts)})(typeof window>"u"?en:window,L=>(()=>{"use strict";var p,x={944:Et=>{Et.exports=L}},S={};function j(Et){var mt=S[Et];if(mt!==void 0)return mt.exports;var Ut=S[Et]={exports:{}};return x[Et](Ut,Ut.exports,j),Ut.exports}j.n=Et=>{var mt=Et&&Et.__esModule?()=>Et.default:()=>Et;return j.d(mt,{a:mt}),mt},j.d=(Et,mt)=>{for(var Ut in mt)j.o(mt,Ut)&&!j.o(Et,Ut)&&Object.defineProperty(Et,Ut,{enumerable:!0,get:mt[Ut]})},j.o=(Et,mt)=>Object.prototype.hasOwnProperty.call(Et,mt);var q={};j.d(q,{default:()=>pe});var it=j(944),xt=j.n(it);let{setOptions:Tt}=xt();(function(Et){let mt="#F0F0F3";Et.options={colors:["#67B9EE","#CEEDA5","#9F6AE1","#FEA26E","#6BA48F","#EA3535","#8D96B7","#ECCA15","#20AA09","#E0C3E4"],chart:{backgroundColor:"#1f1f20",plotBorderColor:"#606063"},title:{style:{color:mt}},subtitle:{style:{color:mt}},xAxis:{gridLineColor:"#707073",labels:{style:{color:mt}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:mt}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:mt}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:mt}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:mt}},plotOptions:{series:{dataLabels:{color:mt},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"},map:{nullColor:"#353535"}},legend:{backgroundColor:"transparent",itemStyle:{color:mt},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#D0D0D0"}}},credits:{style:{color:mt}},drilldown:{activeAxisLabelStyle:{color:mt},activeDataLabelStyle:{color:mt}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#eee"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:mt}},select:{fill:"#303030",stroke:"#101010",style:{color:mt}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:mt},labelStyle:{color:mt}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(180,180,255,0.2)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}},Et.apply=function(){Tt(Et.options)}})(p||(p={}));let $t=p;xt().theme=$t.options,$t.apply();let pe=xt();return q.default})())});var on=Fl(Cc()),Wg=Fl(Oc()),Kc=Fl(Pc());var Wl=class{constructor(p,x,S){this.eventTarget=p,this.eventName=x,this.eventOptions=S,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(p){this.unorderedBindings.add(p)}bindingDisconnected(p){this.unorderedBindings.delete(p)}handleEvent(p){let x=Ep(p);for(let S of this.bindings){if(x.immediatePropagationStopped)break;S.handleEvent(x)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((p,x)=>{let S=p.index,j=x.index;return S<j?-1:S>j?1:0})}};function Ep(L){if("immediatePropagationStopped"in L)return L;{let{stopImmediatePropagation:p}=L;return Object.assign(L,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,p.call(this)}})}}var jl=class{constructor(p){this.application=p,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(p=>p.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(p=>p.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((p,x)=>p.concat(Array.from(x.values())),[])}bindingConnected(p){this.fetchEventListenerForBinding(p).bindingConnected(p)}bindingDisconnected(p,x=!1){this.fetchEventListenerForBinding(p).bindingDisconnected(p),x&&this.clearEventListenersForBinding(p)}handleError(p,x,S={}){this.application.handleError(p,`Error ${x}`,S)}clearEventListenersForBinding(p){let x=this.fetchEventListenerForBinding(p);x.hasBindings()||(x.disconnect(),this.removeMappedEventListenerFor(p))}removeMappedEventListenerFor(p){let{eventTarget:x,eventName:S,eventOptions:j}=p,q=this.fetchEventListenerMapForEventTarget(x),it=this.cacheKey(S,j);q.delete(it),q.size==0&&this.eventListenerMaps.delete(x)}fetchEventListenerForBinding(p){let{eventTarget:x,eventName:S,eventOptions:j}=p;return this.fetchEventListener(x,S,j)}fetchEventListener(p,x,S){let j=this.fetchEventListenerMapForEventTarget(p),q=this.cacheKey(x,S),it=j.get(q);return it||(it=this.createEventListener(p,x,S),j.set(q,it)),it}createEventListener(p,x,S){let j=new Wl(p,x,S);return this.started&&j.connect(),j}fetchEventListenerMapForEventTarget(p){let x=this.eventListenerMaps.get(p);return x||(x=new Map,this.eventListenerMaps.set(p,x)),x}cacheKey(p,x){let S=[p];return Object.keys(x).sort().forEach(j=>{S.push(`${x[j]?"":"!"}${j}`)}),S.join(":")}},Mp={stop({event:L,value:p}){return p&&L.stopPropagation(),!0},prevent({event:L,value:p}){return p&&L.preventDefault(),!0},self({event:L,value:p,element:x}){return p?x===L.target:!0}},Tp=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Sp(L){let x=L.trim().match(Tp)||[],S=x[2],j=x[3];return j&&!["keydown","keyup","keypress"].includes(S)&&(S+=`.${j}`,j=""),{eventTarget:Cp(x[4]),eventName:S,eventOptions:x[7]?Op(x[7]):{},identifier:x[5],methodName:x[6],keyFilter:x[1]||j}}function Cp(L){if(L=="window")return window;if(L=="document")return document}function Op(L){return L.split(":").reduce((p,x)=>Object.assign(p,{[x.replace(/^!/,"")]:!/^!/.test(x)}),{})}function Pp(L){if(L==window)return"window";if(L==document)return"document"}function hh(L){return L.replace(/(?:[_-])([a-z0-9])/g,(p,x)=>x.toUpperCase())}function Xl(L){return hh(L.replace(/--/g,"-").replace(/__/g,"_"))}function rn(L){return L.charAt(0).toUpperCase()+L.slice(1)}function Wc(L){return L.replace(/([A-Z])/g,(p,x)=>`-${x.toLowerCase()}`)}function Lp(L){return L.match(/[^\s]+/g)||[]}function Lc(L){return L!=null}function Gl(L,p){return Object.prototype.hasOwnProperty.call(L,p)}var Dc=["meta","ctrl","alt","shift"],Vl=class{constructor(p,x,S,j){this.element=p,this.index=x,this.eventTarget=S.eventTarget||p,this.eventName=S.eventName||Dp(p)||Co("missing event name"),this.eventOptions=S.eventOptions||{},this.identifier=S.identifier||Co("missing identifier"),this.methodName=S.methodName||Co("missing method name"),this.keyFilter=S.keyFilter||"",this.schema=j}static forToken(p,x){return new this(p.element,p.index,Sp(p.content),x)}toString(){let p=this.keyFilter?`.${this.keyFilter}`:"",x=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${p}${x}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(p){if(!this.keyFilter)return!1;let x=this.keyFilter.split("+");if(this.keyFilterDissatisfied(p,x))return!0;let S=x.filter(j=>!Dc.includes(j))[0];return S?(Gl(this.keyMappings,S)||Co(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[S].toLowerCase()!==p.key.toLowerCase()):!1}shouldIgnoreMouseEvent(p){if(!this.keyFilter)return!1;let x=[this.keyFilter];return!!this.keyFilterDissatisfied(p,x)}get params(){let p={},x=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:S,value:j}of Array.from(this.element.attributes)){let q=S.match(x),it=q&&q[1];it&&(p[hh(it)]=Bp(j))}return p}get eventTargetName(){return Pp(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(p,x){let[S,j,q,it]=Dc.map(xt=>x.includes(xt));return p.metaKey!==S||p.ctrlKey!==j||p.altKey!==q||p.shiftKey!==it}},Bc={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:L=>L.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Dp(L){let p=L.tagName.toLowerCase();if(p in Bc)return Bc[p](L)}function Co(L){throw new Error(L)}function Bp(L){try{return JSON.parse(L)}catch{return L}}var Yl=class{constructor(p,x){this.context=p,this.action=x}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(p){let x=this.prepareActionEvent(p);this.willBeInvokedByEvent(p)&&this.applyEventModifiers(x)&&this.invokeWithEvent(x)}get eventName(){return this.action.eventName}get method(){let p=this.controller[this.methodName];if(typeof p=="function")return p;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(p){let{element:x}=this.action,{actionDescriptorFilters:S}=this.context.application,{controller:j}=this.context,q=!0;for(let[it,xt]of Object.entries(this.eventOptions))if(it in S){let Tt=S[it];q=q&&Tt({name:it,value:xt,event:p,element:x,controller:j})}else continue;return q}prepareActionEvent(p){return Object.assign(p,{params:this.action.params})}invokeWithEvent(p){let{target:x,currentTarget:S}=p;try{this.method.call(this.controller,p),this.context.logDebugActivity(this.methodName,{event:p,target:x,currentTarget:S,action:this.methodName})}catch(j){let{identifier:q,controller:it,element:xt,index:Tt}=this,$t={identifier:q,controller:it,element:xt,index:Tt,event:p};this.context.handleError(j,`invoking action "${this.action}"`,$t)}}willBeInvokedByEvent(p){let x=p.target;return p instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(p)||p instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(p)?!1:this.element===x?!0:x instanceof Element&&this.element.contains(x)?this.scope.containsElement(x):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Oo=class{constructor(p,x){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=p,this.started=!1,this.delegate=x,this.elements=new Set,this.mutationObserver=new MutationObserver(S=>this.processMutations(S))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(p){this.started&&(this.mutationObserver.disconnect(),this.started=!1),p(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let p=new Set(this.matchElementsInTree());for(let x of Array.from(this.elements))p.has(x)||this.removeElement(x);for(let x of Array.from(p))this.addElement(x)}}processMutations(p){if(this.started)for(let x of p)this.processMutation(x)}processMutation(p){p.type=="attributes"?this.processAttributeChange(p.target,p.attributeName):p.type=="childList"&&(this.processRemovedNodes(p.removedNodes),this.processAddedNodes(p.addedNodes))}processAttributeChange(p,x){this.elements.has(p)?this.delegate.elementAttributeChanged&&this.matchElement(p)?this.delegate.elementAttributeChanged(p,x):this.removeElement(p):this.matchElement(p)&&this.addElement(p)}processRemovedNodes(p){for(let x of Array.from(p)){let S=this.elementFromNode(x);S&&this.processTree(S,this.removeElement)}}processAddedNodes(p){for(let x of Array.from(p)){let S=this.elementFromNode(x);S&&this.elementIsActive(S)&&this.processTree(S,this.addElement)}}matchElement(p){return this.delegate.matchElement(p)}matchElementsInTree(p=this.element){return this.delegate.matchElementsInTree(p)}processTree(p,x){for(let S of this.matchElementsInTree(p))x.call(this,S)}elementFromNode(p){if(p.nodeType==Node.ELEMENT_NODE)return p}elementIsActive(p){return p.isConnected!=this.element.isConnected?!1:this.element.contains(p)}addElement(p){this.elements.has(p)||this.elementIsActive(p)&&(this.elements.add(p),this.delegate.elementMatched&&this.delegate.elementMatched(p))}removeElement(p){this.elements.has(p)&&(this.elements.delete(p),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(p))}},Po=class{constructor(p,x,S){this.attributeName=x,this.delegate=S,this.elementObserver=new Oo(p,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(p){this.elementObserver.pause(p)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(p){return p.hasAttribute(this.attributeName)}matchElementsInTree(p){let x=this.matchElement(p)?[p]:[],S=Array.from(p.querySelectorAll(this.selector));return x.concat(S)}elementMatched(p){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(p,this.attributeName)}elementUnmatched(p){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(p,this.attributeName)}elementAttributeChanged(p,x){this.delegate.elementAttributeValueChanged&&this.attributeName==x&&this.delegate.elementAttributeValueChanged(p,x)}};function Np(L,p,x){jc(L,p).add(x)}function Ip(L,p,x){jc(L,p).delete(x),Fp(L,p)}function jc(L,p){let x=L.get(p);return x||(x=new Set,L.set(p,x)),x}function Fp(L,p){let x=L.get(p);x!=null&&x.size==0&&L.delete(p)}var ni=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((x,S)=>x.concat(Array.from(S)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((x,S)=>x+S.size,0)}add(p,x){Np(this.valuesByKey,p,x)}delete(p,x){Ip(this.valuesByKey,p,x)}has(p,x){let S=this.valuesByKey.get(p);return S!=null&&S.has(x)}hasKey(p){return this.valuesByKey.has(p)}hasValue(p){return Array.from(this.valuesByKey.values()).some(S=>S.has(p))}getValuesForKey(p){let x=this.valuesByKey.get(p);return x?Array.from(x):[]}getKeysForValue(p){return Array.from(this.valuesByKey).filter(([x,S])=>S.has(p)).map(([x,S])=>x)}};var $l=class{constructor(p,x,S,j){this._selector=x,this.details=j,this.elementObserver=new Oo(p,this),this.delegate=S,this.matchesByElement=new ni}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(p){this._selector=p,this.refresh()}start(){this.elementObserver.start()}pause(p){this.elementObserver.pause(p)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(p){let{selector:x}=this;if(x){let S=p.matches(x);return this.delegate.selectorMatchElement?S&&this.delegate.selectorMatchElement(p,this.details):S}else return!1}matchElementsInTree(p){let{selector:x}=this;if(x){let S=this.matchElement(p)?[p]:[],j=Array.from(p.querySelectorAll(x)).filter(q=>this.matchElement(q));return S.concat(j)}else return[]}elementMatched(p){let{selector:x}=this;x&&this.selectorMatched(p,x)}elementUnmatched(p){let x=this.matchesByElement.getKeysForValue(p);for(let S of x)this.selectorUnmatched(p,S)}elementAttributeChanged(p,x){let{selector:S}=this;if(S){let j=this.matchElement(p),q=this.matchesByElement.has(S,p);j&&!q?this.selectorMatched(p,S):!j&&q&&this.selectorUnmatched(p,S)}}selectorMatched(p,x){this.delegate.selectorMatched(p,x,this.details),this.matchesByElement.add(x,p)}selectorUnmatched(p,x){this.delegate.selectorUnmatched(p,x,this.details),this.matchesByElement.delete(x,p)}},Ul=class{constructor(p,x){this.element=p,this.delegate=x,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(S=>this.processMutations(S))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let p of this.knownAttributeNames)this.refreshAttribute(p,null)}processMutations(p){if(this.started)for(let x of p)this.processMutation(x)}processMutation(p){let x=p.attributeName;x&&this.refreshAttribute(x,p.oldValue)}refreshAttribute(p,x){let S=this.delegate.getStringMapKeyForAttribute(p);if(S!=null){this.stringMap.has(p)||this.stringMapKeyAdded(S,p);let j=this.element.getAttribute(p);if(this.stringMap.get(p)!=j&&this.stringMapValueChanged(j,S,x),j==null){let q=this.stringMap.get(p);this.stringMap.delete(p),q&&this.stringMapKeyRemoved(S,p,q)}else this.stringMap.set(p,j)}}stringMapKeyAdded(p,x){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(p,x)}stringMapValueChanged(p,x,S){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(p,x,S)}stringMapKeyRemoved(p,x,S){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(p,x,S)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(p=>p.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Lo=class{constructor(p,x,S){this.attributeObserver=new Po(p,x,this),this.delegate=S,this.tokensByElement=new ni}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(p){this.attributeObserver.pause(p)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(p){this.tokensMatched(this.readTokensForElement(p))}elementAttributeValueChanged(p){let[x,S]=this.refreshTokensForElement(p);this.tokensUnmatched(x),this.tokensMatched(S)}elementUnmatchedAttribute(p){this.tokensUnmatched(this.tokensByElement.getValuesForKey(p))}tokensMatched(p){p.forEach(x=>this.tokenMatched(x))}tokensUnmatched(p){p.forEach(x=>this.tokenUnmatched(x))}tokenMatched(p){this.delegate.tokenMatched(p),this.tokensByElement.add(p.element,p)}tokenUnmatched(p){this.delegate.tokenUnmatched(p),this.tokensByElement.delete(p.element,p)}refreshTokensForElement(p){let x=this.tokensByElement.getValuesForKey(p),S=this.readTokensForElement(p),j=zp(x,S).findIndex(([q,it])=>!Hp(q,it));return j==-1?[[],[]]:[x.slice(j),S.slice(j)]}readTokensForElement(p){let x=this.attributeName,S=p.getAttribute(x)||"";return Rp(S,p,x)}};function Rp(L,p,x){return L.trim().split(/\s+/).filter(S=>S.length).map((S,j)=>({element:p,attributeName:x,content:S,index:j}))}function zp(L,p){let x=Math.max(L.length,p.length);return Array.from({length:x},(S,j)=>[L[j],p[j]])}function Hp(L,p){return L&&p&&L.index==p.index&&L.content==p.content}var Do=class{constructor(p,x,S){this.tokenListObserver=new Lo(p,x,this),this.delegate=S,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(p){let{element:x}=p,{value:S}=this.fetchParseResultForToken(p);S&&(this.fetchValuesByTokenForElement(x).set(p,S),this.delegate.elementMatchedValue(x,S))}tokenUnmatched(p){let{element:x}=p,{value:S}=this.fetchParseResultForToken(p);S&&(this.fetchValuesByTokenForElement(x).delete(p),this.delegate.elementUnmatchedValue(x,S))}fetchParseResultForToken(p){let x=this.parseResultsByToken.get(p);return x||(x=this.parseToken(p),this.parseResultsByToken.set(p,x)),x}fetchValuesByTokenForElement(p){let x=this.valuesByTokenByElement.get(p);return x||(x=new Map,this.valuesByTokenByElement.set(p,x)),x}parseToken(p){try{return{value:this.delegate.parseValueForToken(p)}}catch(x){return{error:x}}}},Kl=class{constructor(p,x){this.context=p,this.delegate=x,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Do(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(p){let x=new Yl(this.context,p);this.bindingsByAction.set(p,x),this.delegate.bindingConnected(x)}disconnectAction(p){let x=this.bindingsByAction.get(p);x&&(this.bindingsByAction.delete(p),this.delegate.bindingDisconnected(x))}disconnectAllActions(){this.bindings.forEach(p=>this.delegate.bindingDisconnected(p,!0)),this.bindingsByAction.clear()}parseValueForToken(p){let x=Vl.forToken(p,this.schema);if(x.identifier==this.identifier)return x}elementMatchedValue(p,x){this.connectAction(x)}elementUnmatchedValue(p,x){this.disconnectAction(x)}},ql=class{constructor(p,x){this.context=p,this.receiver=x,this.stringMapObserver=new Ul(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(p){if(p in this.valueDescriptorMap)return this.valueDescriptorMap[p].name}stringMapKeyAdded(p,x){let S=this.valueDescriptorMap[x];this.hasValue(p)||this.invokeChangedCallback(p,S.writer(this.receiver[p]),S.writer(S.defaultValue))}stringMapValueChanged(p,x,S){let j=this.valueDescriptorNameMap[x];p!==null&&(S===null&&(S=j.writer(j.defaultValue)),this.invokeChangedCallback(x,p,S))}stringMapKeyRemoved(p,x,S){let j=this.valueDescriptorNameMap[p];this.hasValue(p)?this.invokeChangedCallback(p,j.writer(this.receiver[p]),S):this.invokeChangedCallback(p,j.writer(j.defaultValue),S)}invokeChangedCallbacksForDefaultValues(){for(let{key:p,name:x,defaultValue:S,writer:j}of this.valueDescriptors)S!=null&&!this.controller.data.has(p)&&this.invokeChangedCallback(x,j(S),void 0)}invokeChangedCallback(p,x,S){let j=`${p}Changed`,q=this.receiver[j];if(typeof q=="function"){let it=this.valueDescriptorNameMap[p];try{let xt=it.reader(x),Tt=S;S&&(Tt=it.reader(S)),q.call(this.receiver,xt,Tt)}catch(xt){throw xt instanceof TypeError&&(xt.message=`Stimulus Value "${this.context.identifier}.${it.name}" - ${xt.message}`),xt}}}get valueDescriptors(){let{valueDescriptorMap:p}=this;return Object.keys(p).map(x=>p[x])}get valueDescriptorNameMap(){let p={};return Object.keys(this.valueDescriptorMap).forEach(x=>{let S=this.valueDescriptorMap[x];p[S.name]=S}),p}hasValue(p){let x=this.valueDescriptorNameMap[p],S=`has${rn(x.name)}`;return this.receiver[S]}},_l=class{constructor(p,x){this.context=p,this.delegate=x,this.targetsByName=new ni}start(){this.tokenListObserver||(this.tokenListObserver=new Lo(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:p,content:x}){this.scope.containsElement(p)&&this.connectTarget(p,x)}tokenUnmatched({element:p,content:x}){this.disconnectTarget(p,x)}connectTarget(p,x){var S;this.targetsByName.has(x,p)||(this.targetsByName.add(x,p),(S=this.tokenListObserver)===null||S===void 0||S.pause(()=>this.delegate.targetConnected(p,x)))}disconnectTarget(p,x){var S;this.targetsByName.has(x,p)&&(this.targetsByName.delete(x,p),(S=this.tokenListObserver)===null||S===void 0||S.pause(()=>this.delegate.targetDisconnected(p,x)))}disconnectAllTargets(){for(let p of this.targetsByName.keys)for(let x of this.targetsByName.getValuesForKey(p))this.disconnectTarget(x,p)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function nn(L,p){let x=Xc(L);return Array.from(x.reduce((S,j)=>(jp(j,p).forEach(q=>S.add(q)),S),new Set))}function Wp(L,p){return Xc(L).reduce((S,j)=>(S.push(...Xp(j,p)),S),[])}function Xc(L){let p=[];for(;L;)p.push(L),L=Object.getPrototypeOf(L);return p.reverse()}function jp(L,p){let x=L[p];return Array.isArray(x)?x:[]}function Xp(L,p){let x=L[p];return x?Object.keys(x).map(S=>[S,x[S]]):[]}var Zl=class{constructor(p,x){this.started=!1,this.context=p,this.delegate=x,this.outletsByName=new ni,this.outletElementsByName=new ni,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(p=>{this.setupSelectorObserverForOutlet(p),this.setupAttributeObserverForOutlet(p)}),this.started=!0,this.dependentContexts.forEach(p=>p.refresh()))}refresh(){this.selectorObserverMap.forEach(p=>p.refresh()),this.attributeObserverMap.forEach(p=>p.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(p=>p.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(p=>p.stop()),this.attributeObserverMap.clear())}selectorMatched(p,x,{outletName:S}){let j=this.getOutlet(p,S);j&&this.connectOutlet(j,p,S)}selectorUnmatched(p,x,{outletName:S}){let j=this.getOutletFromMap(p,S);j&&this.disconnectOutlet(j,p,S)}selectorMatchElement(p,{outletName:x}){let S=this.selector(x),j=this.hasOutlet(p,x),q=p.matches(`[${this.schema.controllerAttribute}~=${x}]`);return S?j&&q&&p.matches(S):!1}elementMatchedAttribute(p,x){let S=this.getOutletNameFromOutletAttributeName(x);S&&this.updateSelectorObserverForOutlet(S)}elementAttributeValueChanged(p,x){let S=this.getOutletNameFromOutletAttributeName(x);S&&this.updateSelectorObserverForOutlet(S)}elementUnmatchedAttribute(p,x){let S=this.getOutletNameFromOutletAttributeName(x);S&&this.updateSelectorObserverForOutlet(S)}connectOutlet(p,x,S){var j;this.outletElementsByName.has(S,x)||(this.outletsByName.add(S,p),this.outletElementsByName.add(S,x),(j=this.selectorObserverMap.get(S))===null||j===void 0||j.pause(()=>this.delegate.outletConnected(p,x,S)))}disconnectOutlet(p,x,S){var j;this.outletElementsByName.has(S,x)&&(this.outletsByName.delete(S,p),this.outletElementsByName.delete(S,x),(j=this.selectorObserverMap.get(S))===null||j===void 0||j.pause(()=>this.delegate.outletDisconnected(p,x,S)))}disconnectAllOutlets(){for(let p of this.outletElementsByName.keys)for(let x of this.outletElementsByName.getValuesForKey(p))for(let S of this.outletsByName.getValuesForKey(p))this.disconnectOutlet(S,x,p)}updateSelectorObserverForOutlet(p){let x=this.selectorObserverMap.get(p);x&&(x.selector=this.selector(p))}setupSelectorObserverForOutlet(p){let x=this.selector(p),S=new $l(document.body,x,this,{outletName:p});this.selectorObserverMap.set(p,S),S.start()}setupAttributeObserverForOutlet(p){let x=this.attributeNameForOutletName(p),S=new Po(this.scope.element,x,this);this.attributeObserverMap.set(p,S),S.start()}selector(p){return this.scope.outlets.getSelectorForOutletName(p)}attributeNameForOutletName(p){return this.scope.schema.outletAttributeForScope(this.identifier,p)}getOutletNameFromOutletAttributeName(p){return this.outletDefinitions.find(x=>this.attributeNameForOutletName(x)===p)}get outletDependencies(){let p=new ni;return this.router.modules.forEach(x=>{let S=x.definition.controllerConstructor;nn(S,"outlets").forEach(q=>p.add(q,x.identifier))}),p}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let p=this.dependentControllerIdentifiers;return this.router.contexts.filter(x=>p.includes(x.identifier))}hasOutlet(p,x){return!!this.getOutlet(p,x)||!!this.getOutletFromMap(p,x)}getOutlet(p,x){return this.application.getControllerForElementAndIdentifier(p,x)}getOutletFromMap(p,x){return this.outletsByName.getValuesForKey(x).find(S=>S.element===p)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Ql=class{constructor(p,x){this.logDebugActivity=(S,j={})=>{let{identifier:q,controller:it,element:xt}=this;j=Object.assign({identifier:q,controller:it,element:xt},j),this.application.logDebugActivity(this.identifier,S,j)},this.module=p,this.scope=x,this.controller=new p.controllerConstructor(this),this.bindingObserver=new Kl(this,this.dispatcher),this.valueObserver=new ql(this,this.controller),this.targetObserver=new _l(this,this),this.outletObserver=new Zl(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(S){this.handleError(S,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(p){this.handleError(p,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(p){this.handleError(p,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(p,x,S={}){let{identifier:j,controller:q,element:it}=this;S=Object.assign({identifier:j,controller:q,element:it},S),this.application.handleError(p,`Error ${x}`,S)}targetConnected(p,x){this.invokeControllerMethod(`${x}TargetConnected`,p)}targetDisconnected(p,x){this.invokeControllerMethod(`${x}TargetDisconnected`,p)}outletConnected(p,x,S){this.invokeControllerMethod(`${Xl(S)}OutletConnected`,p,x)}outletDisconnected(p,x,S){this.invokeControllerMethod(`${Xl(S)}OutletDisconnected`,p,x)}invokeControllerMethod(p,...x){let S=this.controller;typeof S[p]=="function"&&S[p](...x)}};function Gp(L){return Vp(L,Yp(L))}function Vp(L,p){let x=qp(L),S=$p(L.prototype,p);return Object.defineProperties(x.prototype,S),x}function Yp(L){return nn(L,"blessings").reduce((x,S)=>{let j=S(L);for(let q in j){let it=x[q]||{};x[q]=Object.assign(it,j[q])}return x},{})}function $p(L,p){return Kp(p).reduce((x,S)=>{let j=Up(L,p,S);return j&&Object.assign(x,{[S]:j}),x},{})}function Up(L,p,x){let S=Object.getOwnPropertyDescriptor(L,x);if(!(S&&"value"in S)){let q=Object.getOwnPropertyDescriptor(p,x).value;return S&&(q.get=S.get||q.get,q.set=S.set||q.set),q}}var Kp=typeof Object.getOwnPropertySymbols=="function"?L=>[...Object.getOwnPropertyNames(L),...Object.getOwnPropertySymbols(L)]:Object.getOwnPropertyNames,qp=(()=>{function L(x){function S(){return Reflect.construct(x,arguments,new.target)}return S.prototype=Object.create(x.prototype,{constructor:{value:S}}),Reflect.setPrototypeOf(S,x),S}function p(){let S=L(function(){this.a.call(this)});return S.prototype.a=function(){},new S}try{return p(),L}catch{return S=>class extends S{}}})();function _p(L){return{identifier:L.identifier,controllerConstructor:Gp(L.controllerConstructor)}}var Jl=class{constructor(p,x){this.application=p,this.definition=_p(x),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(p){let x=this.fetchContextForScope(p);this.connectedContexts.add(x),x.connect()}disconnectContextForScope(p){let x=this.contextsByScope.get(p);x&&(this.connectedContexts.delete(x),x.disconnect())}fetchContextForScope(p){let x=this.contextsByScope.get(p);return x||(x=new Ql(this,p),this.contextsByScope.set(p,x)),x}},th=class{constructor(p){this.scope=p}has(p){return this.data.has(this.getDataKey(p))}get(p){return this.getAll(p)[0]}getAll(p){let x=this.data.get(this.getDataKey(p))||"";return Lp(x)}getAttributeName(p){return this.data.getAttributeNameForKey(this.getDataKey(p))}getDataKey(p){return`${p}-class`}get data(){return this.scope.data}},eh=class{constructor(p){this.scope=p}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(p){let x=this.getAttributeNameForKey(p);return this.element.getAttribute(x)}set(p,x){let S=this.getAttributeNameForKey(p);return this.element.setAttribute(S,x),this.get(p)}has(p){let x=this.getAttributeNameForKey(p);return this.element.hasAttribute(x)}delete(p){if(this.has(p)){let x=this.getAttributeNameForKey(p);return this.element.removeAttribute(x),!0}else return!1}getAttributeNameForKey(p){return`data-${this.identifier}-${Wc(p)}`}},ih=class{constructor(p){this.warnedKeysByObject=new WeakMap,this.logger=p}warn(p,x,S){let j=this.warnedKeysByObject.get(p);j||(j=new Set,this.warnedKeysByObject.set(p,j)),j.has(x)||(j.add(x),this.logger.warn(S,p))}};function sh(L,p){return`[${L}~="${p}"]`}var rh=class{constructor(p){this.scope=p}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(p){return this.find(p)!=null}find(...p){return p.reduce((x,S)=>x||this.findTarget(S)||this.findLegacyTarget(S),void 0)}findAll(...p){return p.reduce((x,S)=>[...x,...this.findAllTargets(S),...this.findAllLegacyTargets(S)],[])}findTarget(p){let x=this.getSelectorForTargetName(p);return this.scope.findElement(x)}findAllTargets(p){let x=this.getSelectorForTargetName(p);return this.scope.findAllElements(x)}getSelectorForTargetName(p){let x=this.schema.targetAttributeForScope(this.identifier);return sh(x,p)}findLegacyTarget(p){let x=this.getLegacySelectorForTargetName(p);return this.deprecate(this.scope.findElement(x),p)}findAllLegacyTargets(p){let x=this.getLegacySelectorForTargetName(p);return this.scope.findAllElements(x).map(S=>this.deprecate(S,p))}getLegacySelectorForTargetName(p){let x=`${this.identifier}.${p}`;return sh(this.schema.targetAttribute,x)}deprecate(p,x){if(p){let{identifier:S}=this,j=this.schema.targetAttribute,q=this.schema.targetAttributeForScope(S);this.guide.warn(p,`target:${x}`,`Please replace ${j}="${S}.${x}" with ${q}="${x}". The ${j} attribute is deprecated and will be removed in a future version of Stimulus.`)}return p}get guide(){return this.scope.guide}},nh=class{constructor(p,x){this.scope=p,this.controllerElement=x}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(p){return this.find(p)!=null}find(...p){return p.reduce((x,S)=>x||this.findOutlet(S),void 0)}findAll(...p){return p.reduce((x,S)=>[...x,...this.findAllOutlets(S)],[])}getSelectorForOutletName(p){let x=this.schema.outletAttributeForScope(this.identifier,p);return this.controllerElement.getAttribute(x)}findOutlet(p){let x=this.getSelectorForOutletName(p);if(x)return this.findElement(x,p)}findAllOutlets(p){let x=this.getSelectorForOutletName(p);return x?this.findAllElements(x,p):[]}findElement(p,x){return this.scope.queryElements(p).filter(j=>this.matchesElement(j,p,x))[0]}findAllElements(p,x){return this.scope.queryElements(p).filter(j=>this.matchesElement(j,p,x))}matchesElement(p,x,S){let j=p.getAttribute(this.scope.schema.controllerAttribute)||"";return p.matches(x)&&j.split(" ").includes(S)}},oh=class L{constructor(p,x,S,j){this.targets=new rh(this),this.classes=new th(this),this.data=new eh(this),this.containsElement=q=>q.closest(this.controllerSelector)===this.element,this.schema=p,this.element=x,this.identifier=S,this.guide=new ih(j),this.outlets=new nh(this.documentScope,x)}findElement(p){return this.element.matches(p)?this.element:this.queryElements(p).find(this.containsElement)}findAllElements(p){return[...this.element.matches(p)?[this.element]:[],...this.queryElements(p).filter(this.containsElement)]}queryElements(p){return Array.from(this.element.querySelectorAll(p))}get controllerSelector(){return sh(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new L(this.schema,document.documentElement,this.identifier,this.guide.logger)}},ah=class{constructor(p,x,S){this.element=p,this.schema=x,this.delegate=S,this.valueListObserver=new Do(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(p){let{element:x,content:S}=p;return this.parseValueForElementAndIdentifier(x,S)}parseValueForElementAndIdentifier(p,x){let S=this.fetchScopesByIdentifierForElement(p),j=S.get(x);return j||(j=this.delegate.createScopeForElementAndIdentifier(p,x),S.set(x,j)),j}elementMatchedValue(p,x){let S=(this.scopeReferenceCounts.get(x)||0)+1;this.scopeReferenceCounts.set(x,S),S==1&&this.delegate.scopeConnected(x)}elementUnmatchedValue(p,x){let S=this.scopeReferenceCounts.get(x);S&&(this.scopeReferenceCounts.set(x,S-1),S==1&&this.delegate.scopeDisconnected(x))}fetchScopesByIdentifierForElement(p){let x=this.scopesByIdentifierByElement.get(p);return x||(x=new Map,this.scopesByIdentifierByElement.set(p,x)),x}},lh=class{constructor(p){this.application=p,this.scopeObserver=new ah(this.element,this.schema,this),this.scopesByIdentifier=new ni,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((p,x)=>p.concat(x.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(p){this.unloadIdentifier(p.identifier);let x=new Jl(this.application,p);this.connectModule(x);let S=p.controllerConstructor.afterLoad;S&&S.call(p.controllerConstructor,p.identifier,this.application)}unloadIdentifier(p){let x=this.modulesByIdentifier.get(p);x&&this.disconnectModule(x)}getContextForElementAndIdentifier(p,x){let S=this.modulesByIdentifier.get(x);if(S)return S.contexts.find(j=>j.element==p)}proposeToConnectScopeForElementAndIdentifier(p,x){let S=this.scopeObserver.parseValueForElementAndIdentifier(p,x);S?this.scopeObserver.elementMatchedValue(S.element,S):console.error(`Couldn't find or create scope for identifier: "${x}" and element:`,p)}handleError(p,x,S){this.application.handleError(p,x,S)}createScopeForElementAndIdentifier(p,x){return new oh(this.schema,p,x,this.logger)}scopeConnected(p){this.scopesByIdentifier.add(p.identifier,p);let x=this.modulesByIdentifier.get(p.identifier);x&&x.connectContextForScope(p)}scopeDisconnected(p){this.scopesByIdentifier.delete(p.identifier,p);let x=this.modulesByIdentifier.get(p.identifier);x&&x.disconnectContextForScope(p)}connectModule(p){this.modulesByIdentifier.set(p.identifier,p),this.scopesByIdentifier.getValuesForKey(p.identifier).forEach(S=>p.connectContextForScope(S))}disconnectModule(p){this.modulesByIdentifier.delete(p.identifier),this.scopesByIdentifier.getValuesForKey(p.identifier).forEach(S=>p.disconnectContextForScope(S))}},Zp={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:L=>`data-${L}-target`,outletAttributeForScope:(L,p)=>`data-${L}-${p}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Nc("abcdefghijklmnopqrstuvwxyz".split("").map(L=>[L,L]))),Nc("0123456789".split("").map(L=>[L,L])))};function Nc(L){return L.reduce((p,[x,S])=>Object.assign(Object.assign({},p),{[x]:S}),{})}var Bo=class{constructor(p=document.documentElement,x=Zp){this.logger=console,this.debug=!1,this.logDebugActivity=(S,j,q={})=>{this.debug&&this.logFormattedMessage(S,j,q)},this.element=p,this.schema=x,this.dispatcher=new jl(this),this.router=new lh(this),this.actionDescriptorFilters=Object.assign({},Mp)}static start(p,x){let S=new this(p,x);return S.start(),S}async start(){await Qp(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(p,x){this.load({identifier:p,controllerConstructor:x})}registerActionOption(p,x){this.actionDescriptorFilters[p]=x}load(p,...x){(Array.isArray(p)?p:[p,...x]).forEach(j=>{j.controllerConstructor.shouldLoad&&this.router.loadDefinition(j)})}unload(p,...x){(Array.isArray(p)?p:[p,...x]).forEach(j=>this.router.unloadIdentifier(j))}get controllers(){return this.router.contexts.map(p=>p.controller)}getControllerForElementAndIdentifier(p,x){let S=this.router.getContextForElementAndIdentifier(p,x);return S?S.controller:null}handleError(p,x,S){var j;this.logger.error(`%s

%o

%o`,x,p,S),(j=window.onerror)===null||j===void 0||j.call(window,x,"",0,0,p)}logFormattedMessage(p,x,S={}){S=Object.assign({application:this},S),this.logger.groupCollapsed(`${p} #${x}`),this.logger.log("details:",Object.assign({},S)),this.logger.groupEnd()}};function Qp(){return new Promise(L=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>L()):L()})}function Jp(L){return nn(L,"classes").reduce((x,S)=>Object.assign(x,tg(S)),{})}function tg(L){return{[`${L}Class`]:{get(){let{classes:p}=this;if(p.has(L))return p.get(L);{let x=p.getAttributeName(L);throw new Error(`Missing attribute "${x}"`)}}},[`${L}Classes`]:{get(){return this.classes.getAll(L)}},[`has${rn(L)}Class`]:{get(){return this.classes.has(L)}}}}function eg(L){return nn(L,"outlets").reduce((x,S)=>Object.assign(x,ig(S)),{})}function Ic(L,p,x){return L.application.getControllerForElementAndIdentifier(p,x)}function Fc(L,p,x){let S=Ic(L,p,x);if(S||(L.application.router.proposeToConnectScopeForElementAndIdentifier(p,x),S=Ic(L,p,x),S))return S}function ig(L){let p=Xl(L);return{[`${p}Outlet`]:{get(){let x=this.outlets.find(L),S=this.outlets.getSelectorForOutletName(L);if(x){let j=Fc(this,x,L);if(j)return j;throw new Error(`The provided outlet element is missing an outlet controller "${L}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${L}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${S}".`)}},[`${p}Outlets`]:{get(){let x=this.outlets.findAll(L);return x.length>0?x.map(S=>{let j=Fc(this,S,L);if(j)return j;console.warn(`The provided outlet element is missing an outlet controller "${L}" instance for host controller "${this.identifier}"`,S)}).filter(S=>S):[]}},[`${p}OutletElement`]:{get(){let x=this.outlets.find(L),S=this.outlets.getSelectorForOutletName(L);if(x)return x;throw new Error(`Missing outlet element "${L}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${S}".`)}},[`${p}OutletElements`]:{get(){return this.outlets.findAll(L)}},[`has${rn(p)}Outlet`]:{get(){return this.outlets.has(L)}}}}function sg(L){return nn(L,"targets").reduce((x,S)=>Object.assign(x,rg(S)),{})}function rg(L){return{[`${L}Target`]:{get(){let p=this.targets.find(L);if(p)return p;throw new Error(`Missing target element "${L}" for "${this.identifier}" controller`)}},[`${L}Targets`]:{get(){return this.targets.findAll(L)}},[`has${rn(L)}Target`]:{get(){return this.targets.has(L)}}}}function ng(L){let p=Wp(L,"values"),x={valueDescriptorMap:{get(){return p.reduce((S,j)=>{let q=Gc(j,this.identifier),it=this.data.getAttributeNameForKey(q.key);return Object.assign(S,{[it]:q})},{})}}};return p.reduce((S,j)=>Object.assign(S,og(j)),x)}function og(L,p){let x=Gc(L,p),{key:S,name:j,reader:q,writer:it}=x;return{[j]:{get(){let xt=this.data.get(S);return xt!==null?q(xt):x.defaultValue},set(xt){xt===void 0?this.data.delete(S):this.data.set(S,it(xt))}},[`has${rn(j)}`]:{get(){return this.data.has(S)||x.hasCustomDefaultValue}}}}function Gc([L,p],x){return cg({controller:x,token:L,typeDefinition:p})}function No(L){switch(L){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function sn(L){switch(typeof L){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(L))return"array";if(Object.prototype.toString.call(L)==="[object Object]")return"object"}function ag(L){let{controller:p,token:x,typeObject:S}=L,j=Lc(S.type),q=Lc(S.default),it=j&&q,xt=j&&!q,Tt=!j&&q,$t=No(S.type),pe=sn(L.typeObject.default);if(xt)return $t;if(Tt)return pe;if($t!==pe){let Et=p?`${p}.${x}`:x;throw new Error(`The specified default value for the Stimulus Value "${Et}" must match the defined type "${$t}". The provided default value of "${S.default}" is of type "${pe}".`)}if(it)return $t}function lg(L){let{controller:p,token:x,typeDefinition:S}=L,q=ag({controller:p,token:x,typeObject:S}),it=sn(S),xt=No(S),Tt=q||it||xt;if(Tt)return Tt;let $t=p?`${p}.${S}`:x;throw new Error(`Unknown value type "${$t}" for "${x}" value`)}function hg(L){let p=No(L);if(p)return Rc[p];let x=Gl(L,"default"),S=Gl(L,"type"),j=L;if(x)return j.default;if(S){let{type:q}=j,it=No(q);if(it)return Rc[it]}return L}function cg(L){let{token:p,typeDefinition:x}=L,S=`${Wc(p)}-value`,j=lg(L);return{type:j,key:S,name:hh(S),get defaultValue(){return hg(x)},get hasCustomDefaultValue(){return sn(x)!==void 0},reader:dg[j],writer:zc[j]||zc.default}}var Rc={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},dg={array(L){let p=JSON.parse(L);if(!Array.isArray(p))throw new TypeError(`expected value of type "array" but instead got value "${L}" of type "${sn(p)}"`);return p},boolean(L){return!(L=="0"||String(L).toLowerCase()=="false")},number(L){return Number(L.replace(/_/g,""))},object(L){let p=JSON.parse(L);if(p===null||typeof p!="object"||Array.isArray(p))throw new TypeError(`expected value of type "object" but instead got value "${L}" of type "${sn(p)}"`);return p},string(L){return L}},zc={default:ug,array:Hc,object:Hc};function Hc(L){return JSON.stringify(L)}function ug(L){return`${L}`}var Pe=class{constructor(p){this.context=p}static get shouldLoad(){return!0}static afterLoad(p,x){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(p,{target:x=this.element,detail:S={},prefix:j=this.identifier,bubbles:q=!0,cancelable:it=!0}={}){let xt=j?`${j}:${p}`:p,Tt=new CustomEvent(xt,{detail:S,bubbles:q,cancelable:it});return x.dispatchEvent(Tt),Tt}};Pe.blessings=[Jp,sg,ng,eg];Pe.targets=[];Pe.outlets=[];Pe.values={};var Vc=(L,p)=>{let x=L[p];return typeof x=="function"?x:(...S)=>{}},Yc=(L,p,x)=>{let S=L;return x===!0?S=`${p.identifier}:${L}`:typeof x=="string"&&(S=`${x}:${L}`),S},$c=(L,p,x)=>{let{bubbles:S,cancelable:j,composed:q}=p||{bubbles:!0,cancelable:!0,composed:!0};return p&&Object.assign(x,{originalEvent:p}),new CustomEvent(L,{bubbles:S,cancelable:j,composed:q,detail:x})};var ch=class extends Pe{};ch.debounces=[];var pg={dispatchEvent:!0,eventPrefix:!0,visibleAttribute:"isVisible"},Uc=(L,p={})=>{let x=L,{dispatchEvent:S,eventPrefix:j,visibleAttribute:q}=Object.assign({},pg,p),it=p?.element||x.element;x.intersectionElements||(x.intersectionElements=[]),x.intersectionElements.push(it);let xt=Gt=>{let[W]=Gt;W.isIntersecting?$t(W):it.hasAttribute(q)&&pe(W)},Tt=new IntersectionObserver(xt,p),$t=Gt=>{if(it.setAttribute(q,"true"),Vc(x,"appear").call(x,Gt,Tt),S){let W=Yc("appear",x,j),ke=$c(W,null,{controller:x,entry:Gt,observer:Tt});it.dispatchEvent(ke)}},pe=Gt=>{if(it.removeAttribute(q),Vc(x,"disappear").call(x,Gt,Tt),S){let W=Yc("disappear",x,j),ke=$c(W,null,{controller:x,entry:Gt,observer:Tt});it.dispatchEvent(ke)}},Et=x.disconnect.bind(x),mt=()=>{Le(),Et()},Ut=()=>{Tt.observe(it)},Le=()=>{Tt.unobserve(it)},Ye=()=>x.intersectionElements.filter(Gt=>Gt.hasAttribute(q)).length===0,Ii=()=>x.intersectionElements.filter(Gt=>Gt.hasAttribute(q)).length===1,oi=()=>x.intersectionElements.some(Gt=>Gt.hasAttribute(q)),yt=()=>x.intersectionElements.every(Gt=>Gt.hasAttribute(q));return Object.assign(x,{isVisible:yt,noneVisible:Ye,oneVisible:Ii,atLeastOneVisible:oi,allVisible:yt,disconnect:mt}),Ut(),[Ut,Le]};var dh=class extends Pe{};dh.throttles=[];var Io=class extends Pe{static targets=["chart"];static values={title:String,dates:Array,data:Object};async connect(){let[L,p]=Uc(this,{rootMargin:"100% 0px 100% 0px"});this.unobserve=p}appear(L,p){this._buildChart(),this.unobserve()}_buildChart(){window.Highcharts.chart(this.element,{title:{text:this.titleValue,align:"left"},yAxis:{title:{text:"Difference between versions"},labels:{format:"x{text}"},plotLines:[{color:"red",width:2,value:1}]},xAxis:{accessibility:{rangeDescription:"Time"},type:"datetime"},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},tooltip:{valuePrefix:"x"},series:Object.entries(this.dataValue).map(([L,p])=>({name:L,data:p}))})}};window.Highcharts=on.default;window.Stimulus=Bo.start();on.default.theme={...Kc.options,colors:["#8087E8","#A3EDBA","#F19E53","#6699A1","#E1D369","#87B4E7","#DA6D85","#BBBAC5","#2B908F","#90EE7E","#F45B5B","#7798BF","#AAEEEE","#FF0066","#55BF3B","#DF5353"],chart:{backgroundColor:"transparent"}};on.default.setOptions(on.default.theme);Stimulus.register("chart",Io);})();
